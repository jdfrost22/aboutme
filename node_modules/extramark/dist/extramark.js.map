{"version":3,"file":"extramark.js","sources":["../node_modules/markdown-it/lib/common/entities.js","../node_modules/uc.micro/categories/P/regex.js","../node_modules/mdurl/encode.js","../node_modules/mdurl/decode.js","../node_modules/mdurl/format.js","../node_modules/mdurl/parse.js","../node_modules/mdurl/index.js","../node_modules/uc.micro/properties/Any/regex.js","../node_modules/uc.micro/categories/Cc/regex.js","../node_modules/uc.micro/categories/Cf/regex.js","../node_modules/uc.micro/categories/Z/regex.js","../node_modules/uc.micro/index.js","../node_modules/markdown-it/lib/common/utils.js","../node_modules/markdown-it/lib/helpers/parse_link_label.js","../node_modules/markdown-it/lib/helpers/parse_link_destination.js","../node_modules/markdown-it/lib/helpers/parse_link_title.js","../node_modules/markdown-it/lib/helpers/index.js","../node_modules/markdown-it/lib/renderer.js","../node_modules/markdown-it/lib/ruler.js","../node_modules/markdown-it/lib/rules_core/normalize.js","../node_modules/markdown-it/lib/rules_core/block.js","../node_modules/markdown-it/lib/rules_core/inline.js","../node_modules/markdown-it/lib/rules_core/linkify.js","../node_modules/markdown-it/lib/rules_core/replacements.js","../node_modules/markdown-it/lib/rules_core/smartquotes.js","../node_modules/markdown-it/lib/token.js","../node_modules/markdown-it/lib/rules_core/state_core.js","../node_modules/markdown-it/lib/parser_core.js","../node_modules/markdown-it/lib/rules_block/table.js","../node_modules/markdown-it/lib/rules_block/code.js","../node_modules/markdown-it/lib/rules_block/fence.js","../node_modules/markdown-it/lib/rules_block/blockquote.js","../node_modules/markdown-it/lib/rules_block/hr.js","../node_modules/markdown-it/lib/rules_block/list.js","../node_modules/markdown-it/lib/rules_block/reference.js","../node_modules/markdown-it/lib/rules_block/heading.js","../node_modules/markdown-it/lib/rules_block/lheading.js","../node_modules/markdown-it/lib/common/html_blocks.js","../node_modules/markdown-it/lib/common/html_re.js","../node_modules/markdown-it/lib/rules_block/html_block.js","../node_modules/markdown-it/lib/rules_block/paragraph.js","../node_modules/markdown-it/lib/rules_block/state_block.js","../node_modules/markdown-it/lib/parser_block.js","../node_modules/markdown-it/lib/rules_inline/text.js","../node_modules/markdown-it/lib/rules_inline/newline.js","../node_modules/markdown-it/lib/rules_inline/escape.js","../node_modules/markdown-it/lib/rules_inline/backticks.js","../node_modules/markdown-it/lib/rules_inline/strikethrough.js","../node_modules/markdown-it/lib/rules_inline/emphasis.js","../node_modules/markdown-it/lib/rules_inline/link.js","../node_modules/markdown-it/lib/rules_inline/image.js","../node_modules/markdown-it/lib/rules_inline/autolink.js","../node_modules/markdown-it/lib/rules_inline/html_inline.js","../node_modules/markdown-it/lib/rules_inline/entity.js","../node_modules/markdown-it/lib/rules_inline/balance_pairs.js","../node_modules/markdown-it/lib/rules_inline/text_collapse.js","../node_modules/markdown-it/lib/rules_inline/state_inline.js","../node_modules/markdown-it/lib/parser_inline.js","../node_modules/linkify-it/lib/re.js","../node_modules/linkify-it/index.js","../node_modules/punycode/punycode.es6.js","../node_modules/markdown-it/lib/presets/default.js","../node_modules/markdown-it/lib/presets/zero.js","../node_modules/markdown-it/lib/presets/commonmark.js","../node_modules/markdown-it/lib/index.js","../node_modules/markdown-it/index.js","../node_modules/markdown-it-anchor/dist/markdownItAnchor.mjs","../node_modules/markdown-it-deflist/index.js","../node_modules/markdown-it-sup/index.js","../node_modules/markdown-it-sub/index.js","../node_modules/markdown-it-abbr/index.js","../node_modules/markdown-it-footnote/index.js","../node_modules/critic-markup/src/syntax/addition.js","../node_modules/critic-markup/src/syntax/deletion.js","../node_modules/critic-markup/src/syntax/substitution.js","../node_modules/critic-markup/src/syntax/comment.js","../node_modules/critic-markup/src/syntax/highlight.js","../node_modules/critic-markup/src/index.js","../src/syntax/critic.js","../src/index.js"],"sourcesContent":["// HTML5 entities map: { name -> utf16string }\n//\n'use strict';\n\n/*eslint quotes:0*/\nmodule.exports = require('entities/lib/maps/entities.json');\n","module.exports=/[!-#%-\\*,-\\/:;\\?@\\[-\\]_\\{\\}\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4E\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD803[\\uDF55-\\uDF59]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC8\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDC4B-\\uDC4F\\uDC5B\\uDC5D\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDE60-\\uDE6C\\uDF3C-\\uDF3E]|\\uD806[\\uDC3B\\uDE3F-\\uDE46\\uDE9A-\\uDE9C\\uDE9E-\\uDEA2]|\\uD807[\\uDC41-\\uDC45\\uDC70\\uDC71\\uDEF7\\uDEF8]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD81B[\\uDE97-\\uDE9A]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]|\\uD83A[\\uDD5E\\uDD5F]/","\n'use strict';\n\n\nvar encodeCache = {};\n\n\n// Create a lookup array where anything but characters in `chars` string\n// and alphanumeric chars is percent-encoded.\n//\nfunction getEncodeCache(exclude) {\n  var i, ch, cache = encodeCache[exclude];\n  if (cache) { return cache; }\n\n  cache = encodeCache[exclude] = [];\n\n  for (i = 0; i < 128; i++) {\n    ch = String.fromCharCode(i);\n\n    if (/^[0-9a-z]$/i.test(ch)) {\n      // always allow unencoded alphanumeric characters\n      cache.push(ch);\n    } else {\n      cache.push('%' + ('0' + i.toString(16).toUpperCase()).slice(-2));\n    }\n  }\n\n  for (i = 0; i < exclude.length; i++) {\n    cache[exclude.charCodeAt(i)] = exclude[i];\n  }\n\n  return cache;\n}\n\n\n// Encode unsafe characters with percent-encoding, skipping already\n// encoded sequences.\n//\n//  - string       - string to encode\n//  - exclude      - list of characters to ignore (in addition to a-zA-Z0-9)\n//  - keepEscaped  - don't encode '%' in a correct escape sequence (default: true)\n//\nfunction encode(string, exclude, keepEscaped) {\n  var i, l, code, nextCode, cache,\n      result = '';\n\n  if (typeof exclude !== 'string') {\n    // encode(string, keepEscaped)\n    keepEscaped  = exclude;\n    exclude = encode.defaultChars;\n  }\n\n  if (typeof keepEscaped === 'undefined') {\n    keepEscaped = true;\n  }\n\n  cache = getEncodeCache(exclude);\n\n  for (i = 0, l = string.length; i < l; i++) {\n    code = string.charCodeAt(i);\n\n    if (keepEscaped && code === 0x25 /* % */ && i + 2 < l) {\n      if (/^[0-9a-f]{2}$/i.test(string.slice(i + 1, i + 3))) {\n        result += string.slice(i, i + 3);\n        i += 2;\n        continue;\n      }\n    }\n\n    if (code < 128) {\n      result += cache[code];\n      continue;\n    }\n\n    if (code >= 0xD800 && code <= 0xDFFF) {\n      if (code >= 0xD800 && code <= 0xDBFF && i + 1 < l) {\n        nextCode = string.charCodeAt(i + 1);\n        if (nextCode >= 0xDC00 && nextCode <= 0xDFFF) {\n          result += encodeURIComponent(string[i] + string[i + 1]);\n          i++;\n          continue;\n        }\n      }\n      result += '%EF%BF%BD';\n      continue;\n    }\n\n    result += encodeURIComponent(string[i]);\n  }\n\n  return result;\n}\n\nencode.defaultChars   = \";/?:@&=+$,-_.!~*'()#\";\nencode.componentChars = \"-_.!~*'()\";\n\n\nmodule.exports = encode;\n","\n'use strict';\n\n\n/* eslint-disable no-bitwise */\n\nvar decodeCache = {};\n\nfunction getDecodeCache(exclude) {\n  var i, ch, cache = decodeCache[exclude];\n  if (cache) { return cache; }\n\n  cache = decodeCache[exclude] = [];\n\n  for (i = 0; i < 128; i++) {\n    ch = String.fromCharCode(i);\n    cache.push(ch);\n  }\n\n  for (i = 0; i < exclude.length; i++) {\n    ch = exclude.charCodeAt(i);\n    cache[ch] = '%' + ('0' + ch.toString(16).toUpperCase()).slice(-2);\n  }\n\n  return cache;\n}\n\n\n// Decode percent-encoded string.\n//\nfunction decode(string, exclude) {\n  var cache;\n\n  if (typeof exclude !== 'string') {\n    exclude = decode.defaultChars;\n  }\n\n  cache = getDecodeCache(exclude);\n\n  return string.replace(/(%[a-f0-9]{2})+/gi, function(seq) {\n    var i, l, b1, b2, b3, b4, chr,\n        result = '';\n\n    for (i = 0, l = seq.length; i < l; i += 3) {\n      b1 = parseInt(seq.slice(i + 1, i + 3), 16);\n\n      if (b1 < 0x80) {\n        result += cache[b1];\n        continue;\n      }\n\n      if ((b1 & 0xE0) === 0xC0 && (i + 3 < l)) {\n        // 110xxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n\n        if ((b2 & 0xC0) === 0x80) {\n          chr = ((b1 << 6) & 0x7C0) | (b2 & 0x3F);\n\n          if (chr < 0x80) {\n            result += '\\ufffd\\ufffd';\n          } else {\n            result += String.fromCharCode(chr);\n          }\n\n          i += 3;\n          continue;\n        }\n      }\n\n      if ((b1 & 0xF0) === 0xE0 && (i + 6 < l)) {\n        // 1110xxxx 10xxxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n        b3 = parseInt(seq.slice(i + 7, i + 9), 16);\n\n        if ((b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80) {\n          chr = ((b1 << 12) & 0xF000) | ((b2 << 6) & 0xFC0) | (b3 & 0x3F);\n\n          if (chr < 0x800 || (chr >= 0xD800 && chr <= 0xDFFF)) {\n            result += '\\ufffd\\ufffd\\ufffd';\n          } else {\n            result += String.fromCharCode(chr);\n          }\n\n          i += 6;\n          continue;\n        }\n      }\n\n      if ((b1 & 0xF8) === 0xF0 && (i + 9 < l)) {\n        // 111110xx 10xxxxxx 10xxxxxx 10xxxxxx\n        b2 = parseInt(seq.slice(i + 4, i + 6), 16);\n        b3 = parseInt(seq.slice(i + 7, i + 9), 16);\n        b4 = parseInt(seq.slice(i + 10, i + 12), 16);\n\n        if ((b2 & 0xC0) === 0x80 && (b3 & 0xC0) === 0x80 && (b4 & 0xC0) === 0x80) {\n          chr = ((b1 << 18) & 0x1C0000) | ((b2 << 12) & 0x3F000) | ((b3 << 6) & 0xFC0) | (b4 & 0x3F);\n\n          if (chr < 0x10000 || chr > 0x10FFFF) {\n            result += '\\ufffd\\ufffd\\ufffd\\ufffd';\n          } else {\n            chr -= 0x10000;\n            result += String.fromCharCode(0xD800 + (chr >> 10), 0xDC00 + (chr & 0x3FF));\n          }\n\n          i += 9;\n          continue;\n        }\n      }\n\n      result += '\\ufffd';\n    }\n\n    return result;\n  });\n}\n\n\ndecode.defaultChars   = ';/?:@&=+$,#';\ndecode.componentChars = '';\n\n\nmodule.exports = decode;\n","\n'use strict';\n\n\nmodule.exports = function format(url) {\n  var result = '';\n\n  result += url.protocol || '';\n  result += url.slashes ? '//' : '';\n  result += url.auth ? url.auth + '@' : '';\n\n  if (url.hostname && url.hostname.indexOf(':') !== -1) {\n    // ipv6 address\n    result += '[' + url.hostname + ']';\n  } else {\n    result += url.hostname || '';\n  }\n\n  result += url.port ? ':' + url.port : '';\n  result += url.pathname || '';\n  result += url.search || '';\n  result += url.hash || '';\n\n  return result;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n//\n// Changes from joyent/node:\n//\n// 1. No leading slash in paths,\n//    e.g. in `url.parse('http://foo?bar')` pathname is ``, not `/`\n//\n// 2. Backslashes are not replaced with slashes,\n//    so `http:\\\\example.org\\` is treated like a relative path\n//\n// 3. Trailing colon is treated like a part of the path,\n//    i.e. in `http://example.org:foo` pathname is `:foo`\n//\n// 4. Nothing is URL-encoded in the resulting object,\n//    (in joyent/node some chars in auth and paths are encoded)\n//\n// 5. `url.parse()` does not have `parseQueryString` argument\n//\n// 6. Removed extraneous result properties: `host`, `path`, `query`, etc.,\n//    which can be constructed using other parts of the url.\n//\n\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.pathname = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = [ '<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t' ],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = [ '{', '}', '|', '\\\\', '^', '`' ].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = [ '\\'' ].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = [ '%', '/', '?', ';', '#' ].concat(autoEscape),\n    hostEndingChars = [ '/', '?', '#' ],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    /* eslint-disable no-script-url */\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    };\n    /* eslint-enable no-script-url */\n\nfunction urlParse(url, slashesDenoteHost) {\n  if (url && url instanceof Url) { return url; }\n\n  var u = new Url();\n  u.parse(url, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, slashesDenoteHost) {\n  var i, l, lowerProto, hec, slashes,\n      rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    lowerProto = proto.toLowerCase();\n    this.protocol = proto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (i = 0; i < hostEndingChars.length; i++) {\n      hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {\n        hostEnd = hec;\n      }\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = auth;\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (i = 0; i < nonHostChars.length; i++) {\n      hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd)) {\n        hostEnd = hec;\n      }\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1) {\n      hostEnd = rest.length;\n    }\n\n    if (rest[hostEnd - 1] === ':') { hostEnd--; }\n    var host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost(host);\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) { continue; }\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    }\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n    }\n  }\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    rest = rest.slice(0, qm);\n  }\n  if (rest) { this.pathname = rest; }\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '';\n  }\n\n  return this;\n};\n\nUrl.prototype.parseHost = function(host) {\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) { this.hostname = host; }\n};\n\nmodule.exports = urlParse;\n","'use strict';\n\n\nmodule.exports.encode = require('./encode');\nmodule.exports.decode = require('./decode');\nmodule.exports.format = require('./format');\nmodule.exports.parse  = require('./parse');\n","module.exports=/[\\0-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/","module.exports=/[\\0-\\x1F\\x7F-\\x9F]/","module.exports=/[\\xAD\\u0600-\\u0605\\u061C\\u06DD\\u070F\\u08E2\\u180E\\u200B-\\u200F\\u202A-\\u202E\\u2060-\\u2064\\u2066-\\u206F\\uFEFF\\uFFF9-\\uFFFB]|\\uD804[\\uDCBD\\uDCCD]|\\uD82F[\\uDCA0-\\uDCA3]|\\uD834[\\uDD73-\\uDD7A]|\\uDB40[\\uDC01\\uDC20-\\uDC7F]/","module.exports=/[ \\xA0\\u1680\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000]/","'use strict';\n\nexports.Any = require('./properties/Any/regex');\nexports.Cc  = require('./categories/Cc/regex');\nexports.Cf  = require('./categories/Cf/regex');\nexports.P   = require('./categories/P/regex');\nexports.Z   = require('./categories/Z/regex');\n","// Utilities\n//\n'use strict';\n\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\n\nfunction isString(obj) { return _class(obj) === '[object String]'; }\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction has(object, key) {\n  return _hasOwnProperty.call(object, key);\n}\n\n// Merge objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = Array.prototype.slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    if (typeof source !== 'object') {\n      throw new TypeError(source + 'must be object');\n    }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\n// Remove element from array and put another array at those position.\n// Useful for some operations with tokens\nfunction arrayReplaceAt(src, pos, newElements) {\n  return [].concat(src.slice(0, pos), newElements, src.slice(pos + 1));\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isValidEntityCode(c) {\n  /*eslint no-bitwise:0*/\n  // broken sequence\n  if (c >= 0xD800 && c <= 0xDFFF) { return false; }\n  // never used\n  if (c >= 0xFDD0 && c <= 0xFDEF) { return false; }\n  if ((c & 0xFFFF) === 0xFFFF || (c & 0xFFFF) === 0xFFFE) { return false; }\n  // control codes\n  if (c >= 0x00 && c <= 0x08) { return false; }\n  if (c === 0x0B) { return false; }\n  if (c >= 0x0E && c <= 0x1F) { return false; }\n  if (c >= 0x7F && c <= 0x9F) { return false; }\n  // out of range\n  if (c > 0x10FFFF) { return false; }\n  return true;\n}\n\nfunction fromCodePoint(c) {\n  /*eslint no-bitwise:0*/\n  if (c > 0xffff) {\n    c -= 0x10000;\n    var surrogate1 = 0xd800 + (c >> 10),\n        surrogate2 = 0xdc00 + (c & 0x3ff);\n\n    return String.fromCharCode(surrogate1, surrogate2);\n  }\n  return String.fromCharCode(c);\n}\n\n\nvar UNESCAPE_MD_RE  = /\\\\([!\"#$%&'()*+,\\-.\\/:;<=>?@[\\\\\\]^_`{|}~])/g;\nvar ENTITY_RE       = /&([a-z#][a-z0-9]{1,31});/gi;\nvar UNESCAPE_ALL_RE = new RegExp(UNESCAPE_MD_RE.source + '|' + ENTITY_RE.source, 'gi');\n\nvar DIGITAL_ENTITY_TEST_RE = /^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;\n\nvar entities = require('./entities');\n\nfunction replaceEntityPattern(match, name) {\n  var code = 0;\n\n  if (has(entities, name)) {\n    return entities[name];\n  }\n\n  if (name.charCodeAt(0) === 0x23/* # */ && DIGITAL_ENTITY_TEST_RE.test(name)) {\n    code = name[1].toLowerCase() === 'x' ?\n      parseInt(name.slice(2), 16) : parseInt(name.slice(1), 10);\n\n    if (isValidEntityCode(code)) {\n      return fromCodePoint(code);\n    }\n  }\n\n  return match;\n}\n\n/*function replaceEntities(str) {\n  if (str.indexOf('&') < 0) { return str; }\n\n  return str.replace(ENTITY_RE, replaceEntityPattern);\n}*/\n\nfunction unescapeMd(str) {\n  if (str.indexOf('\\\\') < 0) { return str; }\n  return str.replace(UNESCAPE_MD_RE, '$1');\n}\n\nfunction unescapeAll(str) {\n  if (str.indexOf('\\\\') < 0 && str.indexOf('&') < 0) { return str; }\n\n  return str.replace(UNESCAPE_ALL_RE, function (match, escaped, entity) {\n    if (escaped) { return escaped; }\n    return replaceEntityPattern(match, entity);\n  });\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar HTML_ESCAPE_TEST_RE = /[&<>\"]/;\nvar HTML_ESCAPE_REPLACE_RE = /[&<>\"]/g;\nvar HTML_REPLACEMENTS = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;'\n};\n\nfunction replaceUnsafeChar(ch) {\n  return HTML_REPLACEMENTS[ch];\n}\n\nfunction escapeHtml(str) {\n  if (HTML_ESCAPE_TEST_RE.test(str)) {\n    return str.replace(HTML_ESCAPE_REPLACE_RE, replaceUnsafeChar);\n  }\n  return str;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar REGEXP_ESCAPE_RE = /[.?*+^$[\\]\\\\(){}|-]/g;\n\nfunction escapeRE(str) {\n  return str.replace(REGEXP_ESCAPE_RE, '\\\\$&');\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction isSpace(code) {\n  switch (code) {\n    case 0x09:\n    case 0x20:\n      return true;\n  }\n  return false;\n}\n\n// Zs (unicode class) || [\\t\\f\\v\\r\\n]\nfunction isWhiteSpace(code) {\n  if (code >= 0x2000 && code <= 0x200A) { return true; }\n  switch (code) {\n    case 0x09: // \\t\n    case 0x0A: // \\n\n    case 0x0B: // \\v\n    case 0x0C: // \\f\n    case 0x0D: // \\r\n    case 0x20:\n    case 0xA0:\n    case 0x1680:\n    case 0x202F:\n    case 0x205F:\n    case 0x3000:\n      return true;\n  }\n  return false;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n/*eslint-disable max-len*/\nvar UNICODE_PUNCT_RE = require('uc.micro/categories/P/regex');\n\n// Currently without astral characters support.\nfunction isPunctChar(ch) {\n  return UNICODE_PUNCT_RE.test(ch);\n}\n\n\n// Markdown ASCII punctuation characters.\n//\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\n//\n// Don't confuse with unicode punctuation !!! It lacks some chars in ascii range.\n//\nfunction isMdAsciiPunct(ch) {\n  switch (ch) {\n    case 0x21/* ! */:\n    case 0x22/* \" */:\n    case 0x23/* # */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x26/* & */:\n    case 0x27/* ' */:\n    case 0x28/* ( */:\n    case 0x29/* ) */:\n    case 0x2A/* * */:\n    case 0x2B/* + */:\n    case 0x2C/* , */:\n    case 0x2D/* - */:\n    case 0x2E/* . */:\n    case 0x2F/* / */:\n    case 0x3A/* : */:\n    case 0x3B/* ; */:\n    case 0x3C/* < */:\n    case 0x3D/* = */:\n    case 0x3E/* > */:\n    case 0x3F/* ? */:\n    case 0x40/* @ */:\n    case 0x5B/* [ */:\n    case 0x5C/* \\ */:\n    case 0x5D/* ] */:\n    case 0x5E/* ^ */:\n    case 0x5F/* _ */:\n    case 0x60/* ` */:\n    case 0x7B/* { */:\n    case 0x7C/* | */:\n    case 0x7D/* } */:\n    case 0x7E/* ~ */:\n      return true;\n    default:\n      return false;\n  }\n}\n\n// Hepler to unify [reference labels].\n//\nfunction normalizeReference(str) {\n  // Trim and collapse whitespace\n  //\n  str = str.trim().replace(/\\s+/g, ' ');\n\n  // In node v10 'ẞ'.toLowerCase() === 'Ṿ', which is presumed to be a bug\n  // fixed in v12 (couldn't find any details).\n  //\n  // So treat this one as a special case\n  // (remove this when node v10 is no longer supported).\n  //\n  if ('ẞ'.toLowerCase() === 'Ṿ') {\n    str = str.replace(/ẞ/g, 'ß');\n  }\n\n  // .toLowerCase().toUpperCase() should get rid of all differences\n  // between letter variants.\n  //\n  // Simple .toLowerCase() doesn't normalize 125 code points correctly,\n  // and .toUpperCase doesn't normalize 6 of them (list of exceptions:\n  // İ, ϴ, ẞ, Ω, K, Å - those are already uppercased, but have differently\n  // uppercased versions).\n  //\n  // Here's an example showing how it happens. Lets take greek letter omega:\n  // uppercase U+0398 (Θ), U+03f4 (ϴ) and lowercase U+03b8 (θ), U+03d1 (ϑ)\n  //\n  // Unicode entries:\n  // 0398;GREEK CAPITAL LETTER THETA;Lu;0;L;;;;;N;;;;03B8;\n  // 03B8;GREEK SMALL LETTER THETA;Ll;0;L;;;;;N;;;0398;;0398\n  // 03D1;GREEK THETA SYMBOL;Ll;0;L;<compat> 03B8;;;;N;GREEK SMALL LETTER SCRIPT THETA;;0398;;0398\n  // 03F4;GREEK CAPITAL THETA SYMBOL;Lu;0;L;<compat> 0398;;;;N;;;;03B8;\n  //\n  // Case-insensitive comparison should treat all of them as equivalent.\n  //\n  // But .toLowerCase() doesn't change ϑ (it's already lowercase),\n  // and .toUpperCase() doesn't change ϴ (already uppercase).\n  //\n  // Applying first lower then upper case normalizes any character:\n  // '\\u0398\\u03f4\\u03b8\\u03d1'.toLowerCase().toUpperCase() === '\\u0398\\u0398\\u0398\\u0398'\n  //\n  // Note: this is equivalent to unicode case folding; unicode normalization\n  // is a different step that is not required here.\n  //\n  // Final result should be uppercased, because it's later stored in an object\n  // (this avoid a conflict with Object.prototype members,\n  // most notably, `__proto__`)\n  //\n  return str.toLowerCase().toUpperCase();\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n// Re-export libraries commonly used in both markdown-it and its plugins,\n// so plugins won't have to depend on them explicitly, which reduces their\n// bundled size (e.g. a browser build).\n//\nexports.lib                 = {};\nexports.lib.mdurl           = require('mdurl');\nexports.lib.ucmicro         = require('uc.micro');\n\nexports.assign              = assign;\nexports.isString            = isString;\nexports.has                 = has;\nexports.unescapeMd          = unescapeMd;\nexports.unescapeAll         = unescapeAll;\nexports.isValidEntityCode   = isValidEntityCode;\nexports.fromCodePoint       = fromCodePoint;\n// exports.replaceEntities     = replaceEntities;\nexports.escapeHtml          = escapeHtml;\nexports.arrayReplaceAt      = arrayReplaceAt;\nexports.isSpace             = isSpace;\nexports.isWhiteSpace        = isWhiteSpace;\nexports.isMdAsciiPunct      = isMdAsciiPunct;\nexports.isPunctChar         = isPunctChar;\nexports.escapeRE            = escapeRE;\nexports.normalizeReference  = normalizeReference;\n","// Parse link label\n//\n// this function assumes that first character (\"[\") already matches;\n// returns the end of the label\n//\n'use strict';\n\nmodule.exports = function parseLinkLabel(state, start, disableNested) {\n  var level, found, marker, prevPos,\n      labelEnd = -1,\n      max = state.posMax,\n      oldPos = state.pos;\n\n  state.pos = start + 1;\n  level = 1;\n\n  while (state.pos < max) {\n    marker = state.src.charCodeAt(state.pos);\n    if (marker === 0x5D /* ] */) {\n      level--;\n      if (level === 0) {\n        found = true;\n        break;\n      }\n    }\n\n    prevPos = state.pos;\n    state.md.inline.skipToken(state);\n    if (marker === 0x5B /* [ */) {\n      if (prevPos === state.pos - 1) {\n        // increase level if we find text `[`, which is not a part of any token\n        level++;\n      } else if (disableNested) {\n        state.pos = oldPos;\n        return -1;\n      }\n    }\n  }\n\n  if (found) {\n    labelEnd = state.pos;\n  }\n\n  // restore old state\n  state.pos = oldPos;\n\n  return labelEnd;\n};\n","// Parse link destination\n//\n'use strict';\n\n\nvar unescapeAll = require('../common/utils').unescapeAll;\n\n\nmodule.exports = function parseLinkDestination(str, pos, max) {\n  var code, level,\n      lines = 0,\n      start = pos,\n      result = {\n        ok: false,\n        pos: 0,\n        lines: 0,\n        str: ''\n      };\n\n  if (str.charCodeAt(pos) === 0x3C /* < */) {\n    pos++;\n    while (pos < max) {\n      code = str.charCodeAt(pos);\n      if (code === 0x0A /* \\n */) { return result; }\n      if (code === 0x3E /* > */) {\n        result.pos = pos + 1;\n        result.str = unescapeAll(str.slice(start + 1, pos));\n        result.ok = true;\n        return result;\n      }\n      if (code === 0x5C /* \\ */ && pos + 1 < max) {\n        pos += 2;\n        continue;\n      }\n\n      pos++;\n    }\n\n    // no closing '>'\n    return result;\n  }\n\n  // this should be ... } else { ... branch\n\n  level = 0;\n  while (pos < max) {\n    code = str.charCodeAt(pos);\n\n    if (code === 0x20) { break; }\n\n    // ascii control characters\n    if (code < 0x20 || code === 0x7F) { break; }\n\n    if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos += 2;\n      continue;\n    }\n\n    if (code === 0x28 /* ( */) {\n      level++;\n    }\n\n    if (code === 0x29 /* ) */) {\n      if (level === 0) { break; }\n      level--;\n    }\n\n    pos++;\n  }\n\n  if (start === pos) { return result; }\n  if (level !== 0) { return result; }\n\n  result.str = unescapeAll(str.slice(start, pos));\n  result.lines = lines;\n  result.pos = pos;\n  result.ok = true;\n  return result;\n};\n","// Parse link title\n//\n'use strict';\n\n\nvar unescapeAll = require('../common/utils').unescapeAll;\n\n\nmodule.exports = function parseLinkTitle(str, pos, max) {\n  var code,\n      marker,\n      lines = 0,\n      start = pos,\n      result = {\n        ok: false,\n        pos: 0,\n        lines: 0,\n        str: ''\n      };\n\n  if (pos >= max) { return result; }\n\n  marker = str.charCodeAt(pos);\n\n  if (marker !== 0x22 /* \" */ && marker !== 0x27 /* ' */ && marker !== 0x28 /* ( */) { return result; }\n\n  pos++;\n\n  // if opening marker is \"(\", switch it to closing marker \")\"\n  if (marker === 0x28) { marker = 0x29; }\n\n  while (pos < max) {\n    code = str.charCodeAt(pos);\n    if (code === marker) {\n      result.pos = pos + 1;\n      result.lines = lines;\n      result.str = unescapeAll(str.slice(start + 1, pos));\n      result.ok = true;\n      return result;\n    } else if (code === 0x0A) {\n      lines++;\n    } else if (code === 0x5C /* \\ */ && pos + 1 < max) {\n      pos++;\n      if (str.charCodeAt(pos) === 0x0A) {\n        lines++;\n      }\n    }\n\n    pos++;\n  }\n\n  return result;\n};\n","// Just a shortcut for bulk export\n'use strict';\n\n\nexports.parseLinkLabel       = require('./parse_link_label');\nexports.parseLinkDestination = require('./parse_link_destination');\nexports.parseLinkTitle       = require('./parse_link_title');\n","/**\n * class Renderer\n *\n * Generates HTML from parsed token stream. Each instance has independent\n * copy of rules. Those can be rewritten with ease. Also, you can add new\n * rules if you create plugin and adds new token types.\n **/\n'use strict';\n\n\nvar assign          = require('./common/utils').assign;\nvar unescapeAll     = require('./common/utils').unescapeAll;\nvar escapeHtml      = require('./common/utils').escapeHtml;\n\n\n////////////////////////////////////////////////////////////////////////////////\n\nvar default_rules = {};\n\n\ndefault_rules.code_inline = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  return  '<code' + slf.renderAttrs(token) + '>' +\n          escapeHtml(tokens[idx].content) +\n          '</code>';\n};\n\n\ndefault_rules.code_block = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  return  '<pre' + slf.renderAttrs(token) + '><code>' +\n          escapeHtml(tokens[idx].content) +\n          '</code></pre>\\n';\n};\n\n\ndefault_rules.fence = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx],\n      info = token.info ? unescapeAll(token.info).trim() : '',\n      langName = '',\n      highlighted, i, tmpAttrs, tmpToken;\n\n  if (info) {\n    langName = info.split(/\\s+/g)[0];\n  }\n\n  if (options.highlight) {\n    highlighted = options.highlight(token.content, langName) || escapeHtml(token.content);\n  } else {\n    highlighted = escapeHtml(token.content);\n  }\n\n  if (highlighted.indexOf('<pre') === 0) {\n    return highlighted + '\\n';\n  }\n\n  // If language exists, inject class gently, without modifying original token.\n  // May be, one day we will add .clone() for token and simplify this part, but\n  // now we prefer to keep things local.\n  if (info) {\n    i        = token.attrIndex('class');\n    tmpAttrs = token.attrs ? token.attrs.slice() : [];\n\n    if (i < 0) {\n      tmpAttrs.push([ 'class', options.langPrefix + langName ]);\n    } else {\n      tmpAttrs[i][1] += ' ' + options.langPrefix + langName;\n    }\n\n    // Fake token just to render attributes\n    tmpToken = {\n      attrs: tmpAttrs\n    };\n\n    return  '<pre><code' + slf.renderAttrs(tmpToken) + '>'\n          + highlighted\n          + '</code></pre>\\n';\n  }\n\n\n  return  '<pre><code' + slf.renderAttrs(token) + '>'\n        + highlighted\n        + '</code></pre>\\n';\n};\n\n\ndefault_rules.image = function (tokens, idx, options, env, slf) {\n  var token = tokens[idx];\n\n  // \"alt\" attr MUST be set, even if empty. Because it's mandatory and\n  // should be placed on proper position for tests.\n  //\n  // Replace content with actual value\n\n  token.attrs[token.attrIndex('alt')][1] =\n    slf.renderInlineAsText(token.children, options, env);\n\n  return slf.renderToken(tokens, idx, options);\n};\n\n\ndefault_rules.hardbreak = function (tokens, idx, options /*, env */) {\n  return options.xhtmlOut ? '<br />\\n' : '<br>\\n';\n};\ndefault_rules.softbreak = function (tokens, idx, options /*, env */) {\n  return options.breaks ? (options.xhtmlOut ? '<br />\\n' : '<br>\\n') : '\\n';\n};\n\n\ndefault_rules.text = function (tokens, idx /*, options, env */) {\n  return escapeHtml(tokens[idx].content);\n};\n\n\ndefault_rules.html_block = function (tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\ndefault_rules.html_inline = function (tokens, idx /*, options, env */) {\n  return tokens[idx].content;\n};\n\n\n/**\n * new Renderer()\n *\n * Creates new [[Renderer]] instance and fill [[Renderer#rules]] with defaults.\n **/\nfunction Renderer() {\n\n  /**\n   * Renderer#rules -> Object\n   *\n   * Contains render rules for tokens. Can be updated and extended.\n   *\n   * ##### Example\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   *\n   * md.renderer.rules.strong_open  = function () { return '<b>'; };\n   * md.renderer.rules.strong_close = function () { return '</b>'; };\n   *\n   * var result = md.renderInline(...);\n   * ```\n   *\n   * Each rule is called as independent static function with fixed signature:\n   *\n   * ```javascript\n   * function my_token_render(tokens, idx, options, env, renderer) {\n   *   // ...\n   *   return renderedHTML;\n   * }\n   * ```\n   *\n   * See [source code](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.js)\n   * for more details and examples.\n   **/\n  this.rules = assign({}, default_rules);\n}\n\n\n/**\n * Renderer.renderAttrs(token) -> String\n *\n * Render token attributes to string.\n **/\nRenderer.prototype.renderAttrs = function renderAttrs(token) {\n  var i, l, result;\n\n  if (!token.attrs) { return ''; }\n\n  result = '';\n\n  for (i = 0, l = token.attrs.length; i < l; i++) {\n    result += ' ' + escapeHtml(token.attrs[i][0]) + '=\"' + escapeHtml(token.attrs[i][1]) + '\"';\n  }\n\n  return result;\n};\n\n\n/**\n * Renderer.renderToken(tokens, idx, options) -> String\n * - tokens (Array): list of tokens\n * - idx (Numbed): token index to render\n * - options (Object): params of parser instance\n *\n * Default token renderer. Can be overriden by custom function\n * in [[Renderer#rules]].\n **/\nRenderer.prototype.renderToken = function renderToken(tokens, idx, options) {\n  var nextToken,\n      result = '',\n      needLf = false,\n      token = tokens[idx];\n\n  // Tight list paragraphs\n  if (token.hidden) {\n    return '';\n  }\n\n  // Insert a newline between hidden paragraph and subsequent opening\n  // block-level tag.\n  //\n  // For example, here we should insert a newline before blockquote:\n  //  - a\n  //    >\n  //\n  if (token.block && token.nesting !== -1 && idx && tokens[idx - 1].hidden) {\n    result += '\\n';\n  }\n\n  // Add token name, e.g. `<img`\n  result += (token.nesting === -1 ? '</' : '<') + token.tag;\n\n  // Encode attributes, e.g. `<img src=\"foo\"`\n  result += this.renderAttrs(token);\n\n  // Add a slash for self-closing tags, e.g. `<img src=\"foo\" /`\n  if (token.nesting === 0 && options.xhtmlOut) {\n    result += ' /';\n  }\n\n  // Check if we need to add a newline after this tag\n  if (token.block) {\n    needLf = true;\n\n    if (token.nesting === 1) {\n      if (idx + 1 < tokens.length) {\n        nextToken = tokens[idx + 1];\n\n        if (nextToken.type === 'inline' || nextToken.hidden) {\n          // Block-level tag containing an inline tag.\n          //\n          needLf = false;\n\n        } else if (nextToken.nesting === -1 && nextToken.tag === token.tag) {\n          // Opening tag + closing tag of the same type. E.g. `<li></li>`.\n          //\n          needLf = false;\n        }\n      }\n    }\n  }\n\n  result += needLf ? '>\\n' : '>';\n\n  return result;\n};\n\n\n/**\n * Renderer.renderInline(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to renter\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * The same as [[Renderer.render]], but for single token of `inline` type.\n **/\nRenderer.prototype.renderInline = function (tokens, options, env) {\n  var type,\n      result = '',\n      rules = this.rules;\n\n  for (var i = 0, len = tokens.length; i < len; i++) {\n    type = tokens[i].type;\n\n    if (typeof rules[type] !== 'undefined') {\n      result += rules[type](tokens, i, options, env, this);\n    } else {\n      result += this.renderToken(tokens, i, options);\n    }\n  }\n\n  return result;\n};\n\n\n/** internal\n * Renderer.renderInlineAsText(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to renter\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * Special kludge for image `alt` attributes to conform CommonMark spec.\n * Don't try to use it! Spec requires to show `alt` content with stripped markup,\n * instead of simple escaping.\n **/\nRenderer.prototype.renderInlineAsText = function (tokens, options, env) {\n  var result = '';\n\n  for (var i = 0, len = tokens.length; i < len; i++) {\n    if (tokens[i].type === 'text') {\n      result += tokens[i].content;\n    } else if (tokens[i].type === 'image') {\n      result += this.renderInlineAsText(tokens[i].children, options, env);\n    }\n  }\n\n  return result;\n};\n\n\n/**\n * Renderer.render(tokens, options, env) -> String\n * - tokens (Array): list on block tokens to renter\n * - options (Object): params of parser instance\n * - env (Object): additional data from parsed input (references, for example)\n *\n * Takes token stream and generates HTML. Probably, you will never need to call\n * this method directly.\n **/\nRenderer.prototype.render = function (tokens, options, env) {\n  var i, len, type,\n      result = '',\n      rules = this.rules;\n\n  for (i = 0, len = tokens.length; i < len; i++) {\n    type = tokens[i].type;\n\n    if (type === 'inline') {\n      result += this.renderInline(tokens[i].children, options, env);\n    } else if (typeof rules[type] !== 'undefined') {\n      result += rules[tokens[i].type](tokens, i, options, env, this);\n    } else {\n      result += this.renderToken(tokens, i, options, env);\n    }\n  }\n\n  return result;\n};\n\nmodule.exports = Renderer;\n","/**\n * class Ruler\n *\n * Helper class, used by [[MarkdownIt#core]], [[MarkdownIt#block]] and\n * [[MarkdownIt#inline]] to manage sequences of functions (rules):\n *\n * - keep rules in defined order\n * - assign the name to each rule\n * - enable/disable rules\n * - add/replace rules\n * - allow assign rules to additional named chains (in the same)\n * - cacheing lists of active rules\n *\n * You will not need use this class directly until write plugins. For simple\n * rules control use [[MarkdownIt.disable]], [[MarkdownIt.enable]] and\n * [[MarkdownIt.use]].\n **/\n'use strict';\n\n\n/**\n * new Ruler()\n **/\nfunction Ruler() {\n  // List of added rules. Each element is:\n  //\n  // {\n  //   name: XXX,\n  //   enabled: Boolean,\n  //   fn: Function(),\n  //   alt: [ name2, name3 ]\n  // }\n  //\n  this.__rules__ = [];\n\n  // Cached rule chains.\n  //\n  // First level - chain name, '' for default.\n  // Second level - diginal anchor for fast filtering by charcodes.\n  //\n  this.__cache__ = null;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Helper methods, should not be used directly\n\n\n// Find rule index by name\n//\nRuler.prototype.__find__ = function (name) {\n  for (var i = 0; i < this.__rules__.length; i++) {\n    if (this.__rules__[i].name === name) {\n      return i;\n    }\n  }\n  return -1;\n};\n\n\n// Build rules lookup cache\n//\nRuler.prototype.__compile__ = function () {\n  var self = this;\n  var chains = [ '' ];\n\n  // collect unique names\n  self.__rules__.forEach(function (rule) {\n    if (!rule.enabled) { return; }\n\n    rule.alt.forEach(function (altName) {\n      if (chains.indexOf(altName) < 0) {\n        chains.push(altName);\n      }\n    });\n  });\n\n  self.__cache__ = {};\n\n  chains.forEach(function (chain) {\n    self.__cache__[chain] = [];\n    self.__rules__.forEach(function (rule) {\n      if (!rule.enabled) { return; }\n\n      if (chain && rule.alt.indexOf(chain) < 0) { return; }\n\n      self.__cache__[chain].push(rule.fn);\n    });\n  });\n};\n\n\n/**\n * Ruler.at(name, fn [, options])\n * - name (String): rule name to replace.\n * - fn (Function): new rule function.\n * - options (Object): new rule options (not mandatory).\n *\n * Replace rule by name with new function & options. Throws error if name not\n * found.\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * Replace existing typographer replacement rule with new one:\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.at('replacements', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.at = function (name, fn, options) {\n  var index = this.__find__(name);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + name); }\n\n  this.__rules__[index].fn = fn;\n  this.__rules__[index].alt = opt.alt || [];\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.before(beforeName, ruleName, fn [, options])\n * - beforeName (String): new rule will be added before this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain before one with given name. See also\n * [[Ruler.after]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.block.ruler.before('paragraph', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.before = function (beforeName, ruleName, fn, options) {\n  var index = this.__find__(beforeName);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + beforeName); }\n\n  this.__rules__.splice(index, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.after(afterName, ruleName, fn [, options])\n * - afterName (String): new rule will be added after this one.\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Add new rule to chain after one with given name. See also\n * [[Ruler.before]], [[Ruler.push]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.inline.ruler.after('text', 'my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.after = function (afterName, ruleName, fn, options) {\n  var index = this.__find__(afterName);\n  var opt = options || {};\n\n  if (index === -1) { throw new Error('Parser rule not found: ' + afterName); }\n\n  this.__rules__.splice(index + 1, 0, {\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n/**\n * Ruler.push(ruleName, fn [, options])\n * - ruleName (String): name of added rule.\n * - fn (Function): rule function.\n * - options (Object): rule options (not mandatory).\n *\n * Push new rule to the end of chain. See also\n * [[Ruler.before]], [[Ruler.after]].\n *\n * ##### Options:\n *\n * - __alt__ - array with names of \"alternate\" chains.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')();\n *\n * md.core.ruler.push('my_rule', function replace(state) {\n *   //...\n * });\n * ```\n **/\nRuler.prototype.push = function (ruleName, fn, options) {\n  var opt = options || {};\n\n  this.__rules__.push({\n    name: ruleName,\n    enabled: true,\n    fn: fn,\n    alt: opt.alt || []\n  });\n\n  this.__cache__ = null;\n};\n\n\n/**\n * Ruler.enable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to enable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.disable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.enable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  var result = [];\n\n  // Search by name and enable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return; }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = true;\n    result.push(name);\n  }, this);\n\n  this.__cache__ = null;\n  return result;\n};\n\n\n/**\n * Ruler.enableOnly(list [, ignoreInvalid])\n * - list (String|Array): list of rule names to enable (whitelist).\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable rules with given names, and disable everything else. If any rule name\n * not found - throw Error. Errors can be disabled by second param.\n *\n * See also [[Ruler.disable]], [[Ruler.enable]].\n **/\nRuler.prototype.enableOnly = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  this.__rules__.forEach(function (rule) { rule.enabled = false; });\n\n  this.enable(list, ignoreInvalid);\n};\n\n\n/**\n * Ruler.disable(list [, ignoreInvalid]) -> Array\n * - list (String|Array): list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Disable rules with given names. If any rule name not found - throw Error.\n * Errors can be disabled by second param.\n *\n * Returns list of found rule names (if no exception happened).\n *\n * See also [[Ruler.enable]], [[Ruler.enableOnly]].\n **/\nRuler.prototype.disable = function (list, ignoreInvalid) {\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  var result = [];\n\n  // Search by name and disable\n  list.forEach(function (name) {\n    var idx = this.__find__(name);\n\n    if (idx < 0) {\n      if (ignoreInvalid) { return; }\n      throw new Error('Rules manager: invalid rule name ' + name);\n    }\n    this.__rules__[idx].enabled = false;\n    result.push(name);\n  }, this);\n\n  this.__cache__ = null;\n  return result;\n};\n\n\n/**\n * Ruler.getRules(chainName) -> Array\n *\n * Return array of active functions (rules) for given chain name. It analyzes\n * rules configuration, compiles caches if not exists and returns result.\n *\n * Default chain name is `''` (empty string). It can't be skipped. That's\n * done intentionally, to keep signature monomorphic for high speed.\n **/\nRuler.prototype.getRules = function (chainName) {\n  if (this.__cache__ === null) {\n    this.__compile__();\n  }\n\n  // Chain can be empty, if rules disabled. But we still have to return Array.\n  return this.__cache__[chainName] || [];\n};\n\nmodule.exports = Ruler;\n","// Normalize input string\n\n'use strict';\n\n\n// https://spec.commonmark.org/0.29/#line-ending\nvar NEWLINES_RE  = /\\r\\n?|\\n/g;\nvar NULL_RE      = /\\0/g;\n\n\nmodule.exports = function normalize(state) {\n  var str;\n\n  // Normalize newlines\n  str = state.src.replace(NEWLINES_RE, '\\n');\n\n  // Replace NULL characters\n  str = str.replace(NULL_RE, '\\uFFFD');\n\n  state.src = str;\n};\n","'use strict';\n\n\nmodule.exports = function block(state) {\n  var token;\n\n  if (state.inlineMode) {\n    token          = new state.Token('inline', '', 0);\n    token.content  = state.src;\n    token.map      = [ 0, 1 ];\n    token.children = [];\n    state.tokens.push(token);\n  } else {\n    state.md.block.parse(state.src, state.md, state.env, state.tokens);\n  }\n};\n","'use strict';\n\nmodule.exports = function inline(state) {\n  var tokens = state.tokens, tok, i, l;\n\n  // Parse inlines\n  for (i = 0, l = tokens.length; i < l; i++) {\n    tok = tokens[i];\n    if (tok.type === 'inline') {\n      state.md.inline.parse(tok.content, state.md, state.env, tok.children);\n    }\n  }\n};\n","// Replace link-like texts with link nodes.\n//\n// Currently restricted by `md.validateLink()` to http/https/ftp\n//\n'use strict';\n\n\nvar arrayReplaceAt = require('../common/utils').arrayReplaceAt;\n\n\nfunction isLinkOpen(str) {\n  return /^<a[>\\s]/i.test(str);\n}\nfunction isLinkClose(str) {\n  return /^<\\/a\\s*>/i.test(str);\n}\n\n\nmodule.exports = function linkify(state) {\n  var i, j, l, tokens, token, currentToken, nodes, ln, text, pos, lastPos,\n      level, htmlLinkLevel, url, fullUrl, urlText,\n      blockTokens = state.tokens,\n      links;\n\n  if (!state.md.options.linkify) { return; }\n\n  for (j = 0, l = blockTokens.length; j < l; j++) {\n    if (blockTokens[j].type !== 'inline' ||\n        !state.md.linkify.pretest(blockTokens[j].content)) {\n      continue;\n    }\n\n    tokens = blockTokens[j].children;\n\n    htmlLinkLevel = 0;\n\n    // We scan from the end, to keep position when new tags added.\n    // Use reversed logic in links start/end match\n    for (i = tokens.length - 1; i >= 0; i--) {\n      currentToken = tokens[i];\n\n      // Skip content of markdown links\n      if (currentToken.type === 'link_close') {\n        i--;\n        while (tokens[i].level !== currentToken.level && tokens[i].type !== 'link_open') {\n          i--;\n        }\n        continue;\n      }\n\n      // Skip content of html tag links\n      if (currentToken.type === 'html_inline') {\n        if (isLinkOpen(currentToken.content) && htmlLinkLevel > 0) {\n          htmlLinkLevel--;\n        }\n        if (isLinkClose(currentToken.content)) {\n          htmlLinkLevel++;\n        }\n      }\n      if (htmlLinkLevel > 0) { continue; }\n\n      if (currentToken.type === 'text' && state.md.linkify.test(currentToken.content)) {\n\n        text = currentToken.content;\n        links = state.md.linkify.match(text);\n\n        // Now split string to nodes\n        nodes = [];\n        level = currentToken.level;\n        lastPos = 0;\n\n        for (ln = 0; ln < links.length; ln++) {\n\n          url = links[ln].url;\n          fullUrl = state.md.normalizeLink(url);\n          if (!state.md.validateLink(fullUrl)) { continue; }\n\n          urlText = links[ln].text;\n\n          // Linkifier might send raw hostnames like \"example.com\", where url\n          // starts with domain name. So we prepend http:// in those cases,\n          // and remove it afterwards.\n          //\n          if (!links[ln].schema) {\n            urlText = state.md.normalizeLinkText('http://' + urlText).replace(/^http:\\/\\//, '');\n          } else if (links[ln].schema === 'mailto:' && !/^mailto:/i.test(urlText)) {\n            urlText = state.md.normalizeLinkText('mailto:' + urlText).replace(/^mailto:/, '');\n          } else {\n            urlText = state.md.normalizeLinkText(urlText);\n          }\n\n          pos = links[ln].index;\n\n          if (pos > lastPos) {\n            token         = new state.Token('text', '', 0);\n            token.content = text.slice(lastPos, pos);\n            token.level   = level;\n            nodes.push(token);\n          }\n\n          token         = new state.Token('link_open', 'a', 1);\n          token.attrs   = [ [ 'href', fullUrl ] ];\n          token.level   = level++;\n          token.markup  = 'linkify';\n          token.info    = 'auto';\n          nodes.push(token);\n\n          token         = new state.Token('text', '', 0);\n          token.content = urlText;\n          token.level   = level;\n          nodes.push(token);\n\n          token         = new state.Token('link_close', 'a', -1);\n          token.level   = --level;\n          token.markup  = 'linkify';\n          token.info    = 'auto';\n          nodes.push(token);\n\n          lastPos = links[ln].lastIndex;\n        }\n        if (lastPos < text.length) {\n          token         = new state.Token('text', '', 0);\n          token.content = text.slice(lastPos);\n          token.level   = level;\n          nodes.push(token);\n        }\n\n        // replace current node\n        blockTokens[j].children = tokens = arrayReplaceAt(tokens, i, nodes);\n      }\n    }\n  }\n};\n","// Simple typographic replacements\n//\n// (c) (C) → ©\n// (tm) (TM) → ™\n// (r) (R) → ®\n// +- → ±\n// (p) (P) -> §\n// ... → … (also ?.... → ?.., !.... → !..)\n// ???????? → ???, !!!!! → !!!, `,,` → `,`\n// -- → &ndash;, --- → &mdash;\n//\n'use strict';\n\n// TODO:\n// - fractionals 1/2, 1/4, 3/4 -> ½, ¼, ¾\n// - miltiplication 2 x 4 -> 2 × 4\n\nvar RARE_RE = /\\+-|\\.\\.|\\?\\?\\?\\?|!!!!|,,|--/;\n\n// Workaround for phantomjs - need regex without /g flag,\n// or root check will fail every second time\nvar SCOPED_ABBR_TEST_RE = /\\((c|tm|r|p)\\)/i;\n\nvar SCOPED_ABBR_RE = /\\((c|tm|r|p)\\)/ig;\nvar SCOPED_ABBR = {\n  c: '©',\n  r: '®',\n  p: '§',\n  tm: '™'\n};\n\nfunction replaceFn(match, name) {\n  return SCOPED_ABBR[name.toLowerCase()];\n}\n\nfunction replace_scoped(inlineTokens) {\n  var i, token, inside_autolink = 0;\n\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n\n    if (token.type === 'text' && !inside_autolink) {\n      token.content = token.content.replace(SCOPED_ABBR_RE, replaceFn);\n    }\n\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--;\n    }\n\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++;\n    }\n  }\n}\n\nfunction replace_rare(inlineTokens) {\n  var i, token, inside_autolink = 0;\n\n  for (i = inlineTokens.length - 1; i >= 0; i--) {\n    token = inlineTokens[i];\n\n    if (token.type === 'text' && !inside_autolink) {\n      if (RARE_RE.test(token.content)) {\n        token.content = token.content\n          .replace(/\\+-/g, '±')\n          // .., ..., ....... -> …\n          // but ?..... & !..... -> ?.. & !..\n          .replace(/\\.{2,}/g, '…').replace(/([?!])…/g, '$1..')\n          .replace(/([?!]){4,}/g, '$1$1$1').replace(/,{2,}/g, ',')\n          // em-dash\n          .replace(/(^|[^-])---([^-]|$)/mg, '$1\\u2014$2')\n          // en-dash\n          .replace(/(^|\\s)--(\\s|$)/mg, '$1\\u2013$2')\n          .replace(/(^|[^-\\s])--([^-\\s]|$)/mg, '$1\\u2013$2');\n      }\n    }\n\n    if (token.type === 'link_open' && token.info === 'auto') {\n      inside_autolink--;\n    }\n\n    if (token.type === 'link_close' && token.info === 'auto') {\n      inside_autolink++;\n    }\n  }\n}\n\n\nmodule.exports = function replace(state) {\n  var blkIdx;\n\n  if (!state.md.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline') { continue; }\n\n    if (SCOPED_ABBR_TEST_RE.test(state.tokens[blkIdx].content)) {\n      replace_scoped(state.tokens[blkIdx].children);\n    }\n\n    if (RARE_RE.test(state.tokens[blkIdx].content)) {\n      replace_rare(state.tokens[blkIdx].children);\n    }\n\n  }\n};\n","// Convert straight quotation marks to typographic ones\n//\n'use strict';\n\n\nvar isWhiteSpace   = require('../common/utils').isWhiteSpace;\nvar isPunctChar    = require('../common/utils').isPunctChar;\nvar isMdAsciiPunct = require('../common/utils').isMdAsciiPunct;\n\nvar QUOTE_TEST_RE = /['\"]/;\nvar QUOTE_RE = /['\"]/g;\nvar APOSTROPHE = '\\u2019'; /* ’ */\n\n\nfunction replaceAt(str, index, ch) {\n  return str.substr(0, index) + ch + str.substr(index + 1);\n}\n\nfunction process_inlines(tokens, state) {\n  var i, token, text, t, pos, max, thisLevel, item, lastChar, nextChar,\n      isLastPunctChar, isNextPunctChar, isLastWhiteSpace, isNextWhiteSpace,\n      canOpen, canClose, j, isSingle, stack, openQuote, closeQuote;\n\n  stack = [];\n\n  for (i = 0; i < tokens.length; i++) {\n    token = tokens[i];\n\n    thisLevel = tokens[i].level;\n\n    for (j = stack.length - 1; j >= 0; j--) {\n      if (stack[j].level <= thisLevel) { break; }\n    }\n    stack.length = j + 1;\n\n    if (token.type !== 'text') { continue; }\n\n    text = token.content;\n    pos = 0;\n    max = text.length;\n\n    /*eslint no-labels:0,block-scoped-var:0*/\n    OUTER:\n    while (pos < max) {\n      QUOTE_RE.lastIndex = pos;\n      t = QUOTE_RE.exec(text);\n      if (!t) { break; }\n\n      canOpen = canClose = true;\n      pos = t.index + 1;\n      isSingle = (t[0] === \"'\");\n\n      // Find previous character,\n      // default to space if it's the beginning of the line\n      //\n      lastChar = 0x20;\n\n      if (t.index - 1 >= 0) {\n        lastChar = text.charCodeAt(t.index - 1);\n      } else {\n        for (j = i - 1; j >= 0; j--) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break; // lastChar defaults to 0x20\n          if (tokens[j].type !== 'text') continue;\n\n          lastChar = tokens[j].content.charCodeAt(tokens[j].content.length - 1);\n          break;\n        }\n      }\n\n      // Find next character,\n      // default to space if it's the end of the line\n      //\n      nextChar = 0x20;\n\n      if (pos < max) {\n        nextChar = text.charCodeAt(pos);\n      } else {\n        for (j = i + 1; j < tokens.length; j++) {\n          if (tokens[j].type === 'softbreak' || tokens[j].type === 'hardbreak') break; // nextChar defaults to 0x20\n          if (tokens[j].type !== 'text') continue;\n\n          nextChar = tokens[j].content.charCodeAt(0);\n          break;\n        }\n      }\n\n      isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));\n      isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));\n\n      isLastWhiteSpace = isWhiteSpace(lastChar);\n      isNextWhiteSpace = isWhiteSpace(nextChar);\n\n      if (isNextWhiteSpace) {\n        canOpen = false;\n      } else if (isNextPunctChar) {\n        if (!(isLastWhiteSpace || isLastPunctChar)) {\n          canOpen = false;\n        }\n      }\n\n      if (isLastWhiteSpace) {\n        canClose = false;\n      } else if (isLastPunctChar) {\n        if (!(isNextWhiteSpace || isNextPunctChar)) {\n          canClose = false;\n        }\n      }\n\n      if (nextChar === 0x22 /* \" */ && t[0] === '\"') {\n        if (lastChar >= 0x30 /* 0 */ && lastChar <= 0x39 /* 9 */) {\n          // special case: 1\"\" - count first quote as an inch\n          canClose = canOpen = false;\n        }\n      }\n\n      if (canOpen && canClose) {\n        // treat this as the middle of the word\n        canOpen = false;\n        canClose = isNextPunctChar;\n      }\n\n      if (!canOpen && !canClose) {\n        // middle of word\n        if (isSingle) {\n          token.content = replaceAt(token.content, t.index, APOSTROPHE);\n        }\n        continue;\n      }\n\n      if (canClose) {\n        // this could be a closing quote, rewind the stack to get a match\n        for (j = stack.length - 1; j >= 0; j--) {\n          item = stack[j];\n          if (stack[j].level < thisLevel) { break; }\n          if (item.single === isSingle && stack[j].level === thisLevel) {\n            item = stack[j];\n\n            if (isSingle) {\n              openQuote = state.md.options.quotes[2];\n              closeQuote = state.md.options.quotes[3];\n            } else {\n              openQuote = state.md.options.quotes[0];\n              closeQuote = state.md.options.quotes[1];\n            }\n\n            // replace token.content *before* tokens[item.token].content,\n            // because, if they are pointing at the same token, replaceAt\n            // could mess up indices when quote length != 1\n            token.content = replaceAt(token.content, t.index, closeQuote);\n            tokens[item.token].content = replaceAt(\n              tokens[item.token].content, item.pos, openQuote);\n\n            pos += closeQuote.length - 1;\n            if (item.token === i) { pos += openQuote.length - 1; }\n\n            text = token.content;\n            max = text.length;\n\n            stack.length = j;\n            continue OUTER;\n          }\n        }\n      }\n\n      if (canOpen) {\n        stack.push({\n          token: i,\n          pos: t.index,\n          single: isSingle,\n          level: thisLevel\n        });\n      } else if (canClose && isSingle) {\n        token.content = replaceAt(token.content, t.index, APOSTROPHE);\n      }\n    }\n  }\n}\n\n\nmodule.exports = function smartquotes(state) {\n  /*eslint max-depth:0*/\n  var blkIdx;\n\n  if (!state.md.options.typographer) { return; }\n\n  for (blkIdx = state.tokens.length - 1; blkIdx >= 0; blkIdx--) {\n\n    if (state.tokens[blkIdx].type !== 'inline' ||\n        !QUOTE_TEST_RE.test(state.tokens[blkIdx].content)) {\n      continue;\n    }\n\n    process_inlines(state.tokens[blkIdx].children, state);\n  }\n};\n","// Token class\n\n'use strict';\n\n\n/**\n * class Token\n **/\n\n/**\n * new Token(type, tag, nesting)\n *\n * Create new token and fill passed properties.\n **/\nfunction Token(type, tag, nesting) {\n  /**\n   * Token#type -> String\n   *\n   * Type of the token (string, e.g. \"paragraph_open\")\n   **/\n  this.type     = type;\n\n  /**\n   * Token#tag -> String\n   *\n   * html tag name, e.g. \"p\"\n   **/\n  this.tag      = tag;\n\n  /**\n   * Token#attrs -> Array\n   *\n   * Html attributes. Format: `[ [ name1, value1 ], [ name2, value2 ] ]`\n   **/\n  this.attrs    = null;\n\n  /**\n   * Token#map -> Array\n   *\n   * Source map info. Format: `[ line_begin, line_end ]`\n   **/\n  this.map      = null;\n\n  /**\n   * Token#nesting -> Number\n   *\n   * Level change (number in {-1, 0, 1} set), where:\n   *\n   * -  `1` means the tag is opening\n   * -  `0` means the tag is self-closing\n   * - `-1` means the tag is closing\n   **/\n  this.nesting  = nesting;\n\n  /**\n   * Token#level -> Number\n   *\n   * nesting level, the same as `state.level`\n   **/\n  this.level    = 0;\n\n  /**\n   * Token#children -> Array\n   *\n   * An array of child nodes (inline and img tokens)\n   **/\n  this.children = null;\n\n  /**\n   * Token#content -> String\n   *\n   * In a case of self-closing tag (code, html, fence, etc.),\n   * it has contents of this tag.\n   **/\n  this.content  = '';\n\n  /**\n   * Token#markup -> String\n   *\n   * '*' or '_' for emphasis, fence string for fence, etc.\n   **/\n  this.markup   = '';\n\n  /**\n   * Token#info -> String\n   *\n   * fence infostring\n   **/\n  this.info     = '';\n\n  /**\n   * Token#meta -> Object\n   *\n   * A place for plugins to store an arbitrary data\n   **/\n  this.meta     = null;\n\n  /**\n   * Token#block -> Boolean\n   *\n   * True for block-level tokens, false for inline tokens.\n   * Used in renderer to calculate line breaks\n   **/\n  this.block    = false;\n\n  /**\n   * Token#hidden -> Boolean\n   *\n   * If it's true, ignore this element when rendering. Used for tight lists\n   * to hide paragraphs.\n   **/\n  this.hidden   = false;\n}\n\n\n/**\n * Token.attrIndex(name) -> Number\n *\n * Search attribute index by name.\n **/\nToken.prototype.attrIndex = function attrIndex(name) {\n  var attrs, i, len;\n\n  if (!this.attrs) { return -1; }\n\n  attrs = this.attrs;\n\n  for (i = 0, len = attrs.length; i < len; i++) {\n    if (attrs[i][0] === name) { return i; }\n  }\n  return -1;\n};\n\n\n/**\n * Token.attrPush(attrData)\n *\n * Add `[ name, value ]` attribute to list. Init attrs if necessary\n **/\nToken.prototype.attrPush = function attrPush(attrData) {\n  if (this.attrs) {\n    this.attrs.push(attrData);\n  } else {\n    this.attrs = [ attrData ];\n  }\n};\n\n\n/**\n * Token.attrSet(name, value)\n *\n * Set `name` attribute to `value`. Override old value if exists.\n **/\nToken.prototype.attrSet = function attrSet(name, value) {\n  var idx = this.attrIndex(name),\n      attrData = [ name, value ];\n\n  if (idx < 0) {\n    this.attrPush(attrData);\n  } else {\n    this.attrs[idx] = attrData;\n  }\n};\n\n\n/**\n * Token.attrGet(name)\n *\n * Get the value of attribute `name`, or null if it does not exist.\n **/\nToken.prototype.attrGet = function attrGet(name) {\n  var idx = this.attrIndex(name), value = null;\n  if (idx >= 0) {\n    value = this.attrs[idx][1];\n  }\n  return value;\n};\n\n\n/**\n * Token.attrJoin(name, value)\n *\n * Join value to existing attribute via space. Or create new attribute if not\n * exists. Useful to operate with token classes.\n **/\nToken.prototype.attrJoin = function attrJoin(name, value) {\n  var idx = this.attrIndex(name);\n\n  if (idx < 0) {\n    this.attrPush([ name, value ]);\n  } else {\n    this.attrs[idx][1] = this.attrs[idx][1] + ' ' + value;\n  }\n};\n\n\nmodule.exports = Token;\n","// Core state object\n//\n'use strict';\n\nvar Token = require('../token');\n\n\nfunction StateCore(src, md, env) {\n  this.src = src;\n  this.env = env;\n  this.tokens = [];\n  this.inlineMode = false;\n  this.md = md; // link to parser instance\n}\n\n// re-export Token class to use in core rules\nStateCore.prototype.Token = Token;\n\n\nmodule.exports = StateCore;\n","/** internal\n * class Core\n *\n * Top-level rules executor. Glues block/inline parsers and does intermediate\n * transformations.\n **/\n'use strict';\n\n\nvar Ruler  = require('./ruler');\n\n\nvar _rules = [\n  [ 'normalize',      require('./rules_core/normalize')      ],\n  [ 'block',          require('./rules_core/block')          ],\n  [ 'inline',         require('./rules_core/inline')         ],\n  [ 'linkify',        require('./rules_core/linkify')        ],\n  [ 'replacements',   require('./rules_core/replacements')   ],\n  [ 'smartquotes',    require('./rules_core/smartquotes')    ]\n];\n\n\n/**\n * new Core()\n **/\nfunction Core() {\n  /**\n   * Core#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of core rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n}\n\n\n/**\n * Core.process(state)\n *\n * Executes core chain rules.\n **/\nCore.prototype.process = function (state) {\n  var i, l, rules;\n\n  rules = this.ruler.getRules('');\n\n  for (i = 0, l = rules.length; i < l; i++) {\n    rules[i](state);\n  }\n};\n\nCore.prototype.State = require('./rules_core/state_core');\n\n\nmodule.exports = Core;\n","// GFM table, non-standard\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nfunction getLine(state, line) {\n  var pos = state.bMarks[line] + state.blkIndent,\n      max = state.eMarks[line];\n\n  return state.src.substr(pos, max - pos);\n}\n\nfunction escapedSplit(str) {\n  var result = [],\n      pos = 0,\n      max = str.length,\n      ch,\n      escapes = 0,\n      lastPos = 0,\n      backTicked = false,\n      lastBackTick = 0;\n\n  ch  = str.charCodeAt(pos);\n\n  while (pos < max) {\n    if (ch === 0x60/* ` */) {\n      if (backTicked) {\n        // make \\` close code sequence, but not open it;\n        // the reason is: `\\` is correct code block\n        backTicked = false;\n        lastBackTick = pos;\n      } else if (escapes % 2 === 0) {\n        backTicked = true;\n        lastBackTick = pos;\n      }\n    } else if (ch === 0x7c/* | */ && (escapes % 2 === 0) && !backTicked) {\n      result.push(str.substring(lastPos, pos));\n      lastPos = pos + 1;\n    }\n\n    if (ch === 0x5c/* \\ */) {\n      escapes++;\n    } else {\n      escapes = 0;\n    }\n\n    pos++;\n\n    // If there was an un-closed backtick, go back to just after\n    // the last backtick, but as if it was a normal character\n    if (pos === max && backTicked) {\n      backTicked = false;\n      pos = lastBackTick + 1;\n    }\n\n    ch = str.charCodeAt(pos);\n  }\n\n  result.push(str.substring(lastPos));\n\n  return result;\n}\n\n\nmodule.exports = function table(state, startLine, endLine, silent) {\n  var ch, lineText, pos, i, nextLine, columns, columnCount, token,\n      aligns, t, tableLines, tbodyLines;\n\n  // should have at least two lines\n  if (startLine + 2 > endLine) { return false; }\n\n  nextLine = startLine + 1;\n\n  if (state.sCount[nextLine] < state.blkIndent) { return false; }\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[nextLine] - state.blkIndent >= 4) { return false; }\n\n  // first character of the second line should be '|', '-', ':',\n  // and no other characters are allowed but spaces;\n  // basically, this is the equivalent of /^[-:|][-:|\\s]*$/ regexp\n\n  pos = state.bMarks[nextLine] + state.tShift[nextLine];\n  if (pos >= state.eMarks[nextLine]) { return false; }\n\n  ch = state.src.charCodeAt(pos++);\n  if (ch !== 0x7C/* | */ && ch !== 0x2D/* - */ && ch !== 0x3A/* : */) { return false; }\n\n  while (pos < state.eMarks[nextLine]) {\n    ch = state.src.charCodeAt(pos);\n\n    if (ch !== 0x7C/* | */ && ch !== 0x2D/* - */ && ch !== 0x3A/* : */ && !isSpace(ch)) { return false; }\n\n    pos++;\n  }\n\n  lineText = getLine(state, startLine + 1);\n\n  columns = lineText.split('|');\n  aligns = [];\n  for (i = 0; i < columns.length; i++) {\n    t = columns[i].trim();\n    if (!t) {\n      // allow empty columns before and after table, but not in between columns;\n      // e.g. allow ` |---| `, disallow ` ---||--- `\n      if (i === 0 || i === columns.length - 1) {\n        continue;\n      } else {\n        return false;\n      }\n    }\n\n    if (!/^:?-+:?$/.test(t)) { return false; }\n    if (t.charCodeAt(t.length - 1) === 0x3A/* : */) {\n      aligns.push(t.charCodeAt(0) === 0x3A/* : */ ? 'center' : 'right');\n    } else if (t.charCodeAt(0) === 0x3A/* : */) {\n      aligns.push('left');\n    } else {\n      aligns.push('');\n    }\n  }\n\n  lineText = getLine(state, startLine).trim();\n  if (lineText.indexOf('|') === -1) { return false; }\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n  columns = escapedSplit(lineText.replace(/^\\||\\|$/g, ''));\n\n  // header row will define an amount of columns in the entire table,\n  // and align row shouldn't be smaller than that (the rest of the rows can)\n  columnCount = columns.length;\n  if (columnCount > aligns.length) { return false; }\n\n  if (silent) { return true; }\n\n  token     = state.push('table_open', 'table', 1);\n  token.map = tableLines = [ startLine, 0 ];\n\n  token     = state.push('thead_open', 'thead', 1);\n  token.map = [ startLine, startLine + 1 ];\n\n  token     = state.push('tr_open', 'tr', 1);\n  token.map = [ startLine, startLine + 1 ];\n\n  for (i = 0; i < columns.length; i++) {\n    token          = state.push('th_open', 'th', 1);\n    token.map      = [ startLine, startLine + 1 ];\n    if (aligns[i]) {\n      token.attrs  = [ [ 'style', 'text-align:' + aligns[i] ] ];\n    }\n\n    token          = state.push('inline', '', 0);\n    token.content  = columns[i].trim();\n    token.map      = [ startLine, startLine + 1 ];\n    token.children = [];\n\n    token          = state.push('th_close', 'th', -1);\n  }\n\n  token     = state.push('tr_close', 'tr', -1);\n  token     = state.push('thead_close', 'thead', -1);\n\n  token     = state.push('tbody_open', 'tbody', 1);\n  token.map = tbodyLines = [ startLine + 2, 0 ];\n\n  for (nextLine = startLine + 2; nextLine < endLine; nextLine++) {\n    if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n    lineText = getLine(state, nextLine).trim();\n    if (lineText.indexOf('|') === -1) { break; }\n    if (state.sCount[nextLine] - state.blkIndent >= 4) { break; }\n    columns = escapedSplit(lineText.replace(/^\\||\\|$/g, ''));\n\n    token = state.push('tr_open', 'tr', 1);\n    for (i = 0; i < columnCount; i++) {\n      token          = state.push('td_open', 'td', 1);\n      if (aligns[i]) {\n        token.attrs  = [ [ 'style', 'text-align:' + aligns[i] ] ];\n      }\n\n      token          = state.push('inline', '', 0);\n      token.content  = columns[i] ? columns[i].trim() : '';\n      token.children = [];\n\n      token          = state.push('td_close', 'td', -1);\n    }\n    token = state.push('tr_close', 'tr', -1);\n  }\n  token = state.push('tbody_close', 'tbody', -1);\n  token = state.push('table_close', 'table', -1);\n\n  tableLines[1] = tbodyLines[1] = nextLine;\n  state.line = nextLine;\n  return true;\n};\n","// Code block (4 spaces padded)\n\n'use strict';\n\n\nmodule.exports = function code(state, startLine, endLine/*, silent*/) {\n  var nextLine, last, token;\n\n  if (state.sCount[startLine] - state.blkIndent < 4) { return false; }\n\n  last = nextLine = startLine + 1;\n\n  while (nextLine < endLine) {\n    if (state.isEmpty(nextLine)) {\n      nextLine++;\n      continue;\n    }\n\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      nextLine++;\n      last = nextLine;\n      continue;\n    }\n    break;\n  }\n\n  state.line = last;\n\n  token         = state.push('code_block', 'code', 0);\n  token.content = state.getLines(startLine, last, 4 + state.blkIndent, true);\n  token.map     = [ startLine, state.line ];\n\n  return true;\n};\n","// fences (``` lang, ~~~ lang)\n\n'use strict';\n\n\nmodule.exports = function fence(state, startLine, endLine, silent) {\n  var marker, len, params, nextLine, mem, token, markup,\n      haveEndMarker = false,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (pos + 3 > max) { return false; }\n\n  marker = state.src.charCodeAt(pos);\n\n  if (marker !== 0x7E/* ~ */ && marker !== 0x60 /* ` */) {\n    return false;\n  }\n\n  // scan marker length\n  mem = pos;\n  pos = state.skipChars(pos, marker);\n\n  len = pos - mem;\n\n  if (len < 3) { return false; }\n\n  markup = state.src.slice(mem, pos);\n  params = state.src.slice(pos, max);\n\n  if (marker === 0x60 /* ` */) {\n    if (params.indexOf(String.fromCharCode(marker)) >= 0) {\n      return false;\n    }\n  }\n\n  // Since start is found, we can report success here in validation mode\n  if (silent) { return true; }\n\n  // search end of block\n  nextLine = startLine;\n\n  for (;;) {\n    nextLine++;\n    if (nextLine >= endLine) {\n      // unclosed block should be autoclosed by end of document.\n      // also block seems to be autoclosed by end of parent\n      break;\n    }\n\n    pos = mem = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos < max && state.sCount[nextLine] < state.blkIndent) {\n      // non-empty line with negative indent should stop the list:\n      // - ```\n      //  test\n      break;\n    }\n\n    if (state.src.charCodeAt(pos) !== marker) { continue; }\n\n    if (state.sCount[nextLine] - state.blkIndent >= 4) {\n      // closing fence should be indented less than 4 spaces\n      continue;\n    }\n\n    pos = state.skipChars(pos, marker);\n\n    // closing code fence must be at least as long as the opening one\n    if (pos - mem < len) { continue; }\n\n    // make sure tail has spaces only\n    pos = state.skipSpaces(pos);\n\n    if (pos < max) { continue; }\n\n    haveEndMarker = true;\n    // found!\n    break;\n  }\n\n  // If a fence has heading spaces, they should be removed from its inner block\n  len = state.sCount[startLine];\n\n  state.line = nextLine + (haveEndMarker ? 1 : 0);\n\n  token         = state.push('fence', 'code', 0);\n  token.info    = params;\n  token.content = state.getLines(startLine + 1, nextLine, len, true);\n  token.markup  = markup;\n  token.map     = [ startLine, state.line ];\n\n  return true;\n};\n","// Block quotes\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function blockquote(state, startLine, endLine, silent) {\n  var adjustTab,\n      ch,\n      i,\n      initial,\n      l,\n      lastLineEmpty,\n      lines,\n      nextLine,\n      offset,\n      oldBMarks,\n      oldBSCount,\n      oldIndent,\n      oldParentType,\n      oldSCount,\n      oldTShift,\n      spaceAfterMarker,\n      terminate,\n      terminatorRules,\n      token,\n      wasOutdented,\n      oldLineMax = state.lineMax,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  // check the block quote marker\n  if (state.src.charCodeAt(pos++) !== 0x3E/* > */) { return false; }\n\n  // we know that it's going to be a valid blockquote,\n  // so no point trying to find the end of it in silent mode\n  if (silent) { return true; }\n\n  // skip spaces after \">\" and re-calculate offset\n  initial = offset = state.sCount[startLine] + pos - (state.bMarks[startLine] + state.tShift[startLine]);\n\n  // skip one optional space after '>'\n  if (state.src.charCodeAt(pos) === 0x20 /* space */) {\n    // ' >   test '\n    //     ^ -- position start of line here:\n    pos++;\n    initial++;\n    offset++;\n    adjustTab = false;\n    spaceAfterMarker = true;\n  } else if (state.src.charCodeAt(pos) === 0x09 /* tab */) {\n    spaceAfterMarker = true;\n\n    if ((state.bsCount[startLine] + offset) % 4 === 3) {\n      // '  >\\t  test '\n      //       ^ -- position start of line here (tab has width===1)\n      pos++;\n      initial++;\n      offset++;\n      adjustTab = false;\n    } else {\n      // ' >\\t  test '\n      //    ^ -- position start of line here + shift bsCount slightly\n      //         to make extra space appear\n      adjustTab = true;\n    }\n  } else {\n    spaceAfterMarker = false;\n  }\n\n  oldBMarks = [ state.bMarks[startLine] ];\n  state.bMarks[startLine] = pos;\n\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (isSpace(ch)) {\n      if (ch === 0x09) {\n        offset += 4 - (offset + state.bsCount[startLine] + (adjustTab ? 1 : 0)) % 4;\n      } else {\n        offset++;\n      }\n    } else {\n      break;\n    }\n\n    pos++;\n  }\n\n  oldBSCount = [ state.bsCount[startLine] ];\n  state.bsCount[startLine] = state.sCount[startLine] + 1 + (spaceAfterMarker ? 1 : 0);\n\n  lastLineEmpty = pos >= max;\n\n  oldSCount = [ state.sCount[startLine] ];\n  state.sCount[startLine] = offset - initial;\n\n  oldTShift = [ state.tShift[startLine] ];\n  state.tShift[startLine] = pos - state.bMarks[startLine];\n\n  terminatorRules = state.md.block.ruler.getRules('blockquote');\n\n  oldParentType = state.parentType;\n  state.parentType = 'blockquote';\n  wasOutdented = false;\n\n  // Search the end of the block\n  //\n  // Block ends with either:\n  //  1. an empty line outside:\n  //     ```\n  //     > test\n  //\n  //     ```\n  //  2. an empty line inside:\n  //     ```\n  //     >\n  //     test\n  //     ```\n  //  3. another tag:\n  //     ```\n  //     > test\n  //      - - -\n  //     ```\n  for (nextLine = startLine + 1; nextLine < endLine; nextLine++) {\n    // check if it's outdented, i.e. it's inside list item and indented\n    // less than said list item:\n    //\n    // ```\n    // 1. anything\n    //    > current blockquote\n    // 2. checking this line\n    // ```\n    if (state.sCount[nextLine] < state.blkIndent) wasOutdented = true;\n\n    pos = state.bMarks[nextLine] + state.tShift[nextLine];\n    max = state.eMarks[nextLine];\n\n    if (pos >= max) {\n      // Case 1: line is not inside the blockquote, and this line is empty.\n      break;\n    }\n\n    if (state.src.charCodeAt(pos++) === 0x3E/* > */ && !wasOutdented) {\n      // This line is inside the blockquote.\n\n      // skip spaces after \">\" and re-calculate offset\n      initial = offset = state.sCount[nextLine] + pos - (state.bMarks[nextLine] + state.tShift[nextLine]);\n\n      // skip one optional space after '>'\n      if (state.src.charCodeAt(pos) === 0x20 /* space */) {\n        // ' >   test '\n        //     ^ -- position start of line here:\n        pos++;\n        initial++;\n        offset++;\n        adjustTab = false;\n        spaceAfterMarker = true;\n      } else if (state.src.charCodeAt(pos) === 0x09 /* tab */) {\n        spaceAfterMarker = true;\n\n        if ((state.bsCount[nextLine] + offset) % 4 === 3) {\n          // '  >\\t  test '\n          //       ^ -- position start of line here (tab has width===1)\n          pos++;\n          initial++;\n          offset++;\n          adjustTab = false;\n        } else {\n          // ' >\\t  test '\n          //    ^ -- position start of line here + shift bsCount slightly\n          //         to make extra space appear\n          adjustTab = true;\n        }\n      } else {\n        spaceAfterMarker = false;\n      }\n\n      oldBMarks.push(state.bMarks[nextLine]);\n      state.bMarks[nextLine] = pos;\n\n      while (pos < max) {\n        ch = state.src.charCodeAt(pos);\n\n        if (isSpace(ch)) {\n          if (ch === 0x09) {\n            offset += 4 - (offset + state.bsCount[nextLine] + (adjustTab ? 1 : 0)) % 4;\n          } else {\n            offset++;\n          }\n        } else {\n          break;\n        }\n\n        pos++;\n      }\n\n      lastLineEmpty = pos >= max;\n\n      oldBSCount.push(state.bsCount[nextLine]);\n      state.bsCount[nextLine] = state.sCount[nextLine] + 1 + (spaceAfterMarker ? 1 : 0);\n\n      oldSCount.push(state.sCount[nextLine]);\n      state.sCount[nextLine] = offset - initial;\n\n      oldTShift.push(state.tShift[nextLine]);\n      state.tShift[nextLine] = pos - state.bMarks[nextLine];\n      continue;\n    }\n\n    // Case 2: line is not inside the blockquote, and the last line was empty.\n    if (lastLineEmpty) { break; }\n\n    // Case 3: another tag found.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n\n    if (terminate) {\n      // Quirk to enforce \"hard termination mode\" for paragraphs;\n      // normally if you call `tokenize(state, startLine, nextLine)`,\n      // paragraphs will look below nextLine for paragraph continuation,\n      // but if blockquote is terminated by another tag, they shouldn't\n      state.lineMax = nextLine;\n\n      if (state.blkIndent !== 0) {\n        // state.blkIndent was non-zero, we now set it to zero,\n        // so we need to re-calculate all offsets to appear as\n        // if indent wasn't changed\n        oldBMarks.push(state.bMarks[nextLine]);\n        oldBSCount.push(state.bsCount[nextLine]);\n        oldTShift.push(state.tShift[nextLine]);\n        oldSCount.push(state.sCount[nextLine]);\n        state.sCount[nextLine] -= state.blkIndent;\n      }\n\n      break;\n    }\n\n    oldBMarks.push(state.bMarks[nextLine]);\n    oldBSCount.push(state.bsCount[nextLine]);\n    oldTShift.push(state.tShift[nextLine]);\n    oldSCount.push(state.sCount[nextLine]);\n\n    // A negative indentation means that this is a paragraph continuation\n    //\n    state.sCount[nextLine] = -1;\n  }\n\n  oldIndent = state.blkIndent;\n  state.blkIndent = 0;\n\n  token        = state.push('blockquote_open', 'blockquote', 1);\n  token.markup = '>';\n  token.map    = lines = [ startLine, 0 ];\n\n  state.md.block.tokenize(state, startLine, nextLine);\n\n  token        = state.push('blockquote_close', 'blockquote', -1);\n  token.markup = '>';\n\n  state.lineMax = oldLineMax;\n  state.parentType = oldParentType;\n  lines[1] = state.line;\n\n  // Restore original tShift; this might not be necessary since the parser\n  // has already been here, but just to make sure we can do that.\n  for (i = 0; i < oldTShift.length; i++) {\n    state.bMarks[i + startLine] = oldBMarks[i];\n    state.tShift[i + startLine] = oldTShift[i];\n    state.sCount[i + startLine] = oldSCount[i];\n    state.bsCount[i + startLine] = oldBSCount[i];\n  }\n  state.blkIndent = oldIndent;\n\n  return true;\n};\n","// Horizontal rule\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function hr(state, startLine, endLine, silent) {\n  var marker, cnt, ch, token,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  marker = state.src.charCodeAt(pos++);\n\n  // Check hr marker\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x5F/* _ */) {\n    return false;\n  }\n\n  // markers can be mixed with spaces, but there should be at least 3 of them\n\n  cnt = 1;\n  while (pos < max) {\n    ch = state.src.charCodeAt(pos++);\n    if (ch !== marker && !isSpace(ch)) { return false; }\n    if (ch === marker) { cnt++; }\n  }\n\n  if (cnt < 3) { return false; }\n\n  if (silent) { return true; }\n\n  state.line = startLine + 1;\n\n  token        = state.push('hr', 'hr', 0);\n  token.map    = [ startLine, state.line ];\n  token.markup = Array(cnt + 1).join(String.fromCharCode(marker));\n\n  return true;\n};\n","// Lists\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\n// Search `[-+*][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipBulletListMarker(state, startLine) {\n  var marker, pos, max, ch;\n\n  pos = state.bMarks[startLine] + state.tShift[startLine];\n  max = state.eMarks[startLine];\n\n  marker = state.src.charCodeAt(pos++);\n  // Check bullet\n  if (marker !== 0x2A/* * */ &&\n      marker !== 0x2D/* - */ &&\n      marker !== 0x2B/* + */) {\n    return -1;\n  }\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (!isSpace(ch)) {\n      // \" -test \" - is not a list item\n      return -1;\n    }\n  }\n\n  return pos;\n}\n\n// Search `\\d+[.)][\\n ]`, returns next pos after marker on success\n// or -1 on fail.\nfunction skipOrderedListMarker(state, startLine) {\n  var ch,\n      start = state.bMarks[startLine] + state.tShift[startLine],\n      pos = start,\n      max = state.eMarks[startLine];\n\n  // List marker should have at least 2 chars (digit + dot)\n  if (pos + 1 >= max) { return -1; }\n\n  ch = state.src.charCodeAt(pos++);\n\n  if (ch < 0x30/* 0 */ || ch > 0x39/* 9 */) { return -1; }\n\n  for (;;) {\n    // EOL -> fail\n    if (pos >= max) { return -1; }\n\n    ch = state.src.charCodeAt(pos++);\n\n    if (ch >= 0x30/* 0 */ && ch <= 0x39/* 9 */) {\n\n      // List marker should have no more than 9 digits\n      // (prevents integer overflow in browsers)\n      if (pos - start >= 10) { return -1; }\n\n      continue;\n    }\n\n    // found valid marker\n    if (ch === 0x29/* ) */ || ch === 0x2e/* . */) {\n      break;\n    }\n\n    return -1;\n  }\n\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (!isSpace(ch)) {\n      // \" 1.test \" - is not a list item\n      return -1;\n    }\n  }\n  return pos;\n}\n\nfunction markTightParagraphs(state, idx) {\n  var i, l,\n      level = state.level + 2;\n\n  for (i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n    if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n      state.tokens[i + 2].hidden = true;\n      state.tokens[i].hidden = true;\n      i += 2;\n    }\n  }\n}\n\n\nmodule.exports = function list(state, startLine, endLine, silent) {\n  var ch,\n      contentStart,\n      i,\n      indent,\n      indentAfterMarker,\n      initial,\n      isOrdered,\n      itemLines,\n      l,\n      listLines,\n      listTokIdx,\n      markerCharCode,\n      markerValue,\n      max,\n      nextLine,\n      offset,\n      oldListIndent,\n      oldParentType,\n      oldSCount,\n      oldTShift,\n      oldTight,\n      pos,\n      posAfterMarker,\n      prevEmptyEnd,\n      start,\n      terminate,\n      terminatorRules,\n      token,\n      isTerminatingParagraph = false,\n      tight = true;\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  // Special case:\n  //  - item 1\n  //   - item 2\n  //    - item 3\n  //     - item 4\n  //      - this one is a paragraph continuation\n  if (state.listIndent >= 0 &&\n      state.sCount[startLine] - state.listIndent >= 4 &&\n      state.sCount[startLine] < state.blkIndent) {\n    return false;\n  }\n\n  // limit conditions when list can interrupt\n  // a paragraph (validation mode only)\n  if (silent && state.parentType === 'paragraph') {\n    // Next list item should still terminate previous list item;\n    //\n    // This code can fail if plugins use blkIndent as well as lists,\n    // but I hope the spec gets fixed long before that happens.\n    //\n    if (state.tShift[startLine] >= state.blkIndent) {\n      isTerminatingParagraph = true;\n    }\n  }\n\n  // Detect list type and position after marker\n  if ((posAfterMarker = skipOrderedListMarker(state, startLine)) >= 0) {\n    isOrdered = true;\n    start = state.bMarks[startLine] + state.tShift[startLine];\n    markerValue = Number(state.src.substr(start, posAfterMarker - start - 1));\n\n    // If we're starting a new ordered list right after\n    // a paragraph, it should start with 1.\n    if (isTerminatingParagraph && markerValue !== 1) return false;\n\n  } else if ((posAfterMarker = skipBulletListMarker(state, startLine)) >= 0) {\n    isOrdered = false;\n\n  } else {\n    return false;\n  }\n\n  // If we're starting a new unordered list right after\n  // a paragraph, first line should not be empty.\n  if (isTerminatingParagraph) {\n    if (state.skipSpaces(posAfterMarker) >= state.eMarks[startLine]) return false;\n  }\n\n  // We should terminate list on style change. Remember first one to compare.\n  markerCharCode = state.src.charCodeAt(posAfterMarker - 1);\n\n  // For validation mode we can terminate immediately\n  if (silent) { return true; }\n\n  // Start list\n  listTokIdx = state.tokens.length;\n\n  if (isOrdered) {\n    token       = state.push('ordered_list_open', 'ol', 1);\n    if (markerValue !== 1) {\n      token.attrs = [ [ 'start', markerValue ] ];\n    }\n\n  } else {\n    token       = state.push('bullet_list_open', 'ul', 1);\n  }\n\n  token.map    = listLines = [ startLine, 0 ];\n  token.markup = String.fromCharCode(markerCharCode);\n\n  //\n  // Iterate list items\n  //\n\n  nextLine = startLine;\n  prevEmptyEnd = false;\n  terminatorRules = state.md.block.ruler.getRules('list');\n\n  oldParentType = state.parentType;\n  state.parentType = 'list';\n\n  while (nextLine < endLine) {\n    pos = posAfterMarker;\n    max = state.eMarks[nextLine];\n\n    initial = offset = state.sCount[nextLine] + posAfterMarker - (state.bMarks[startLine] + state.tShift[startLine]);\n\n    while (pos < max) {\n      ch = state.src.charCodeAt(pos);\n\n      if (ch === 0x09) {\n        offset += 4 - (offset + state.bsCount[nextLine]) % 4;\n      } else if (ch === 0x20) {\n        offset++;\n      } else {\n        break;\n      }\n\n      pos++;\n    }\n\n    contentStart = pos;\n\n    if (contentStart >= max) {\n      // trimming space in \"-    \\n  3\" case, indent is 1 here\n      indentAfterMarker = 1;\n    } else {\n      indentAfterMarker = offset - initial;\n    }\n\n    // If we have more than 4 spaces, the indent is 1\n    // (the rest is just indented code block)\n    if (indentAfterMarker > 4) { indentAfterMarker = 1; }\n\n    // \"  -  test\"\n    //  ^^^^^ - calculating total length of this thing\n    indent = initial + indentAfterMarker;\n\n    // Run subparser & write tokens\n    token        = state.push('list_item_open', 'li', 1);\n    token.markup = String.fromCharCode(markerCharCode);\n    token.map    = itemLines = [ startLine, 0 ];\n\n    // change current state, then restore it after parser subcall\n    oldTight = state.tight;\n    oldTShift = state.tShift[startLine];\n    oldSCount = state.sCount[startLine];\n\n    //  - example list\n    // ^ listIndent position will be here\n    //   ^ blkIndent position will be here\n    //\n    oldListIndent = state.listIndent;\n    state.listIndent = state.blkIndent;\n    state.blkIndent = indent;\n\n    state.tight = true;\n    state.tShift[startLine] = contentStart - state.bMarks[startLine];\n    state.sCount[startLine] = offset;\n\n    if (contentStart >= max && state.isEmpty(startLine + 1)) {\n      // workaround for this case\n      // (list item is empty, list terminates before \"foo\"):\n      // ~~~~~~~~\n      //   -\n      //\n      //     foo\n      // ~~~~~~~~\n      state.line = Math.min(state.line + 2, endLine);\n    } else {\n      state.md.block.tokenize(state, startLine, endLine, true);\n    }\n\n    // If any of list item is tight, mark list as tight\n    if (!state.tight || prevEmptyEnd) {\n      tight = false;\n    }\n    // Item become loose if finish with empty line,\n    // but we should filter last element, because it means list finish\n    prevEmptyEnd = (state.line - startLine) > 1 && state.isEmpty(state.line - 1);\n\n    state.blkIndent = state.listIndent;\n    state.listIndent = oldListIndent;\n    state.tShift[startLine] = oldTShift;\n    state.sCount[startLine] = oldSCount;\n    state.tight = oldTight;\n\n    token        = state.push('list_item_close', 'li', -1);\n    token.markup = String.fromCharCode(markerCharCode);\n\n    nextLine = startLine = state.line;\n    itemLines[1] = nextLine;\n    contentStart = state.bMarks[startLine];\n\n    if (nextLine >= endLine) { break; }\n\n    //\n    // Try to check if list is terminated or continued.\n    //\n    if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n    // if it's indented more than 3 spaces, it should be a code block\n    if (state.sCount[startLine] - state.blkIndent >= 4) { break; }\n\n    // fail if terminating block found\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n\n    // fail if list has another type\n    if (isOrdered) {\n      posAfterMarker = skipOrderedListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    } else {\n      posAfterMarker = skipBulletListMarker(state, nextLine);\n      if (posAfterMarker < 0) { break; }\n    }\n\n    if (markerCharCode !== state.src.charCodeAt(posAfterMarker - 1)) { break; }\n  }\n\n  // Finalize list\n  if (isOrdered) {\n    token = state.push('ordered_list_close', 'ol', -1);\n  } else {\n    token = state.push('bullet_list_close', 'ul', -1);\n  }\n  token.markup = String.fromCharCode(markerCharCode);\n\n  listLines[1] = nextLine;\n  state.line = nextLine;\n\n  state.parentType = oldParentType;\n\n  // mark paragraphs tight if needed\n  if (tight) {\n    markTightParagraphs(state, listTokIdx);\n  }\n\n  return true;\n};\n","'use strict';\n\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function reference(state, startLine, _endLine, silent) {\n  var ch,\n      destEndPos,\n      destEndLineNo,\n      endLine,\n      href,\n      i,\n      l,\n      label,\n      labelEnd,\n      oldParentType,\n      res,\n      start,\n      str,\n      terminate,\n      terminatorRules,\n      title,\n      lines = 0,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine],\n      nextLine = startLine + 1;\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x5B/* [ */) { return false; }\n\n  // Simple check to quickly interrupt scan on [link](url) at the start of line.\n  // Can be useful on practice: https://github.com/markdown-it/markdown-it/issues/54\n  while (++pos < max) {\n    if (state.src.charCodeAt(pos) === 0x5D /* ] */ &&\n        state.src.charCodeAt(pos - 1) !== 0x5C/* \\ */) {\n      if (pos + 1 === max) { return false; }\n      if (state.src.charCodeAt(pos + 1) !== 0x3A/* : */) { return false; }\n      break;\n    }\n  }\n\n  endLine = state.lineMax;\n\n  // jump line-by-line until empty one or EOF\n  terminatorRules = state.md.block.ruler.getRules('reference');\n\n  oldParentType = state.parentType;\n  state.parentType = 'reference';\n\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  str = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n  max = str.length;\n\n  for (pos = 1; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x5B /* [ */) {\n      return false;\n    } else if (ch === 0x5D /* ] */) {\n      labelEnd = pos;\n      break;\n    } else if (ch === 0x0A /* \\n */) {\n      lines++;\n    } else if (ch === 0x5C /* \\ */) {\n      pos++;\n      if (pos < max && str.charCodeAt(pos) === 0x0A) {\n        lines++;\n      }\n    }\n  }\n\n  if (labelEnd < 0 || str.charCodeAt(labelEnd + 1) !== 0x3A/* : */) { return false; }\n\n  // [label]:   destination   'title'\n  //         ^^^ skip optional whitespace here\n  for (pos = labelEnd + 2; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x0A) {\n      lines++;\n    } else if (isSpace(ch)) {\n      /*eslint no-empty:0*/\n    } else {\n      break;\n    }\n  }\n\n  // [label]:   destination   'title'\n  //            ^^^^^^^^^^^ parse this\n  res = state.md.helpers.parseLinkDestination(str, pos, max);\n  if (!res.ok) { return false; }\n\n  href = state.md.normalizeLink(res.str);\n  if (!state.md.validateLink(href)) { return false; }\n\n  pos = res.pos;\n  lines += res.lines;\n\n  // save cursor state, we could require to rollback later\n  destEndPos = pos;\n  destEndLineNo = lines;\n\n  // [label]:   destination   'title'\n  //                       ^^^ skipping those spaces\n  start = pos;\n  for (; pos < max; pos++) {\n    ch = str.charCodeAt(pos);\n    if (ch === 0x0A) {\n      lines++;\n    } else if (isSpace(ch)) {\n      /*eslint no-empty:0*/\n    } else {\n      break;\n    }\n  }\n\n  // [label]:   destination   'title'\n  //                          ^^^^^^^ parse this\n  res = state.md.helpers.parseLinkTitle(str, pos, max);\n  if (pos < max && start !== pos && res.ok) {\n    title = res.str;\n    pos = res.pos;\n    lines += res.lines;\n  } else {\n    title = '';\n    pos = destEndPos;\n    lines = destEndLineNo;\n  }\n\n  // skip trailing spaces until the rest of the line\n  while (pos < max) {\n    ch = str.charCodeAt(pos);\n    if (!isSpace(ch)) { break; }\n    pos++;\n  }\n\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    if (title) {\n      // garbage at the end of the line after title,\n      // but it could still be a valid reference if we roll back\n      title = '';\n      pos = destEndPos;\n      lines = destEndLineNo;\n      while (pos < max) {\n        ch = str.charCodeAt(pos);\n        if (!isSpace(ch)) { break; }\n        pos++;\n      }\n    }\n  }\n\n  if (pos < max && str.charCodeAt(pos) !== 0x0A) {\n    // garbage at the end of the line\n    return false;\n  }\n\n  label = normalizeReference(str.slice(1, labelEnd));\n  if (!label) {\n    // CommonMark 0.20 disallows empty labels\n    return false;\n  }\n\n  // Reference can not terminate anything. This check is for safety only.\n  /*istanbul ignore if*/\n  if (silent) { return true; }\n\n  if (typeof state.env.references === 'undefined') {\n    state.env.references = {};\n  }\n  if (typeof state.env.references[label] === 'undefined') {\n    state.env.references[label] = { title: title, href: href };\n  }\n\n  state.parentType = oldParentType;\n\n  state.line = startLine + lines + 1;\n  return true;\n};\n","// heading (#, ##, ...)\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function heading(state, startLine, endLine, silent) {\n  var ch, level, tmp, token,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  ch  = state.src.charCodeAt(pos);\n\n  if (ch !== 0x23/* # */ || pos >= max) { return false; }\n\n  // count heading level\n  level = 1;\n  ch = state.src.charCodeAt(++pos);\n  while (ch === 0x23/* # */ && pos < max && level <= 6) {\n    level++;\n    ch = state.src.charCodeAt(++pos);\n  }\n\n  if (level > 6 || (pos < max && !isSpace(ch))) { return false; }\n\n  if (silent) { return true; }\n\n  // Let's cut tails like '    ###  ' from the end of string\n\n  max = state.skipSpacesBack(max, pos);\n  tmp = state.skipCharsBack(max, 0x23, pos); // #\n  if (tmp > pos && isSpace(state.src.charCodeAt(tmp - 1))) {\n    max = tmp;\n  }\n\n  state.line = startLine + 1;\n\n  token        = state.push('heading_open', 'h' + String(level), 1);\n  token.markup = '########'.slice(0, level);\n  token.map    = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = state.src.slice(pos, max).trim();\n  token.map      = [ startLine, state.line ];\n  token.children = [];\n\n  token        = state.push('heading_close', 'h' + String(level), -1);\n  token.markup = '########'.slice(0, level);\n\n  return true;\n};\n","// lheading (---, ===)\n\n'use strict';\n\n\nmodule.exports = function lheading(state, startLine, endLine/*, silent*/) {\n  var content, terminate, i, l, token, pos, max, level, marker,\n      nextLine = startLine + 1, oldParentType,\n      terminatorRules = state.md.block.ruler.getRules('paragraph');\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  oldParentType = state.parentType;\n  state.parentType = 'paragraph'; // use paragraph to match terminatorRules\n\n  // jump line-by-line until empty one or EOF\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    //\n    // Check for underline in setext header\n    //\n    if (state.sCount[nextLine] >= state.blkIndent) {\n      pos = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (pos < max) {\n        marker = state.src.charCodeAt(pos);\n\n        if (marker === 0x2D/* - */ || marker === 0x3D/* = */) {\n          pos = state.skipChars(pos, marker);\n          pos = state.skipSpaces(pos);\n\n          if (pos >= max) {\n            level = (marker === 0x3D/* = */ ? 1 : 2);\n            break;\n          }\n        }\n      }\n    }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  if (!level) {\n    // Didn't find valid underline\n    return false;\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine + 1;\n\n  token          = state.push('heading_open', 'h' + String(level), 1);\n  token.markup   = String.fromCharCode(marker);\n  token.map      = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = content;\n  token.map      = [ startLine, state.line - 1 ];\n  token.children = [];\n\n  token          = state.push('heading_close', 'h' + String(level), -1);\n  token.markup   = String.fromCharCode(marker);\n\n  state.parentType = oldParentType;\n\n  return true;\n};\n","// List of valid html blocks names, accorting to commonmark spec\n// http://jgm.github.io/CommonMark/spec.html#html-blocks\n\n'use strict';\n\n\nmodule.exports = [\n  'address',\n  'article',\n  'aside',\n  'base',\n  'basefont',\n  'blockquote',\n  'body',\n  'caption',\n  'center',\n  'col',\n  'colgroup',\n  'dd',\n  'details',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'footer',\n  'form',\n  'frame',\n  'frameset',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hr',\n  'html',\n  'iframe',\n  'legend',\n  'li',\n  'link',\n  'main',\n  'menu',\n  'menuitem',\n  'meta',\n  'nav',\n  'noframes',\n  'ol',\n  'optgroup',\n  'option',\n  'p',\n  'param',\n  'section',\n  'source',\n  'summary',\n  'table',\n  'tbody',\n  'td',\n  'tfoot',\n  'th',\n  'thead',\n  'title',\n  'tr',\n  'track',\n  'ul'\n];\n","// Regexps to match html elements\n\n'use strict';\n\nvar attr_name     = '[a-zA-Z_:][a-zA-Z0-9:._-]*';\n\nvar unquoted      = '[^\"\\'=<>`\\\\x00-\\\\x20]+';\nvar single_quoted = \"'[^']*'\";\nvar double_quoted = '\"[^\"]*\"';\n\nvar attr_value  = '(?:' + unquoted + '|' + single_quoted + '|' + double_quoted + ')';\n\nvar attribute   = '(?:\\\\s+' + attr_name + '(?:\\\\s*=\\\\s*' + attr_value + ')?)';\n\nvar open_tag    = '<[A-Za-z][A-Za-z0-9\\\\-]*' + attribute + '*\\\\s*\\\\/?>';\n\nvar close_tag   = '<\\\\/[A-Za-z][A-Za-z0-9\\\\-]*\\\\s*>';\nvar comment     = '<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->';\nvar processing  = '<[?].*?[?]>';\nvar declaration = '<![A-Z]+\\\\s+[^>]*>';\nvar cdata       = '<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>';\n\nvar HTML_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + '|' + comment +\n                        '|' + processing + '|' + declaration + '|' + cdata + ')');\nvar HTML_OPEN_CLOSE_TAG_RE = new RegExp('^(?:' + open_tag + '|' + close_tag + ')');\n\nmodule.exports.HTML_TAG_RE = HTML_TAG_RE;\nmodule.exports.HTML_OPEN_CLOSE_TAG_RE = HTML_OPEN_CLOSE_TAG_RE;\n","// HTML block\n\n'use strict';\n\n\nvar block_names = require('../common/html_blocks');\nvar HTML_OPEN_CLOSE_TAG_RE = require('../common/html_re').HTML_OPEN_CLOSE_TAG_RE;\n\n// An array of opening and corresponding closing sequences for html tags,\n// last argument defines whether it can terminate a paragraph or not\n//\nvar HTML_SEQUENCES = [\n  [ /^<(script|pre|style)(?=(\\s|>|$))/i, /<\\/(script|pre|style)>/i, true ],\n  [ /^<!--/,        /-->/,   true ],\n  [ /^<\\?/,         /\\?>/,   true ],\n  [ /^<![A-Z]/,     />/,     true ],\n  [ /^<!\\[CDATA\\[/, /\\]\\]>/, true ],\n  [ new RegExp('^</?(' + block_names.join('|') + ')(?=(\\\\s|/?>|$))', 'i'), /^$/, true ],\n  [ new RegExp(HTML_OPEN_CLOSE_TAG_RE.source + '\\\\s*$'),  /^$/, false ]\n];\n\n\nmodule.exports = function html_block(state, startLine, endLine, silent) {\n  var i, nextLine, token, lineText,\n      pos = state.bMarks[startLine] + state.tShift[startLine],\n      max = state.eMarks[startLine];\n\n  // if it's indented more than 3 spaces, it should be a code block\n  if (state.sCount[startLine] - state.blkIndent >= 4) { return false; }\n\n  if (!state.md.options.html) { return false; }\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  lineText = state.src.slice(pos, max);\n\n  for (i = 0; i < HTML_SEQUENCES.length; i++) {\n    if (HTML_SEQUENCES[i][0].test(lineText)) { break; }\n  }\n\n  if (i === HTML_SEQUENCES.length) { return false; }\n\n  if (silent) {\n    // true if this sequence can be a terminator, false otherwise\n    return HTML_SEQUENCES[i][2];\n  }\n\n  nextLine = startLine + 1;\n\n  // If we are here - we detected HTML block.\n  // Let's roll down till block end.\n  if (!HTML_SEQUENCES[i][1].test(lineText)) {\n    for (; nextLine < endLine; nextLine++) {\n      if (state.sCount[nextLine] < state.blkIndent) { break; }\n\n      pos = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n      lineText = state.src.slice(pos, max);\n\n      if (HTML_SEQUENCES[i][1].test(lineText)) {\n        if (lineText.length !== 0) { nextLine++; }\n        break;\n      }\n    }\n  }\n\n  state.line = nextLine;\n\n  token         = state.push('html_block', '', 0);\n  token.map     = [ startLine, nextLine ];\n  token.content = state.getLines(startLine, nextLine, state.blkIndent, true);\n\n  return true;\n};\n","// Paragraph\n\n'use strict';\n\n\nmodule.exports = function paragraph(state, startLine/*, endLine*/) {\n  var content, terminate, i, l, token, oldParentType,\n      nextLine = startLine + 1,\n      terminatorRules = state.md.block.ruler.getRules('paragraph'),\n      endLine = state.lineMax;\n\n  oldParentType = state.parentType;\n  state.parentType = 'paragraph';\n\n  // jump line-by-line until empty one or EOF\n  for (; nextLine < endLine && !state.isEmpty(nextLine); nextLine++) {\n    // this would be a code block normally, but after paragraph\n    // it's considered a lazy continuation regardless of what's there\n    if (state.sCount[nextLine] - state.blkIndent > 3) { continue; }\n\n    // quirk for blockquotes, this line should already be checked by that rule\n    if (state.sCount[nextLine] < 0) { continue; }\n\n    // Some tags can terminate paragraph without empty line.\n    terminate = false;\n    for (i = 0, l = terminatorRules.length; i < l; i++) {\n      if (terminatorRules[i](state, nextLine, endLine, true)) {\n        terminate = true;\n        break;\n      }\n    }\n    if (terminate) { break; }\n  }\n\n  content = state.getLines(startLine, nextLine, state.blkIndent, false).trim();\n\n  state.line = nextLine;\n\n  token          = state.push('paragraph_open', 'p', 1);\n  token.map      = [ startLine, state.line ];\n\n  token          = state.push('inline', '', 0);\n  token.content  = content;\n  token.map      = [ startLine, state.line ];\n  token.children = [];\n\n  token          = state.push('paragraph_close', 'p', -1);\n\n  state.parentType = oldParentType;\n\n  return true;\n};\n","// Parser state class\n\n'use strict';\n\nvar Token = require('../token');\nvar isSpace = require('../common/utils').isSpace;\n\n\nfunction StateBlock(src, md, env, tokens) {\n  var ch, s, start, pos, len, indent, offset, indent_found;\n\n  this.src = src;\n\n  // link to parser instance\n  this.md     = md;\n\n  this.env = env;\n\n  //\n  // Internal state vartiables\n  //\n\n  this.tokens = tokens;\n\n  this.bMarks = [];  // line begin offsets for fast jumps\n  this.eMarks = [];  // line end offsets for fast jumps\n  this.tShift = [];  // offsets of the first non-space characters (tabs not expanded)\n  this.sCount = [];  // indents for each line (tabs expanded)\n\n  // An amount of virtual spaces (tabs expanded) between beginning\n  // of each line (bMarks) and real beginning of that line.\n  //\n  // It exists only as a hack because blockquotes override bMarks\n  // losing information in the process.\n  //\n  // It's used only when expanding tabs, you can think about it as\n  // an initial tab length, e.g. bsCount=21 applied to string `\\t123`\n  // means first tab should be expanded to 4-21%4 === 3 spaces.\n  //\n  this.bsCount = [];\n\n  // block parser variables\n  this.blkIndent  = 0; // required block content indent (for example, if we are\n                       // inside a list, it would be positioned after list marker)\n  this.line       = 0; // line index in src\n  this.lineMax    = 0; // lines count\n  this.tight      = false;  // loose/tight mode for lists\n  this.ddIndent   = -1; // indent of the current dd block (-1 if there isn't any)\n  this.listIndent = -1; // indent of the current list block (-1 if there isn't any)\n\n  // can be 'blockquote', 'list', 'root', 'paragraph' or 'reference'\n  // used in lists to determine if they interrupt a paragraph\n  this.parentType = 'root';\n\n  this.level = 0;\n\n  // renderer\n  this.result = '';\n\n  // Create caches\n  // Generate markers.\n  s = this.src;\n  indent_found = false;\n\n  for (start = pos = indent = offset = 0, len = s.length; pos < len; pos++) {\n    ch = s.charCodeAt(pos);\n\n    if (!indent_found) {\n      if (isSpace(ch)) {\n        indent++;\n\n        if (ch === 0x09) {\n          offset += 4 - offset % 4;\n        } else {\n          offset++;\n        }\n        continue;\n      } else {\n        indent_found = true;\n      }\n    }\n\n    if (ch === 0x0A || pos === len - 1) {\n      if (ch !== 0x0A) { pos++; }\n      this.bMarks.push(start);\n      this.eMarks.push(pos);\n      this.tShift.push(indent);\n      this.sCount.push(offset);\n      this.bsCount.push(0);\n\n      indent_found = false;\n      indent = 0;\n      offset = 0;\n      start = pos + 1;\n    }\n  }\n\n  // Push fake entry to simplify cache bounds checks\n  this.bMarks.push(s.length);\n  this.eMarks.push(s.length);\n  this.tShift.push(0);\n  this.sCount.push(0);\n  this.bsCount.push(0);\n\n  this.lineMax = this.bMarks.length - 1; // don't count last fake line\n}\n\n// Push new token to \"stream\".\n//\nStateBlock.prototype.push = function (type, tag, nesting) {\n  var token = new Token(type, tag, nesting);\n  token.block = true;\n\n  if (nesting < 0) this.level--; // closing tag\n  token.level = this.level;\n  if (nesting > 0) this.level++; // opening tag\n\n  this.tokens.push(token);\n  return token;\n};\n\nStateBlock.prototype.isEmpty = function isEmpty(line) {\n  return this.bMarks[line] + this.tShift[line] >= this.eMarks[line];\n};\n\nStateBlock.prototype.skipEmptyLines = function skipEmptyLines(from) {\n  for (var max = this.lineMax; from < max; from++) {\n    if (this.bMarks[from] + this.tShift[from] < this.eMarks[from]) {\n      break;\n    }\n  }\n  return from;\n};\n\n// Skip spaces from given position.\nStateBlock.prototype.skipSpaces = function skipSpaces(pos) {\n  var ch;\n\n  for (var max = this.src.length; pos < max; pos++) {\n    ch = this.src.charCodeAt(pos);\n    if (!isSpace(ch)) { break; }\n  }\n  return pos;\n};\n\n// Skip spaces from given position in reverse.\nStateBlock.prototype.skipSpacesBack = function skipSpacesBack(pos, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (!isSpace(this.src.charCodeAt(--pos))) { return pos + 1; }\n  }\n  return pos;\n};\n\n// Skip char codes from given position\nStateBlock.prototype.skipChars = function skipChars(pos, code) {\n  for (var max = this.src.length; pos < max; pos++) {\n    if (this.src.charCodeAt(pos) !== code) { break; }\n  }\n  return pos;\n};\n\n// Skip char codes reverse from given position - 1\nStateBlock.prototype.skipCharsBack = function skipCharsBack(pos, code, min) {\n  if (pos <= min) { return pos; }\n\n  while (pos > min) {\n    if (code !== this.src.charCodeAt(--pos)) { return pos + 1; }\n  }\n  return pos;\n};\n\n// cut lines range from source.\nStateBlock.prototype.getLines = function getLines(begin, end, indent, keepLastLF) {\n  var i, lineIndent, ch, first, last, queue, lineStart,\n      line = begin;\n\n  if (begin >= end) {\n    return '';\n  }\n\n  queue = new Array(end - begin);\n\n  for (i = 0; line < end; line++, i++) {\n    lineIndent = 0;\n    lineStart = first = this.bMarks[line];\n\n    if (line + 1 < end || keepLastLF) {\n      // No need for bounds check because we have fake entry on tail.\n      last = this.eMarks[line] + 1;\n    } else {\n      last = this.eMarks[line];\n    }\n\n    while (first < last && lineIndent < indent) {\n      ch = this.src.charCodeAt(first);\n\n      if (isSpace(ch)) {\n        if (ch === 0x09) {\n          lineIndent += 4 - (lineIndent + this.bsCount[line]) % 4;\n        } else {\n          lineIndent++;\n        }\n      } else if (first - lineStart < this.tShift[line]) {\n        // patched tShift masked characters to look like spaces (blockquotes, list markers)\n        lineIndent++;\n      } else {\n        break;\n      }\n\n      first++;\n    }\n\n    if (lineIndent > indent) {\n      // partially expanding tabs in code blocks, e.g '\\t\\tfoobar'\n      // with indent=2 becomes '  \\tfoobar'\n      queue[i] = new Array(lineIndent - indent + 1).join(' ') + this.src.slice(first, last);\n    } else {\n      queue[i] = this.src.slice(first, last);\n    }\n  }\n\n  return queue.join('');\n};\n\n// re-export Token class to use in block rules\nStateBlock.prototype.Token = Token;\n\n\nmodule.exports = StateBlock;\n","/** internal\n * class ParserBlock\n *\n * Block-level tokenizer.\n **/\n'use strict';\n\n\nvar Ruler           = require('./ruler');\n\n\nvar _rules = [\n  // First 2 params - rule name & source. Secondary array - list of rules,\n  // which can be terminated by this one.\n  [ 'table',      require('./rules_block/table'),      [ 'paragraph', 'reference' ] ],\n  [ 'code',       require('./rules_block/code') ],\n  [ 'fence',      require('./rules_block/fence'),      [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'blockquote', require('./rules_block/blockquote'), [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'hr',         require('./rules_block/hr'),         [ 'paragraph', 'reference', 'blockquote', 'list' ] ],\n  [ 'list',       require('./rules_block/list'),       [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'reference',  require('./rules_block/reference') ],\n  [ 'heading',    require('./rules_block/heading'),    [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'lheading',   require('./rules_block/lheading') ],\n  [ 'html_block', require('./rules_block/html_block'), [ 'paragraph', 'reference', 'blockquote' ] ],\n  [ 'paragraph',  require('./rules_block/paragraph') ]\n];\n\n\n/**\n * new ParserBlock()\n **/\nfunction ParserBlock() {\n  /**\n   * ParserBlock#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of block rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (var i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1], { alt: (_rules[i][2] || []).slice() });\n  }\n}\n\n\n// Generate tokens for input range\n//\nParserBlock.prototype.tokenize = function (state, startLine, endLine) {\n  var ok, i,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      line = startLine,\n      hasEmptyLines = false,\n      maxNesting = state.md.options.maxNesting;\n\n  while (line < endLine) {\n    state.line = line = state.skipEmptyLines(line);\n    if (line >= endLine) { break; }\n\n    // Termination condition for nested calls.\n    // Nested calls currently used for blockquotes & lists\n    if (state.sCount[line] < state.blkIndent) { break; }\n\n    // If nesting level exceeded - skip tail to the end. That's not ordinary\n    // situation and we should not care about content.\n    if (state.level >= maxNesting) {\n      state.line = endLine;\n      break;\n    }\n\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.line`\n    // - update `state.tokens`\n    // - return true\n\n    for (i = 0; i < len; i++) {\n      ok = rules[i](state, line, endLine, false);\n      if (ok) { break; }\n    }\n\n    // set state.tight if we had an empty line before current tag\n    // i.e. latest empty line should not count\n    state.tight = !hasEmptyLines;\n\n    // paragraph might \"eat\" one newline after it in nested lists\n    if (state.isEmpty(state.line - 1)) {\n      hasEmptyLines = true;\n    }\n\n    line = state.line;\n\n    if (line < endLine && state.isEmpty(line)) {\n      hasEmptyLines = true;\n      line++;\n      state.line = line;\n    }\n  }\n};\n\n\n/**\n * ParserBlock.parse(str, md, env, outTokens)\n *\n * Process input string and push block tokens into `outTokens`\n **/\nParserBlock.prototype.parse = function (src, md, env, outTokens) {\n  var state;\n\n  if (!src) { return; }\n\n  state = new this.State(src, md, env, outTokens);\n\n  this.tokenize(state, state.line, state.lineMax);\n};\n\n\nParserBlock.prototype.State = require('./rules_block/state_block');\n\n\nmodule.exports = ParserBlock;\n","// Skip text characters for text token, place those to pending buffer\n// and increment current pos\n\n'use strict';\n\n\n// Rule to skip pure text\n// '{}$%@~+=:' reserved for extentions\n\n// !, \", #, $, %, &, ', (, ), *, +, ,, -, ., /, :, ;, <, =, >, ?, @, [, \\, ], ^, _, `, {, |, }, or ~\n\n// !!!! Don't confuse with \"Markdown ASCII Punctuation\" chars\n// http://spec.commonmark.org/0.15/#ascii-punctuation-character\nfunction isTerminatorChar(ch) {\n  switch (ch) {\n    case 0x0A/* \\n */:\n    case 0x21/* ! */:\n    case 0x23/* # */:\n    case 0x24/* $ */:\n    case 0x25/* % */:\n    case 0x26/* & */:\n    case 0x2A/* * */:\n    case 0x2B/* + */:\n    case 0x2D/* - */:\n    case 0x3A/* : */:\n    case 0x3C/* < */:\n    case 0x3D/* = */:\n    case 0x3E/* > */:\n    case 0x40/* @ */:\n    case 0x5B/* [ */:\n    case 0x5C/* \\ */:\n    case 0x5D/* ] */:\n    case 0x5E/* ^ */:\n    case 0x5F/* _ */:\n    case 0x60/* ` */:\n    case 0x7B/* { */:\n    case 0x7D/* } */:\n    case 0x7E/* ~ */:\n      return true;\n    default:\n      return false;\n  }\n}\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos;\n\n  while (pos < state.posMax && !isTerminatorChar(state.src.charCodeAt(pos))) {\n    pos++;\n  }\n\n  if (pos === state.pos) { return false; }\n\n  if (!silent) { state.pending += state.src.slice(state.pos, pos); }\n\n  state.pos = pos;\n\n  return true;\n};\n\n// Alternative implementation, for memory.\n//\n// It costs 10% of performance, but allows extend terminators list, if place it\n// to `ParcerInline` property. Probably, will switch to it sometime, such\n// flexibility required.\n\n/*\nvar TERMINATOR_RE = /[\\n!#$%&*+\\-:<=>@[\\\\\\]^_`{}~]/;\n\nmodule.exports = function text(state, silent) {\n  var pos = state.pos,\n      idx = state.src.slice(pos).search(TERMINATOR_RE);\n\n  // first char is terminator -> empty text\n  if (idx === 0) { return false; }\n\n  // no terminator -> text till end of string\n  if (idx < 0) {\n    if (!silent) { state.pending += state.src.slice(pos); }\n    state.pos = state.src.length;\n    return true;\n  }\n\n  if (!silent) { state.pending += state.src.slice(pos, pos + idx); }\n\n  state.pos += idx;\n\n  return true;\n};*/\n","// Proceess '\\n'\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\n\nmodule.exports = function newline(state, silent) {\n  var pmax, max, pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x0A/* \\n */) { return false; }\n\n  pmax = state.pending.length - 1;\n  max = state.posMax;\n\n  // '  \\n' -> hardbreak\n  // Lookup in pending chars is bad practice! Don't copy to other rules!\n  // Pending string is stored in concat mode, indexed lookups will cause\n  // convertion to flat mode.\n  if (!silent) {\n    if (pmax >= 0 && state.pending.charCodeAt(pmax) === 0x20) {\n      if (pmax >= 1 && state.pending.charCodeAt(pmax - 1) === 0x20) {\n        state.pending = state.pending.replace(/ +$/, '');\n        state.push('hardbreak', 'br', 0);\n      } else {\n        state.pending = state.pending.slice(0, -1);\n        state.push('softbreak', 'br', 0);\n      }\n\n    } else {\n      state.push('softbreak', 'br', 0);\n    }\n  }\n\n  pos++;\n\n  // skip heading spaces for next line\n  while (pos < max && isSpace(state.src.charCodeAt(pos))) { pos++; }\n\n  state.pos = pos;\n  return true;\n};\n","// Process escaped chars and hardbreaks\n\n'use strict';\n\nvar isSpace = require('../common/utils').isSpace;\n\nvar ESCAPED = [];\n\nfor (var i = 0; i < 256; i++) { ESCAPED.push(0); }\n\n'\\\\!\"#$%&\\'()*+,./:;<=>?@[]^_`{|}~-'\n  .split('').forEach(function (ch) { ESCAPED[ch.charCodeAt(0)] = 1; });\n\n\nmodule.exports = function escape(state, silent) {\n  var ch, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x5C/* \\ */) { return false; }\n\n  pos++;\n\n  if (pos < max) {\n    ch = state.src.charCodeAt(pos);\n\n    if (ch < 256 && ESCAPED[ch] !== 0) {\n      if (!silent) { state.pending += state.src[pos]; }\n      state.pos += 2;\n      return true;\n    }\n\n    if (ch === 0x0A) {\n      if (!silent) {\n        state.push('hardbreak', 'br', 0);\n      }\n\n      pos++;\n      // skip leading whitespaces from next line\n      while (pos < max) {\n        ch = state.src.charCodeAt(pos);\n        if (!isSpace(ch)) { break; }\n        pos++;\n      }\n\n      state.pos = pos;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += '\\\\'; }\n  state.pos++;\n  return true;\n};\n","// Parse backticks\n\n'use strict';\n\nmodule.exports = function backtick(state, silent) {\n  var start, max, marker, matchStart, matchEnd, token,\n      pos = state.pos,\n      ch = state.src.charCodeAt(pos);\n\n  if (ch !== 0x60/* ` */) { return false; }\n\n  start = pos;\n  pos++;\n  max = state.posMax;\n\n  while (pos < max && state.src.charCodeAt(pos) === 0x60/* ` */) { pos++; }\n\n  marker = state.src.slice(start, pos);\n\n  matchStart = matchEnd = pos;\n\n  while ((matchStart = state.src.indexOf('`', matchEnd)) !== -1) {\n    matchEnd = matchStart + 1;\n\n    while (matchEnd < max && state.src.charCodeAt(matchEnd) === 0x60/* ` */) { matchEnd++; }\n\n    if (matchEnd - matchStart === marker.length) {\n      if (!silent) {\n        token         = state.push('code_inline', 'code', 0);\n        token.markup  = marker;\n        token.content = state.src.slice(pos, matchStart)\n          .replace(/\\n/g, ' ')\n          .replace(/^ (.+) $/, '$1');\n      }\n      state.pos = matchEnd;\n      return true;\n    }\n  }\n\n  if (!silent) { state.pending += marker; }\n  state.pos += marker.length;\n  return true;\n};\n","// ~~strike through~~\n//\n'use strict';\n\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nmodule.exports.tokenize = function strikethrough(state, silent) {\n  var i, scanned, token, len, ch,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (silent) { return false; }\n\n  if (marker !== 0x7E/* ~ */) { return false; }\n\n  scanned = state.scanDelims(state.pos, true);\n  len = scanned.length;\n  ch = String.fromCharCode(marker);\n\n  if (len < 2) { return false; }\n\n  if (len % 2) {\n    token         = state.push('text', '', 0);\n    token.content = ch;\n    len--;\n  }\n\n  for (i = 0; i < len; i += 2) {\n    token         = state.push('text', '', 0);\n    token.content = ch + ch;\n\n    state.delimiters.push({\n      marker: marker,\n      length: 0, // disable \"rule of 3\" length checks meant for emphasis\n      jump:   i,\n      token:  state.tokens.length - 1,\n      end:    -1,\n      open:   scanned.can_open,\n      close:  scanned.can_close\n    });\n  }\n\n  state.pos += scanned.length;\n\n  return true;\n};\n\n\nfunction postProcess(state, delimiters) {\n  var i, j,\n      startDelim,\n      endDelim,\n      token,\n      loneMarkers = [],\n      max = delimiters.length;\n\n  for (i = 0; i < max; i++) {\n    startDelim = delimiters[i];\n\n    if (startDelim.marker !== 0x7E/* ~ */) {\n      continue;\n    }\n\n    if (startDelim.end === -1) {\n      continue;\n    }\n\n    endDelim = delimiters[startDelim.end];\n\n    token         = state.tokens[startDelim.token];\n    token.type    = 's_open';\n    token.tag     = 's';\n    token.nesting = 1;\n    token.markup  = '~~';\n    token.content = '';\n\n    token         = state.tokens[endDelim.token];\n    token.type    = 's_close';\n    token.tag     = 's';\n    token.nesting = -1;\n    token.markup  = '~~';\n    token.content = '';\n\n    if (state.tokens[endDelim.token - 1].type === 'text' &&\n        state.tokens[endDelim.token - 1].content === '~') {\n\n      loneMarkers.push(endDelim.token - 1);\n    }\n  }\n\n  // If a marker sequence has an odd number of characters, it's splitted\n  // like this: `~~~~~` -> `~` + `~~` + `~~`, leaving one marker at the\n  // start of the sequence.\n  //\n  // So, we have to move all those markers after subsequent s_close tags.\n  //\n  while (loneMarkers.length) {\n    i = loneMarkers.pop();\n    j = i + 1;\n\n    while (j < state.tokens.length && state.tokens[j].type === 's_close') {\n      j++;\n    }\n\n    j--;\n\n    if (i !== j) {\n      token = state.tokens[j];\n      state.tokens[j] = state.tokens[i];\n      state.tokens[i] = token;\n    }\n  }\n}\n\n\n// Walk through delimiter list and replace text tokens with tags\n//\nmodule.exports.postProcess = function strikethrough(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  postProcess(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n","// Process *this* and _that_\n//\n'use strict';\n\n\n// Insert each marker as a separate text token, and add it to delimiter list\n//\nmodule.exports.tokenize = function emphasis(state, silent) {\n  var i, scanned, token,\n      start = state.pos,\n      marker = state.src.charCodeAt(start);\n\n  if (silent) { return false; }\n\n  if (marker !== 0x5F /* _ */ && marker !== 0x2A /* * */) { return false; }\n\n  scanned = state.scanDelims(state.pos, marker === 0x2A);\n\n  for (i = 0; i < scanned.length; i++) {\n    token         = state.push('text', '', 0);\n    token.content = String.fromCharCode(marker);\n\n    state.delimiters.push({\n      // Char code of the starting marker (number).\n      //\n      marker: marker,\n\n      // Total length of these series of delimiters.\n      //\n      length: scanned.length,\n\n      // An amount of characters before this one that's equivalent to\n      // current one. In plain English: if this delimiter does not open\n      // an emphasis, neither do previous `jump` characters.\n      //\n      // Used to skip sequences like \"*****\" in one step, for 1st asterisk\n      // value will be 0, for 2nd it's 1 and so on.\n      //\n      jump:   i,\n\n      // A position of the token this delimiter corresponds to.\n      //\n      token:  state.tokens.length - 1,\n\n      // If this delimiter is matched as a valid opener, `end` will be\n      // equal to its position, otherwise it's `-1`.\n      //\n      end:    -1,\n\n      // Boolean flags that determine if this delimiter could open or close\n      // an emphasis.\n      //\n      open:   scanned.can_open,\n      close:  scanned.can_close\n    });\n  }\n\n  state.pos += scanned.length;\n\n  return true;\n};\n\n\nfunction postProcess(state, delimiters) {\n  var i,\n      startDelim,\n      endDelim,\n      token,\n      ch,\n      isStrong,\n      max = delimiters.length;\n\n  for (i = max - 1; i >= 0; i--) {\n    startDelim = delimiters[i];\n\n    if (startDelim.marker !== 0x5F/* _ */ && startDelim.marker !== 0x2A/* * */) {\n      continue;\n    }\n\n    // Process only opening markers\n    if (startDelim.end === -1) {\n      continue;\n    }\n\n    endDelim = delimiters[startDelim.end];\n\n    // If the previous delimiter has the same marker and is adjacent to this one,\n    // merge those into one strong delimiter.\n    //\n    // `<em><em>whatever</em></em>` -> `<strong>whatever</strong>`\n    //\n    isStrong = i > 0 &&\n               delimiters[i - 1].end === startDelim.end + 1 &&\n               delimiters[i - 1].token === startDelim.token - 1 &&\n               delimiters[startDelim.end + 1].token === endDelim.token + 1 &&\n               delimiters[i - 1].marker === startDelim.marker;\n\n    ch = String.fromCharCode(startDelim.marker);\n\n    token         = state.tokens[startDelim.token];\n    token.type    = isStrong ? 'strong_open' : 'em_open';\n    token.tag     = isStrong ? 'strong' : 'em';\n    token.nesting = 1;\n    token.markup  = isStrong ? ch + ch : ch;\n    token.content = '';\n\n    token         = state.tokens[endDelim.token];\n    token.type    = isStrong ? 'strong_close' : 'em_close';\n    token.tag     = isStrong ? 'strong' : 'em';\n    token.nesting = -1;\n    token.markup  = isStrong ? ch + ch : ch;\n    token.content = '';\n\n    if (isStrong) {\n      state.tokens[delimiters[i - 1].token].content = '';\n      state.tokens[delimiters[startDelim.end + 1].token].content = '';\n      i--;\n    }\n  }\n}\n\n\n// Walk through delimiter list and replace text tokens with tags\n//\nmodule.exports.postProcess = function emphasis(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  postProcess(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      postProcess(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n","// Process [link](<to> \"stuff\")\n\n'use strict';\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function link(state, silent) {\n  var attrs,\n      code,\n      label,\n      labelEnd,\n      labelStart,\n      pos,\n      res,\n      ref,\n      title,\n      token,\n      href = '',\n      oldPos = state.pos,\n      max = state.posMax,\n      start = state.pos,\n      parseReference = true;\n\n  if (state.src.charCodeAt(state.pos) !== 0x5B/* [ */) { return false; }\n\n  labelStart = state.pos + 1;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos, true);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // might have found a valid shortcut link, disable reference parsing\n    parseReference = false;\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n    if (pos < max && start !== pos && res.ok) {\n      title = res.str;\n      pos = res.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!isSpace(code) && code !== 0x0A) { break; }\n      }\n    } else {\n      title = '';\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      // parsing a valid shortcut link failed, fallback to reference\n      parseReference = true;\n    }\n    pos++;\n  }\n\n  if (parseReference) {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') { return false; }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = labelEnd + 1;\n      }\n    } else {\n      pos = labelEnd + 1;\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) { label = state.src.slice(labelStart, labelEnd); }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    token        = state.push('link_open', 'a', 1);\n    token.attrs  = attrs = [ [ 'href', href ] ];\n    if (title) {\n      attrs.push([ 'title', title ]);\n    }\n\n    state.md.inline.tokenize(state);\n\n    token        = state.push('link_close', 'a', -1);\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n","// Process ![image](<src> \"title\")\n\n'use strict';\n\nvar normalizeReference   = require('../common/utils').normalizeReference;\nvar isSpace              = require('../common/utils').isSpace;\n\n\nmodule.exports = function image(state, silent) {\n  var attrs,\n      code,\n      content,\n      label,\n      labelEnd,\n      labelStart,\n      pos,\n      ref,\n      res,\n      title,\n      token,\n      tokens,\n      start,\n      href = '',\n      oldPos = state.pos,\n      max = state.posMax;\n\n  if (state.src.charCodeAt(state.pos) !== 0x21/* ! */) { return false; }\n  if (state.src.charCodeAt(state.pos + 1) !== 0x5B/* [ */) { return false; }\n\n  labelStart = state.pos + 2;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos + 1, false);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) { return false; }\n\n  pos = labelEnd + 1;\n  if (pos < max && state.src.charCodeAt(pos) === 0x28/* ( */) {\n    //\n    // Inline link\n    //\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos++;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n    if (pos >= max) { return false; }\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    start = pos;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    start = pos;\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!isSpace(code) && code !== 0x0A) { break; }\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n    if (pos < max && start !== pos && res.ok) {\n      title = res.str;\n      pos = res.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!isSpace(code) && code !== 0x0A) { break; }\n      }\n    } else {\n      title = '';\n    }\n\n    if (pos >= max || state.src.charCodeAt(pos) !== 0x29/* ) */) {\n      state.pos = oldPos;\n      return false;\n    }\n    pos++;\n  } else {\n    //\n    // Link reference\n    //\n    if (typeof state.env.references === 'undefined') { return false; }\n\n    if (pos < max && state.src.charCodeAt(pos) === 0x5B/* [ */) {\n      start = pos + 1;\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n      if (pos >= 0) {\n        label = state.src.slice(start, pos++);\n      } else {\n        pos = labelEnd + 1;\n      }\n    } else {\n      pos = labelEnd + 1;\n    }\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) { label = state.src.slice(labelStart, labelEnd); }\n\n    ref = state.env.references[normalizeReference(label)];\n    if (!ref) {\n      state.pos = oldPos;\n      return false;\n    }\n    href = ref.href;\n    title = ref.title;\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    content = state.src.slice(labelStart, labelEnd);\n\n    state.md.inline.parse(\n      content,\n      state.md,\n      state.env,\n      tokens = []\n    );\n\n    token          = state.push('image', 'img', 0);\n    token.attrs    = attrs = [ [ 'src', href ], [ 'alt', '' ] ];\n    token.children = tokens;\n    token.content  = content;\n\n    if (title) {\n      attrs.push([ 'title', title ]);\n    }\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n  return true;\n};\n","// Process autolinks '<protocol:...>'\n\n'use strict';\n\n\n/*eslint max-len:0*/\nvar EMAIL_RE    = /^<([a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/;\nvar AUTOLINK_RE = /^<([a-zA-Z][a-zA-Z0-9+.\\-]{1,31}):([^<>\\x00-\\x20]*)>/;\n\n\nmodule.exports = function autolink(state, silent) {\n  var tail, linkMatch, emailMatch, url, fullUrl, token,\n      pos = state.pos;\n\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */) { return false; }\n\n  tail = state.src.slice(pos);\n\n  if (tail.indexOf('>') < 0) { return false; }\n\n  if (AUTOLINK_RE.test(tail)) {\n    linkMatch = tail.match(AUTOLINK_RE);\n\n    url = linkMatch[0].slice(1, -1);\n    fullUrl = state.md.normalizeLink(url);\n    if (!state.md.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      token         = state.push('link_open', 'a', 1);\n      token.attrs   = [ [ 'href', fullUrl ] ];\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n\n      token         = state.push('text', '', 0);\n      token.content = state.md.normalizeLinkText(url);\n\n      token         = state.push('link_close', 'a', -1);\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n    }\n\n    state.pos += linkMatch[0].length;\n    return true;\n  }\n\n  if (EMAIL_RE.test(tail)) {\n    emailMatch = tail.match(EMAIL_RE);\n\n    url = emailMatch[0].slice(1, -1);\n    fullUrl = state.md.normalizeLink('mailto:' + url);\n    if (!state.md.validateLink(fullUrl)) { return false; }\n\n    if (!silent) {\n      token         = state.push('link_open', 'a', 1);\n      token.attrs   = [ [ 'href', fullUrl ] ];\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n\n      token         = state.push('text', '', 0);\n      token.content = state.md.normalizeLinkText(url);\n\n      token         = state.push('link_close', 'a', -1);\n      token.markup  = 'autolink';\n      token.info    = 'auto';\n    }\n\n    state.pos += emailMatch[0].length;\n    return true;\n  }\n\n  return false;\n};\n","// Process html tags\n\n'use strict';\n\n\nvar HTML_TAG_RE = require('../common/html_re').HTML_TAG_RE;\n\n\nfunction isLetter(ch) {\n  /*eslint no-bitwise:0*/\n  var lc = ch | 0x20; // to lower case\n  return (lc >= 0x61/* a */) && (lc <= 0x7a/* z */);\n}\n\n\nmodule.exports = function html_inline(state, silent) {\n  var ch, match, max, token,\n      pos = state.pos;\n\n  if (!state.md.options.html) { return false; }\n\n  // Check start\n  max = state.posMax;\n  if (state.src.charCodeAt(pos) !== 0x3C/* < */ ||\n      pos + 2 >= max) {\n    return false;\n  }\n\n  // Quick fail on second char\n  ch = state.src.charCodeAt(pos + 1);\n  if (ch !== 0x21/* ! */ &&\n      ch !== 0x3F/* ? */ &&\n      ch !== 0x2F/* / */ &&\n      !isLetter(ch)) {\n    return false;\n  }\n\n  match = state.src.slice(pos).match(HTML_TAG_RE);\n  if (!match) { return false; }\n\n  if (!silent) {\n    token         = state.push('html_inline', '', 0);\n    token.content = state.src.slice(pos, pos + match[0].length);\n  }\n  state.pos += match[0].length;\n  return true;\n};\n","// Process html entity - &#123;, &#xAF;, &quot;, ...\n\n'use strict';\n\nvar entities          = require('../common/entities');\nvar has               = require('../common/utils').has;\nvar isValidEntityCode = require('../common/utils').isValidEntityCode;\nvar fromCodePoint     = require('../common/utils').fromCodePoint;\n\n\nvar DIGITAL_RE = /^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i;\nvar NAMED_RE   = /^&([a-z][a-z0-9]{1,31});/i;\n\n\nmodule.exports = function entity(state, silent) {\n  var ch, code, match, pos = state.pos, max = state.posMax;\n\n  if (state.src.charCodeAt(pos) !== 0x26/* & */) { return false; }\n\n  if (pos + 1 < max) {\n    ch = state.src.charCodeAt(pos + 1);\n\n    if (ch === 0x23 /* # */) {\n      match = state.src.slice(pos).match(DIGITAL_RE);\n      if (match) {\n        if (!silent) {\n          code = match[1][0].toLowerCase() === 'x' ? parseInt(match[1].slice(1), 16) : parseInt(match[1], 10);\n          state.pending += isValidEntityCode(code) ? fromCodePoint(code) : fromCodePoint(0xFFFD);\n        }\n        state.pos += match[0].length;\n        return true;\n      }\n    } else {\n      match = state.src.slice(pos).match(NAMED_RE);\n      if (match) {\n        if (has(entities, match[1])) {\n          if (!silent) { state.pending += entities[match[1]]; }\n          state.pos += match[0].length;\n          return true;\n        }\n      }\n    }\n  }\n\n  if (!silent) { state.pending += '&'; }\n  state.pos++;\n  return true;\n};\n","// For each opening emphasis-like marker find a matching closing one\n//\n'use strict';\n\n\nfunction processDelimiters(state, delimiters) {\n  var closerIdx, openerIdx, closer, opener, minOpenerIdx, newMinOpenerIdx,\n      isOddMatch, lastJump,\n      openersBottom = {},\n      max = delimiters.length;\n\n  for (closerIdx = 0; closerIdx < max; closerIdx++) {\n    closer = delimiters[closerIdx];\n\n    // Length is only used for emphasis-specific \"rule of 3\",\n    // if it's not defined (in strikethrough or 3rd party plugins),\n    // we can default it to 0 to disable those checks.\n    //\n    closer.length = closer.length || 0;\n\n    if (!closer.close) continue;\n\n    // Previously calculated lower bounds (previous fails)\n    // for each marker and each delimiter length modulo 3.\n    if (!openersBottom.hasOwnProperty(closer.marker)) {\n      openersBottom[closer.marker] = [ -1, -1, -1 ];\n    }\n\n    minOpenerIdx = openersBottom[closer.marker][closer.length % 3];\n    newMinOpenerIdx = -1;\n\n    openerIdx = closerIdx - closer.jump - 1;\n\n    for (; openerIdx > minOpenerIdx; openerIdx -= opener.jump + 1) {\n      opener = delimiters[openerIdx];\n\n      if (opener.marker !== closer.marker) continue;\n\n      if (newMinOpenerIdx === -1) newMinOpenerIdx = openerIdx;\n\n      if (opener.open &&\n          opener.end < 0 &&\n          opener.level === closer.level) {\n\n        isOddMatch = false;\n\n        // from spec:\n        //\n        // If one of the delimiters can both open and close emphasis, then the\n        // sum of the lengths of the delimiter runs containing the opening and\n        // closing delimiters must not be a multiple of 3 unless both lengths\n        // are multiples of 3.\n        //\n        if (opener.close || closer.open) {\n          if ((opener.length + closer.length) % 3 === 0) {\n            if (opener.length % 3 !== 0 || closer.length % 3 !== 0) {\n              isOddMatch = true;\n            }\n          }\n        }\n\n        if (!isOddMatch) {\n          // If previous delimiter cannot be an opener, we can safely skip\n          // the entire sequence in future checks. This is required to make\n          // sure algorithm has linear complexity (see *_*_*_*_*_... case).\n          //\n          lastJump = openerIdx > 0 && !delimiters[openerIdx - 1].open ?\n            delimiters[openerIdx - 1].jump + 1 :\n            0;\n\n          closer.jump  = closerIdx - openerIdx + lastJump;\n          closer.open  = false;\n          opener.end   = closerIdx;\n          opener.jump  = lastJump;\n          opener.close = false;\n          newMinOpenerIdx = -1;\n          break;\n        }\n      }\n    }\n\n    if (newMinOpenerIdx !== -1) {\n      // If match for this delimiter run failed, we want to set lower bound for\n      // future lookups. This is required to make sure algorithm has linear\n      // complexity.\n      //\n      // See details here:\n      // https://github.com/commonmark/cmark/issues/178#issuecomment-270417442\n      //\n      openersBottom[closer.marker][(closer.length || 0) % 3] = newMinOpenerIdx;\n    }\n  }\n}\n\n\nmodule.exports = function link_pairs(state) {\n  var curr,\n      tokens_meta = state.tokens_meta,\n      max = state.tokens_meta.length;\n\n  processDelimiters(state, state.delimiters);\n\n  for (curr = 0; curr < max; curr++) {\n    if (tokens_meta[curr] && tokens_meta[curr].delimiters) {\n      processDelimiters(state, tokens_meta[curr].delimiters);\n    }\n  }\n};\n","// Clean up tokens after emphasis and strikethrough postprocessing:\n// merge adjacent text nodes into one and re-calculate all token levels\n//\n// This is necessary because initially emphasis delimiter markers (*, _, ~)\n// are treated as their own separate text tokens. Then emphasis rule either\n// leaves them as text (needed to merge with adjacent text) or turns them\n// into opening/closing tags (which messes up levels inside).\n//\n'use strict';\n\n\nmodule.exports = function text_collapse(state) {\n  var curr, last,\n      level = 0,\n      tokens = state.tokens,\n      max = state.tokens.length;\n\n  for (curr = last = 0; curr < max; curr++) {\n    // re-calculate levels after emphasis/strikethrough turns some text nodes\n    // into opening/closing tags\n    if (tokens[curr].nesting < 0) level--; // closing tag\n    tokens[curr].level = level;\n    if (tokens[curr].nesting > 0) level++; // opening tag\n\n    if (tokens[curr].type === 'text' &&\n        curr + 1 < max &&\n        tokens[curr + 1].type === 'text') {\n\n      // collapse two adjacent text nodes\n      tokens[curr + 1].content = tokens[curr].content + tokens[curr + 1].content;\n    } else {\n      if (curr !== last) { tokens[last] = tokens[curr]; }\n\n      last++;\n    }\n  }\n\n  if (curr !== last) {\n    tokens.length = last;\n  }\n};\n","// Inline parser state\n\n'use strict';\n\n\nvar Token          = require('../token');\nvar isWhiteSpace   = require('../common/utils').isWhiteSpace;\nvar isPunctChar    = require('../common/utils').isPunctChar;\nvar isMdAsciiPunct = require('../common/utils').isMdAsciiPunct;\n\n\nfunction StateInline(src, md, env, outTokens) {\n  this.src = src;\n  this.env = env;\n  this.md = md;\n  this.tokens = outTokens;\n  this.tokens_meta = Array(outTokens.length);\n\n  this.pos = 0;\n  this.posMax = this.src.length;\n  this.level = 0;\n  this.pending = '';\n  this.pendingLevel = 0;\n\n  // Stores { start: end } pairs. Useful for backtrack\n  // optimization of pairs parse (emphasis, strikes).\n  this.cache = {};\n\n  // List of emphasis-like delimiters for current tag\n  this.delimiters = [];\n\n  // Stack of delimiter lists for upper level tags\n  this._prev_delimiters = [];\n}\n\n\n// Flush pending text\n//\nStateInline.prototype.pushPending = function () {\n  var token = new Token('text', '', 0);\n  token.content = this.pending;\n  token.level = this.pendingLevel;\n  this.tokens.push(token);\n  this.pending = '';\n  return token;\n};\n\n\n// Push new token to \"stream\".\n// If pending text exists - flush it as text token\n//\nStateInline.prototype.push = function (type, tag, nesting) {\n  if (this.pending) {\n    this.pushPending();\n  }\n\n  var token = new Token(type, tag, nesting);\n  var token_meta = null;\n\n  if (nesting < 0) {\n    // closing tag\n    this.level--;\n    this.delimiters = this._prev_delimiters.pop();\n  }\n\n  token.level = this.level;\n\n  if (nesting > 0) {\n    // opening tag\n    this.level++;\n    this._prev_delimiters.push(this.delimiters);\n    this.delimiters = [];\n    token_meta = { delimiters: this.delimiters };\n  }\n\n  this.pendingLevel = this.level;\n  this.tokens.push(token);\n  this.tokens_meta.push(token_meta);\n  return token;\n};\n\n\n// Scan a sequence of emphasis-like markers, and determine whether\n// it can start an emphasis sequence or end an emphasis sequence.\n//\n//  - start - position to scan from (it should point at a valid marker);\n//  - canSplitWord - determine if these markers can be found inside a word\n//\nStateInline.prototype.scanDelims = function (start, canSplitWord) {\n  var pos = start, lastChar, nextChar, count, can_open, can_close,\n      isLastWhiteSpace, isLastPunctChar,\n      isNextWhiteSpace, isNextPunctChar,\n      left_flanking = true,\n      right_flanking = true,\n      max = this.posMax,\n      marker = this.src.charCodeAt(start);\n\n  // treat beginning of the line as a whitespace\n  lastChar = start > 0 ? this.src.charCodeAt(start - 1) : 0x20;\n\n  while (pos < max && this.src.charCodeAt(pos) === marker) { pos++; }\n\n  count = pos - start;\n\n  // treat end of the line as a whitespace\n  nextChar = pos < max ? this.src.charCodeAt(pos) : 0x20;\n\n  isLastPunctChar = isMdAsciiPunct(lastChar) || isPunctChar(String.fromCharCode(lastChar));\n  isNextPunctChar = isMdAsciiPunct(nextChar) || isPunctChar(String.fromCharCode(nextChar));\n\n  isLastWhiteSpace = isWhiteSpace(lastChar);\n  isNextWhiteSpace = isWhiteSpace(nextChar);\n\n  if (isNextWhiteSpace) {\n    left_flanking = false;\n  } else if (isNextPunctChar) {\n    if (!(isLastWhiteSpace || isLastPunctChar)) {\n      left_flanking = false;\n    }\n  }\n\n  if (isLastWhiteSpace) {\n    right_flanking = false;\n  } else if (isLastPunctChar) {\n    if (!(isNextWhiteSpace || isNextPunctChar)) {\n      right_flanking = false;\n    }\n  }\n\n  if (!canSplitWord) {\n    can_open  = left_flanking  && (!right_flanking || isLastPunctChar);\n    can_close = right_flanking && (!left_flanking  || isNextPunctChar);\n  } else {\n    can_open  = left_flanking;\n    can_close = right_flanking;\n  }\n\n  return {\n    can_open:  can_open,\n    can_close: can_close,\n    length:    count\n  };\n};\n\n\n// re-export Token class to use in block rules\nStateInline.prototype.Token = Token;\n\n\nmodule.exports = StateInline;\n","/** internal\n * class ParserInline\n *\n * Tokenizes paragraph content.\n **/\n'use strict';\n\n\nvar Ruler           = require('./ruler');\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Parser rules\n\nvar _rules = [\n  [ 'text',            require('./rules_inline/text') ],\n  [ 'newline',         require('./rules_inline/newline') ],\n  [ 'escape',          require('./rules_inline/escape') ],\n  [ 'backticks',       require('./rules_inline/backticks') ],\n  [ 'strikethrough',   require('./rules_inline/strikethrough').tokenize ],\n  [ 'emphasis',        require('./rules_inline/emphasis').tokenize ],\n  [ 'link',            require('./rules_inline/link') ],\n  [ 'image',           require('./rules_inline/image') ],\n  [ 'autolink',        require('./rules_inline/autolink') ],\n  [ 'html_inline',     require('./rules_inline/html_inline') ],\n  [ 'entity',          require('./rules_inline/entity') ]\n];\n\nvar _rules2 = [\n  [ 'balance_pairs',   require('./rules_inline/balance_pairs') ],\n  [ 'strikethrough',   require('./rules_inline/strikethrough').postProcess ],\n  [ 'emphasis',        require('./rules_inline/emphasis').postProcess ],\n  [ 'text_collapse',   require('./rules_inline/text_collapse') ]\n];\n\n\n/**\n * new ParserInline()\n **/\nfunction ParserInline() {\n  var i;\n\n  /**\n   * ParserInline#ruler -> Ruler\n   *\n   * [[Ruler]] instance. Keep configuration of inline rules.\n   **/\n  this.ruler = new Ruler();\n\n  for (i = 0; i < _rules.length; i++) {\n    this.ruler.push(_rules[i][0], _rules[i][1]);\n  }\n\n  /**\n   * ParserInline#ruler2 -> Ruler\n   *\n   * [[Ruler]] instance. Second ruler used for post-processing\n   * (e.g. in emphasis-like rules).\n   **/\n  this.ruler2 = new Ruler();\n\n  for (i = 0; i < _rules2.length; i++) {\n    this.ruler2.push(_rules2[i][0], _rules2[i][1]);\n  }\n}\n\n\n// Skip single token by running all rules in validation mode;\n// returns `true` if any rule reported success\n//\nParserInline.prototype.skipToken = function (state) {\n  var ok, i, pos = state.pos,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      maxNesting = state.md.options.maxNesting,\n      cache = state.cache;\n\n\n  if (typeof cache[pos] !== 'undefined') {\n    state.pos = cache[pos];\n    return;\n  }\n\n  if (state.level < maxNesting) {\n    for (i = 0; i < len; i++) {\n      // Increment state.level and decrement it later to limit recursion.\n      // It's harmless to do here, because no tokens are created. But ideally,\n      // we'd need a separate private state variable for this purpose.\n      //\n      state.level++;\n      ok = rules[i](state, true);\n      state.level--;\n\n      if (ok) { break; }\n    }\n  } else {\n    // Too much nesting, just skip until the end of the paragraph.\n    //\n    // NOTE: this will cause links to behave incorrectly in the following case,\n    //       when an amount of `[` is exactly equal to `maxNesting + 1`:\n    //\n    //       [[[[[[[[[[[[[[[[[[[[[foo]()\n    //\n    // TODO: remove this workaround when CM standard will allow nested links\n    //       (we can replace it by preventing links from being parsed in\n    //       validation mode)\n    //\n    state.pos = state.posMax;\n  }\n\n  if (!ok) { state.pos++; }\n  cache[pos] = state.pos;\n};\n\n\n// Generate tokens for input range\n//\nParserInline.prototype.tokenize = function (state) {\n  var ok, i,\n      rules = this.ruler.getRules(''),\n      len = rules.length,\n      end = state.posMax,\n      maxNesting = state.md.options.maxNesting;\n\n  while (state.pos < end) {\n    // Try all possible rules.\n    // On success, rule should:\n    //\n    // - update `state.pos`\n    // - update `state.tokens`\n    // - return true\n\n    if (state.level < maxNesting) {\n      for (i = 0; i < len; i++) {\n        ok = rules[i](state, false);\n        if (ok) { break; }\n      }\n    }\n\n    if (ok) {\n      if (state.pos >= end) { break; }\n      continue;\n    }\n\n    state.pending += state.src[state.pos++];\n  }\n\n  if (state.pending) {\n    state.pushPending();\n  }\n};\n\n\n/**\n * ParserInline.parse(str, md, env, outTokens)\n *\n * Process input string and push inline tokens into `outTokens`\n **/\nParserInline.prototype.parse = function (str, md, env, outTokens) {\n  var i, rules, len;\n  var state = new this.State(str, md, env, outTokens);\n\n  this.tokenize(state);\n\n  rules = this.ruler2.getRules('');\n  len = rules.length;\n\n  for (i = 0; i < len; i++) {\n    rules[i](state);\n  }\n};\n\n\nParserInline.prototype.State = require('./rules_inline/state_inline');\n\n\nmodule.exports = ParserInline;\n","'use strict';\n\n\nmodule.exports = function (opts) {\n  var re = {};\n\n  // Use direct extract instead of `regenerate` to reduse browserified size\n  re.src_Any = require('uc.micro/properties/Any/regex').source;\n  re.src_Cc  = require('uc.micro/categories/Cc/regex').source;\n  re.src_Z   = require('uc.micro/categories/Z/regex').source;\n  re.src_P   = require('uc.micro/categories/P/regex').source;\n\n  // \\p{\\Z\\P\\Cc\\CF} (white spaces + control + format + punctuation)\n  re.src_ZPCc = [ re.src_Z, re.src_P, re.src_Cc ].join('|');\n\n  // \\p{\\Z\\Cc} (white spaces + control)\n  re.src_ZCc = [ re.src_Z, re.src_Cc ].join('|');\n\n  // Experimental. List of chars, completely prohibited in links\n  // because can separate it from other part of text\n  var text_separators = '[><\\uff5c]';\n\n  // All possible word characters (everything without punctuation, spaces & controls)\n  // Defined via punctuation & spaces to save space\n  // Should be something like \\p{\\L\\N\\S\\M} (\\w but without `_`)\n  re.src_pseudo_letter       = '(?:(?!' + text_separators + '|' + re.src_ZPCc + ')' + re.src_Any + ')';\n  // The same as abothe but without [0-9]\n  // var src_pseudo_letter_non_d = '(?:(?![0-9]|' + src_ZPCc + ')' + src_Any + ')';\n\n  ////////////////////////////////////////////////////////////////////////////////\n\n  re.src_ip4 =\n\n    '(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)';\n\n  // Prohibit any of \"@/[]()\" in user/pass to avoid wrong domain fetch.\n  re.src_auth    = '(?:(?:(?!' + re.src_ZCc + '|[@/\\\\[\\\\]()]).)+@)?';\n\n  re.src_port =\n\n    '(?::(?:6(?:[0-4]\\\\d{3}|5(?:[0-4]\\\\d{2}|5(?:[0-2]\\\\d|3[0-5])))|[1-5]?\\\\d{1,4}))?';\n\n  re.src_host_terminator =\n\n    '(?=$|' + text_separators + '|' + re.src_ZPCc + ')(?!-|_|:\\\\d|\\\\.-|\\\\.(?!$|' + re.src_ZPCc + '))';\n\n  re.src_path =\n\n    '(?:' +\n      '[/?#]' +\n        '(?:' +\n          '(?!' + re.src_ZCc + '|' + text_separators + '|[()[\\\\]{}.,\"\\'?!\\\\-]).|' +\n          '\\\\[(?:(?!' + re.src_ZCc + '|\\\\]).)*\\\\]|' +\n          '\\\\((?:(?!' + re.src_ZCc + '|[)]).)*\\\\)|' +\n          '\\\\{(?:(?!' + re.src_ZCc + '|[}]).)*\\\\}|' +\n          '\\\\\"(?:(?!' + re.src_ZCc + '|[\"]).)+\\\\\"|' +\n          \"\\\\'(?:(?!\" + re.src_ZCc + \"|[']).)+\\\\'|\" +\n          \"\\\\'(?=\" + re.src_pseudo_letter + '|[-]).|' +  // allow `I'm_king` if no pair found\n          '\\\\.{2,4}[a-zA-Z0-9%/]|' + // github has ... in commit range links,\n                                     // google has .... in links (issue #66)\n                                     // Restrict to\n                                     // - english\n                                     // - percent-encoded\n                                     // - parts of file path\n                                     // until more examples found.\n          '\\\\.(?!' + re.src_ZCc + '|[.]).|' +\n          (opts && opts['---'] ?\n            '\\\\-(?!--(?:[^-]|$))(?:-*)|' // `---` => long dash, terminate\n            :\n            '\\\\-+|'\n          ) +\n          '\\\\,(?!' + re.src_ZCc + ').|' +      // allow `,,,` in paths\n          '\\\\!(?!' + re.src_ZCc + '|[!]).|' +\n          '\\\\?(?!' + re.src_ZCc + '|[?]).' +\n        ')+' +\n      '|\\\\/' +\n    ')?';\n\n  // Allow anything in markdown spec, forbid quote (\") at the first position\n  // because emails enclosed in quotes are far more common\n  re.src_email_name =\n\n    '[\\\\-;:&=\\\\+\\\\$,\\\\.a-zA-Z0-9_][\\\\-;:&=\\\\+\\\\$,\\\\\"\\\\.a-zA-Z0-9_]*';\n\n  re.src_xn =\n\n    'xn--[a-z0-9\\\\-]{1,59}';\n\n  // More to read about domain names\n  // http://serverfault.com/questions/638260/\n\n  re.src_domain_root =\n\n    // Allow letters & digits (http://test1)\n    '(?:' +\n      re.src_xn +\n      '|' +\n      re.src_pseudo_letter + '{1,63}' +\n    ')';\n\n  re.src_domain =\n\n    '(?:' +\n      re.src_xn +\n      '|' +\n      '(?:' + re.src_pseudo_letter + ')' +\n      '|' +\n      '(?:' + re.src_pseudo_letter + '(?:-|' + re.src_pseudo_letter + '){0,61}' + re.src_pseudo_letter + ')' +\n    ')';\n\n  re.src_host =\n\n    '(?:' +\n    // Don't need IP check, because digits are already allowed in normal domain names\n    //   src_ip4 +\n    // '|' +\n      '(?:(?:(?:' + re.src_domain + ')\\\\.)*' + re.src_domain/*_root*/ + ')' +\n    ')';\n\n  re.tpl_host_fuzzy =\n\n    '(?:' +\n      re.src_ip4 +\n    '|' +\n      '(?:(?:(?:' + re.src_domain + ')\\\\.)+(?:%TLDS%))' +\n    ')';\n\n  re.tpl_host_no_ip_fuzzy =\n\n    '(?:(?:(?:' + re.src_domain + ')\\\\.)+(?:%TLDS%))';\n\n  re.src_host_strict =\n\n    re.src_host + re.src_host_terminator;\n\n  re.tpl_host_fuzzy_strict =\n\n    re.tpl_host_fuzzy + re.src_host_terminator;\n\n  re.src_host_port_strict =\n\n    re.src_host + re.src_port + re.src_host_terminator;\n\n  re.tpl_host_port_fuzzy_strict =\n\n    re.tpl_host_fuzzy + re.src_port + re.src_host_terminator;\n\n  re.tpl_host_port_no_ip_fuzzy_strict =\n\n    re.tpl_host_no_ip_fuzzy + re.src_port + re.src_host_terminator;\n\n\n  ////////////////////////////////////////////////////////////////////////////////\n  // Main rules\n\n  // Rude test fuzzy links by host, for quick deny\n  re.tpl_host_fuzzy_test =\n\n    'localhost|www\\\\.|\\\\.\\\\d{1,3}\\\\.|(?:\\\\.(?:%TLDS%)(?:' + re.src_ZPCc + '|>|$))';\n\n  re.tpl_email_fuzzy =\n\n      '(^|' + text_separators + '|\"|\\\\(|' + re.src_ZCc + ')' +\n      '(' + re.src_email_name + '@' + re.tpl_host_fuzzy_strict + ')';\n\n  re.tpl_link_fuzzy =\n      // Fuzzy link can't be prepended with .:/\\- and non punctuation.\n      // but can start with > (markdown blockquote)\n      '(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|' + re.src_ZPCc + '))' +\n      '((?![$+<=>^`|\\uff5c])' + re.tpl_host_port_fuzzy_strict + re.src_path + ')';\n\n  re.tpl_link_no_ip_fuzzy =\n      // Fuzzy link can't be prepended with .:/\\- and non punctuation.\n      // but can start with > (markdown blockquote)\n      '(^|(?![.:/\\\\-_@])(?:[$+<=>^`|\\uff5c]|' + re.src_ZPCc + '))' +\n      '((?![$+<=>^`|\\uff5c])' + re.tpl_host_port_no_ip_fuzzy_strict + re.src_path + ')';\n\n  return re;\n};\n","'use strict';\n\n\n////////////////////////////////////////////////////////////////////////////////\n// Helpers\n\n// Merge objects\n//\nfunction assign(obj /*from1, from2, from3, ...*/) {\n  var sources = Array.prototype.slice.call(arguments, 1);\n\n  sources.forEach(function (source) {\n    if (!source) { return; }\n\n    Object.keys(source).forEach(function (key) {\n      obj[key] = source[key];\n    });\n  });\n\n  return obj;\n}\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\nfunction isString(obj) { return _class(obj) === '[object String]'; }\nfunction isObject(obj) { return _class(obj) === '[object Object]'; }\nfunction isRegExp(obj) { return _class(obj) === '[object RegExp]'; }\nfunction isFunction(obj) { return _class(obj) === '[object Function]'; }\n\n\nfunction escapeRE(str) { return str.replace(/[.?*+^$[\\]\\\\(){}|-]/g, '\\\\$&'); }\n\n////////////////////////////////////////////////////////////////////////////////\n\n\nvar defaultOptions = {\n  fuzzyLink: true,\n  fuzzyEmail: true,\n  fuzzyIP: false\n};\n\n\nfunction isOptionsObj(obj) {\n  return Object.keys(obj || {}).reduce(function (acc, k) {\n    return acc || defaultOptions.hasOwnProperty(k);\n  }, false);\n}\n\n\nvar defaultSchemas = {\n  'http:': {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.http) {\n        // compile lazily, because \"host\"-containing variables can change on tlds update.\n        self.re.http =  new RegExp(\n          '^\\\\/\\\\/' + self.re.src_auth + self.re.src_host_port_strict + self.re.src_path, 'i'\n        );\n      }\n      if (self.re.http.test(tail)) {\n        return tail.match(self.re.http)[0].length;\n      }\n      return 0;\n    }\n  },\n  'https:':  'http:',\n  'ftp:':    'http:',\n  '//':      {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.no_http) {\n      // compile lazily, because \"host\"-containing variables can change on tlds update.\n        self.re.no_http =  new RegExp(\n          '^' +\n          self.re.src_auth +\n          // Don't allow single-level domains, because of false positives like '//test'\n          // with code comments\n          '(?:localhost|(?:(?:' + self.re.src_domain + ')\\\\.)+' + self.re.src_domain_root + ')' +\n          self.re.src_port +\n          self.re.src_host_terminator +\n          self.re.src_path,\n\n          'i'\n        );\n      }\n\n      if (self.re.no_http.test(tail)) {\n        // should not be `://` & `///`, that protects from errors in protocol name\n        if (pos >= 3 && text[pos - 3] === ':') { return 0; }\n        if (pos >= 3 && text[pos - 3] === '/') { return 0; }\n        return tail.match(self.re.no_http)[0].length;\n      }\n      return 0;\n    }\n  },\n  'mailto:': {\n    validate: function (text, pos, self) {\n      var tail = text.slice(pos);\n\n      if (!self.re.mailto) {\n        self.re.mailto =  new RegExp(\n          '^' + self.re.src_email_name + '@' + self.re.src_host_strict, 'i'\n        );\n      }\n      if (self.re.mailto.test(tail)) {\n        return tail.match(self.re.mailto)[0].length;\n      }\n      return 0;\n    }\n  }\n};\n\n/*eslint-disable max-len*/\n\n// RE pattern for 2-character tlds (autogenerated by ./support/tlds_2char_gen.js)\nvar tlds_2ch_src_re = 'a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]';\n\n// DON'T try to make PRs with changes. Extend TLDs with LinkifyIt.tlds() instead\nvar tlds_default = 'biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф'.split('|');\n\n/*eslint-enable max-len*/\n\n////////////////////////////////////////////////////////////////////////////////\n\nfunction resetScanCache(self) {\n  self.__index__ = -1;\n  self.__text_cache__   = '';\n}\n\nfunction createValidator(re) {\n  return function (text, pos) {\n    var tail = text.slice(pos);\n\n    if (re.test(tail)) {\n      return tail.match(re)[0].length;\n    }\n    return 0;\n  };\n}\n\nfunction createNormalizer() {\n  return function (match, self) {\n    self.normalize(match);\n  };\n}\n\n// Schemas compiler. Build regexps.\n//\nfunction compile(self) {\n\n  // Load & clone RE patterns.\n  var re = self.re = require('./lib/re')(self.__opts__);\n\n  // Define dynamic patterns\n  var tlds = self.__tlds__.slice();\n\n  self.onCompile();\n\n  if (!self.__tlds_replaced__) {\n    tlds.push(tlds_2ch_src_re);\n  }\n  tlds.push(re.src_xn);\n\n  re.src_tlds = tlds.join('|');\n\n  function untpl(tpl) { return tpl.replace('%TLDS%', re.src_tlds); }\n\n  re.email_fuzzy      = RegExp(untpl(re.tpl_email_fuzzy), 'i');\n  re.link_fuzzy       = RegExp(untpl(re.tpl_link_fuzzy), 'i');\n  re.link_no_ip_fuzzy = RegExp(untpl(re.tpl_link_no_ip_fuzzy), 'i');\n  re.host_fuzzy_test  = RegExp(untpl(re.tpl_host_fuzzy_test), 'i');\n\n  //\n  // Compile each schema\n  //\n\n  var aliases = [];\n\n  self.__compiled__ = {}; // Reset compiled data\n\n  function schemaError(name, val) {\n    throw new Error('(LinkifyIt) Invalid schema \"' + name + '\": ' + val);\n  }\n\n  Object.keys(self.__schemas__).forEach(function (name) {\n    var val = self.__schemas__[name];\n\n    // skip disabled methods\n    if (val === null) { return; }\n\n    var compiled = { validate: null, link: null };\n\n    self.__compiled__[name] = compiled;\n\n    if (isObject(val)) {\n      if (isRegExp(val.validate)) {\n        compiled.validate = createValidator(val.validate);\n      } else if (isFunction(val.validate)) {\n        compiled.validate = val.validate;\n      } else {\n        schemaError(name, val);\n      }\n\n      if (isFunction(val.normalize)) {\n        compiled.normalize = val.normalize;\n      } else if (!val.normalize) {\n        compiled.normalize = createNormalizer();\n      } else {\n        schemaError(name, val);\n      }\n\n      return;\n    }\n\n    if (isString(val)) {\n      aliases.push(name);\n      return;\n    }\n\n    schemaError(name, val);\n  });\n\n  //\n  // Compile postponed aliases\n  //\n\n  aliases.forEach(function (alias) {\n    if (!self.__compiled__[self.__schemas__[alias]]) {\n      // Silently fail on missed schemas to avoid errons on disable.\n      // schemaError(alias, self.__schemas__[alias]);\n      return;\n    }\n\n    self.__compiled__[alias].validate =\n      self.__compiled__[self.__schemas__[alias]].validate;\n    self.__compiled__[alias].normalize =\n      self.__compiled__[self.__schemas__[alias]].normalize;\n  });\n\n  //\n  // Fake record for guessed links\n  //\n  self.__compiled__[''] = { validate: null, normalize: createNormalizer() };\n\n  //\n  // Build schema condition\n  //\n  var slist = Object.keys(self.__compiled__)\n                      .filter(function (name) {\n                        // Filter disabled & fake schemas\n                        return name.length > 0 && self.__compiled__[name];\n                      })\n                      .map(escapeRE)\n                      .join('|');\n  // (?!_) cause 1.5x slowdown\n  self.re.schema_test   = RegExp('(^|(?!_)(?:[><\\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'i');\n  self.re.schema_search = RegExp('(^|(?!_)(?:[><\\uff5c]|' + re.src_ZPCc + '))(' + slist + ')', 'ig');\n\n  self.re.pretest = RegExp(\n    '(' + self.re.schema_test.source + ')|(' + self.re.host_fuzzy_test.source + ')|@',\n    'i'\n  );\n\n  //\n  // Cleanup\n  //\n\n  resetScanCache(self);\n}\n\n/**\n * class Match\n *\n * Match result. Single element of array, returned by [[LinkifyIt#match]]\n **/\nfunction Match(self, shift) {\n  var start = self.__index__,\n      end   = self.__last_index__,\n      text  = self.__text_cache__.slice(start, end);\n\n  /**\n   * Match#schema -> String\n   *\n   * Prefix (protocol) for matched string.\n   **/\n  this.schema    = self.__schema__.toLowerCase();\n  /**\n   * Match#index -> Number\n   *\n   * First position of matched string.\n   **/\n  this.index     = start + shift;\n  /**\n   * Match#lastIndex -> Number\n   *\n   * Next position after matched string.\n   **/\n  this.lastIndex = end + shift;\n  /**\n   * Match#raw -> String\n   *\n   * Matched string.\n   **/\n  this.raw       = text;\n  /**\n   * Match#text -> String\n   *\n   * Notmalized text of matched string.\n   **/\n  this.text      = text;\n  /**\n   * Match#url -> String\n   *\n   * Normalized url of matched string.\n   **/\n  this.url       = text;\n}\n\nfunction createMatch(self, shift) {\n  var match = new Match(self, shift);\n\n  self.__compiled__[match.schema].normalize(match, self);\n\n  return match;\n}\n\n\n/**\n * class LinkifyIt\n **/\n\n/**\n * new LinkifyIt(schemas, options)\n * - schemas (Object): Optional. Additional schemas to validate (prefix/validator)\n * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }\n *\n * Creates new linkifier instance with optional additional schemas.\n * Can be called without `new` keyword for convenience.\n *\n * By default understands:\n *\n * - `http(s)://...` , `ftp://...`, `mailto:...` & `//...` links\n * - \"fuzzy\" links and emails (example.com, foo@bar.com).\n *\n * `schemas` is an object, where each key/value describes protocol/rule:\n *\n * - __key__ - link prefix (usually, protocol name with `:` at the end, `skype:`\n *   for example). `linkify-it` makes shure that prefix is not preceeded with\n *   alphanumeric char and symbols. Only whitespaces and punctuation allowed.\n * - __value__ - rule to check tail after link prefix\n *   - _String_ - just alias to existing rule\n *   - _Object_\n *     - _validate_ - validator function (should return matched length on success),\n *       or `RegExp`.\n *     - _normalize_ - optional function to normalize text & url of matched result\n *       (for example, for @twitter mentions).\n *\n * `options`:\n *\n * - __fuzzyLink__ - recognige URL-s without `http(s):` prefix. Default `true`.\n * - __fuzzyIP__ - allow IPs in fuzzy links above. Can conflict with some texts\n *   like version numbers. Default `false`.\n * - __fuzzyEmail__ - recognize emails without `mailto:` prefix.\n *\n **/\nfunction LinkifyIt(schemas, options) {\n  if (!(this instanceof LinkifyIt)) {\n    return new LinkifyIt(schemas, options);\n  }\n\n  if (!options) {\n    if (isOptionsObj(schemas)) {\n      options = schemas;\n      schemas = {};\n    }\n  }\n\n  this.__opts__           = assign({}, defaultOptions, options);\n\n  // Cache last tested result. Used to skip repeating steps on next `match` call.\n  this.__index__          = -1;\n  this.__last_index__     = -1; // Next scan position\n  this.__schema__         = '';\n  this.__text_cache__     = '';\n\n  this.__schemas__        = assign({}, defaultSchemas, schemas);\n  this.__compiled__       = {};\n\n  this.__tlds__           = tlds_default;\n  this.__tlds_replaced__  = false;\n\n  this.re = {};\n\n  compile(this);\n}\n\n\n/** chainable\n * LinkifyIt#add(schema, definition)\n * - schema (String): rule name (fixed pattern prefix)\n * - definition (String|RegExp|Object): schema definition\n *\n * Add new rule definition. See constructor description for details.\n **/\nLinkifyIt.prototype.add = function add(schema, definition) {\n  this.__schemas__[schema] = definition;\n  compile(this);\n  return this;\n};\n\n\n/** chainable\n * LinkifyIt#set(options)\n * - options (Object): { fuzzyLink|fuzzyEmail|fuzzyIP: true|false }\n *\n * Set recognition options for links without schema.\n **/\nLinkifyIt.prototype.set = function set(options) {\n  this.__opts__ = assign(this.__opts__, options);\n  return this;\n};\n\n\n/**\n * LinkifyIt#test(text) -> Boolean\n *\n * Searches linkifiable pattern and returns `true` on success or `false` on fail.\n **/\nLinkifyIt.prototype.test = function test(text) {\n  // Reset scan cache\n  this.__text_cache__ = text;\n  this.__index__      = -1;\n\n  if (!text.length) { return false; }\n\n  var m, ml, me, len, shift, next, re, tld_pos, at_pos;\n\n  // try to scan for link with schema - that's the most simple rule\n  if (this.re.schema_test.test(text)) {\n    re = this.re.schema_search;\n    re.lastIndex = 0;\n    while ((m = re.exec(text)) !== null) {\n      len = this.testSchemaAt(text, m[2], re.lastIndex);\n      if (len) {\n        this.__schema__     = m[2];\n        this.__index__      = m.index + m[1].length;\n        this.__last_index__ = m.index + m[0].length + len;\n        break;\n      }\n    }\n  }\n\n  if (this.__opts__.fuzzyLink && this.__compiled__['http:']) {\n    // guess schemaless links\n    tld_pos = text.search(this.re.host_fuzzy_test);\n    if (tld_pos >= 0) {\n      // if tld is located after found link - no need to check fuzzy pattern\n      if (this.__index__ < 0 || tld_pos < this.__index__) {\n        if ((ml = text.match(this.__opts__.fuzzyIP ? this.re.link_fuzzy : this.re.link_no_ip_fuzzy)) !== null) {\n\n          shift = ml.index + ml[1].length;\n\n          if (this.__index__ < 0 || shift < this.__index__) {\n            this.__schema__     = '';\n            this.__index__      = shift;\n            this.__last_index__ = ml.index + ml[0].length;\n          }\n        }\n      }\n    }\n  }\n\n  if (this.__opts__.fuzzyEmail && this.__compiled__['mailto:']) {\n    // guess schemaless emails\n    at_pos = text.indexOf('@');\n    if (at_pos >= 0) {\n      // We can't skip this check, because this cases are possible:\n      // 192.168.1.1@gmail.com, my.in@example.com\n      if ((me = text.match(this.re.email_fuzzy)) !== null) {\n\n        shift = me.index + me[1].length;\n        next  = me.index + me[0].length;\n\n        if (this.__index__ < 0 || shift < this.__index__ ||\n            (shift === this.__index__ && next > this.__last_index__)) {\n          this.__schema__     = 'mailto:';\n          this.__index__      = shift;\n          this.__last_index__ = next;\n        }\n      }\n    }\n  }\n\n  return this.__index__ >= 0;\n};\n\n\n/**\n * LinkifyIt#pretest(text) -> Boolean\n *\n * Very quick check, that can give false positives. Returns true if link MAY BE\n * can exists. Can be used for speed optimization, when you need to check that\n * link NOT exists.\n **/\nLinkifyIt.prototype.pretest = function pretest(text) {\n  return this.re.pretest.test(text);\n};\n\n\n/**\n * LinkifyIt#testSchemaAt(text, name, position) -> Number\n * - text (String): text to scan\n * - name (String): rule (schema) name\n * - position (Number): text offset to check from\n *\n * Similar to [[LinkifyIt#test]] but checks only specific protocol tail exactly\n * at given position. Returns length of found pattern (0 on fail).\n **/\nLinkifyIt.prototype.testSchemaAt = function testSchemaAt(text, schema, pos) {\n  // If not supported schema check requested - terminate\n  if (!this.__compiled__[schema.toLowerCase()]) {\n    return 0;\n  }\n  return this.__compiled__[schema.toLowerCase()].validate(text, pos, this);\n};\n\n\n/**\n * LinkifyIt#match(text) -> Array|null\n *\n * Returns array of found link descriptions or `null` on fail. We strongly\n * recommend to use [[LinkifyIt#test]] first, for best speed.\n *\n * ##### Result match description\n *\n * - __schema__ - link schema, can be empty for fuzzy links, or `//` for\n *   protocol-neutral  links.\n * - __index__ - offset of matched text\n * - __lastIndex__ - index of next char after mathch end\n * - __raw__ - matched text\n * - __text__ - normalized text\n * - __url__ - link, generated from matched text\n **/\nLinkifyIt.prototype.match = function match(text) {\n  var shift = 0, result = [];\n\n  // Try to take previous element from cache, if .test() called before\n  if (this.__index__ >= 0 && this.__text_cache__ === text) {\n    result.push(createMatch(this, shift));\n    shift = this.__last_index__;\n  }\n\n  // Cut head if cache was used\n  var tail = shift ? text.slice(shift) : text;\n\n  // Scan string until end reached\n  while (this.test(tail)) {\n    result.push(createMatch(this, shift));\n\n    tail = tail.slice(this.__last_index__);\n    shift += this.__last_index__;\n  }\n\n  if (result.length) {\n    return result;\n  }\n\n  return null;\n};\n\n\n/** chainable\n * LinkifyIt#tlds(list [, keepOld]) -> this\n * - list (Array): list of tlds\n * - keepOld (Boolean): merge with current list if `true` (`false` by default)\n *\n * Load (or merge) new tlds list. Those are user for fuzzy links (without prefix)\n * to avoid false positives. By default this algorythm used:\n *\n * - hostname with any 2-letter root zones are ok.\n * - biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф\n *   are ok.\n * - encoded (`xn--...`) root zones are ok.\n *\n * If list is replaced, then exact match for 2-chars root zones will be checked.\n **/\nLinkifyIt.prototype.tlds = function tlds(list, keepOld) {\n  list = Array.isArray(list) ? list : [ list ];\n\n  if (!keepOld) {\n    this.__tlds__ = list.slice();\n    this.__tlds_replaced__ = true;\n    compile(this);\n    return this;\n  }\n\n  this.__tlds__ = this.__tlds__.concat(list)\n                                  .sort()\n                                  .filter(function (el, idx, arr) {\n                                    return el !== arr[idx - 1];\n                                  })\n                                  .reverse();\n\n  compile(this);\n  return this;\n};\n\n/**\n * LinkifyIt#normalize(match)\n *\n * Default normalizer (if schema does not define it's own).\n **/\nLinkifyIt.prototype.normalize = function normalize(match) {\n\n  // Do minimal possible changes by default. Need to collect feedback prior\n  // to move forward https://github.com/markdown-it/linkify-it/issues/1\n\n  if (!match.schema) { match.url = 'http://' + match.url; }\n\n  if (match.schema === 'mailto:' && !/^mailto:/i.test(match.url)) {\n    match.url = 'mailto:' + match.url;\n  }\n};\n\n\n/**\n * LinkifyIt#onCompile()\n *\n * Override to modify basic RegExp-s.\n **/\nLinkifyIt.prototype.onCompile = function onCompile() {\n};\n\n\nmodule.exports = LinkifyIt;\n","'use strict';\n\n/** Highest positive signed 32-bit float value */\nconst maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nconst base = 36;\nconst tMin = 1;\nconst tMax = 26;\nconst skew = 38;\nconst damp = 700;\nconst initialBias = 72;\nconst initialN = 128; // 0x80\nconst delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nconst regexPunycode = /^xn--/;\nconst regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nconst regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nconst errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nconst baseMinusTMin = base - tMin;\nconst floor = Math.floor;\nconst stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tconst result = [];\n\tlet length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tconst parts = string.split('@');\n\tlet result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tconst labels = string.split('.');\n\tconst encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tconst output = [];\n\tlet counter = 0;\n\tconst length = string.length;\n\twhile (counter < length) {\n\t\tconst value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tconst extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nconst ucs2encode = array => String.fromCodePoint(...array);\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nconst basicToDigit = function(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nconst digitToBasic = function(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nconst adapt = function(delta, numPoints, firstTime) {\n\tlet k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nconst decode = function(input) {\n\t// Don't use UCS-2.\n\tconst output = [];\n\tconst inputLength = input.length;\n\tlet i = 0;\n\tlet n = initialN;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tlet basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (let j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (let index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tlet oldi = i;\n\t\tfor (let w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror('invalid-input');\n\t\t\t}\n\n\t\t\tconst digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\n\t\t}\n\n\t\tconst out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\n\t}\n\n\treturn String.fromCodePoint(...output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nconst encode = function(input) {\n\tconst output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tlet inputLength = input.length;\n\n\t// Initialize the state.\n\tlet n = initialN;\n\tlet delta = 0;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points.\n\tfor (const currentValue of input) {\n\t\tif (currentValue < 0x80) {\n\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t}\n\t}\n\n\tlet basicLength = output.length;\n\tlet handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tlet m = maxInt;\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\tm = currentValue;\n\t\t\t}\n\t\t}\n\n\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t// but guard against overflow.\n\t\tconst handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\t\t\tif (currentValue == n) {\n\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\tlet q = delta;\n\t\t\t\tfor (let k = base; /* no condition */; k += base) {\n\t\t\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tconst qMinusT = q - t;\n\t\t\t\t\tconst baseMinusT = base - t;\n\t\t\t\t\toutput.push(\n\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t);\n\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t}\n\n\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\tdelta = 0;\n\t\t\t\t++handledCPCount;\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nconst toUnicode = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexPunycode.test(string)\n\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t: string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nconst toASCII = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexNonASCII.test(string)\n\t\t\t? 'xn--' + encode(string)\n\t\t\t: string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nconst punycode = {\n\t/**\n\t * A string representing the current Punycode.js version number.\n\t * @memberOf punycode\n\t * @type String\n\t */\n\t'version': '2.1.0',\n\t/**\n\t * An object of methods to convert from JavaScript's internal character\n\t * representation (UCS-2) to Unicode code points, and back.\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode\n\t * @type Object\n\t */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\nexport { ucs2decode, ucs2encode, decode, encode, toASCII, toUnicode };\nexport default punycode;\n","// markdown-it default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '«»„“' for Russian, '„“‚‘' for German,\n    // and ['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /* “”‘’ */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   100            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {},\n    block: {},\n    inline: {}\n  }\n};\n","// \"Zero\" preset, with nothing enabled. Useful for manual configuring of simple\n// modes. For example, to parse bold/italic only.\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         false,        // Enable HTML tags in source\n    xhtmlOut:     false,        // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '«»„“' for Russian, '„“‚‘' for German,\n    // and ['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /* “”‘’ */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'normalize',\n        'block',\n        'inline'\n      ]\n    },\n\n    block: {\n      rules: [\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'text'\n      ],\n      rules2: [\n        'balance_pairs',\n        'text_collapse'\n      ]\n    }\n  }\n};\n","// Commonmark default options\n\n'use strict';\n\n\nmodule.exports = {\n  options: {\n    html:         true,         // Enable HTML tags in source\n    xhtmlOut:     true,         // Use '/' to close single tags (<br />)\n    breaks:       false,        // Convert '\\n' in paragraphs into <br>\n    langPrefix:   'language-',  // CSS language prefix for fenced blocks\n    linkify:      false,        // autoconvert URL-like texts to links\n\n    // Enable some language-neutral replacements + quotes beautification\n    typographer:  false,\n\n    // Double + single quotes replacement pairs, when typographer enabled,\n    // and smartquotes on. Could be either a String or an Array.\n    //\n    // For example, you can use '«»„“' for Russian, '„“‚‘' for German,\n    // and ['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›'] for French (including nbsp).\n    quotes: '\\u201c\\u201d\\u2018\\u2019', /* “”‘’ */\n\n    // Highlighter function. Should return escaped HTML,\n    // or '' if the source string is not changed and should be escaped externaly.\n    // If result starts with <pre... internal wrapper is skipped.\n    //\n    // function (/*str, lang*/) { return ''; }\n    //\n    highlight: null,\n\n    maxNesting:   20            // Internal protection, recursion limit\n  },\n\n  components: {\n\n    core: {\n      rules: [\n        'normalize',\n        'block',\n        'inline'\n      ]\n    },\n\n    block: {\n      rules: [\n        'blockquote',\n        'code',\n        'fence',\n        'heading',\n        'hr',\n        'html_block',\n        'lheading',\n        'list',\n        'reference',\n        'paragraph'\n      ]\n    },\n\n    inline: {\n      rules: [\n        'autolink',\n        'backticks',\n        'emphasis',\n        'entity',\n        'escape',\n        'html_inline',\n        'image',\n        'link',\n        'newline',\n        'text'\n      ],\n      rules2: [\n        'balance_pairs',\n        'emphasis',\n        'text_collapse'\n      ]\n    }\n  }\n};\n","// Main parser class\n\n'use strict';\n\n\nvar utils        = require('./common/utils');\nvar helpers      = require('./helpers');\nvar Renderer     = require('./renderer');\nvar ParserCore   = require('./parser_core');\nvar ParserBlock  = require('./parser_block');\nvar ParserInline = require('./parser_inline');\nvar LinkifyIt    = require('linkify-it');\nvar mdurl        = require('mdurl');\nvar punycode     = require('punycode');\n\n\nvar config = {\n  'default': require('./presets/default'),\n  zero: require('./presets/zero'),\n  commonmark: require('./presets/commonmark')\n};\n\n////////////////////////////////////////////////////////////////////////////////\n//\n// This validator can prohibit more than really needed to prevent XSS. It's a\n// tradeoff to keep code simple and to be secure by default.\n//\n// If you need different setup - override validator method as you wish. Or\n// replace it with dummy function and use external sanitizer.\n//\n\nvar BAD_PROTO_RE = /^(vbscript|javascript|file|data):/;\nvar GOOD_DATA_RE = /^data:image\\/(gif|png|jpeg|webp);/;\n\nfunction validateLink(url) {\n  // url should be normalized at this point, and existing entities are decoded\n  var str = url.trim().toLowerCase();\n\n  return BAD_PROTO_RE.test(str) ? (GOOD_DATA_RE.test(str) ? true : false) : true;\n}\n\n////////////////////////////////////////////////////////////////////////////////\n\n\nvar RECODE_HOSTNAME_FOR = [ 'http:', 'https:', 'mailto:' ];\n\nfunction normalizeLink(url) {\n  var parsed = mdurl.parse(url, true);\n\n  if (parsed.hostname) {\n    // Encode hostnames in urls like:\n    // `http://host/`, `https://host/`, `mailto:user@host`, `//host/`\n    //\n    // We don't encode unknown schemas, because it's likely that we encode\n    // something we shouldn't (e.g. `skype:name` treated as `skype:host`)\n    //\n    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {\n      try {\n        parsed.hostname = punycode.toASCII(parsed.hostname);\n      } catch (er) { /**/ }\n    }\n  }\n\n  return mdurl.encode(mdurl.format(parsed));\n}\n\nfunction normalizeLinkText(url) {\n  var parsed = mdurl.parse(url, true);\n\n  if (parsed.hostname) {\n    // Encode hostnames in urls like:\n    // `http://host/`, `https://host/`, `mailto:user@host`, `//host/`\n    //\n    // We don't encode unknown schemas, because it's likely that we encode\n    // something we shouldn't (e.g. `skype:name` treated as `skype:host`)\n    //\n    if (!parsed.protocol || RECODE_HOSTNAME_FOR.indexOf(parsed.protocol) >= 0) {\n      try {\n        parsed.hostname = punycode.toUnicode(parsed.hostname);\n      } catch (er) { /**/ }\n    }\n  }\n\n  return mdurl.decode(mdurl.format(parsed));\n}\n\n\n/**\n * class MarkdownIt\n *\n * Main parser/renderer class.\n *\n * ##### Usage\n *\n * ```javascript\n * // node.js, \"classic\" way:\n * var MarkdownIt = require('markdown-it'),\n *     md = new MarkdownIt();\n * var result = md.render('# markdown-it rulezz!');\n *\n * // node.js, the same, but with sugar:\n * var md = require('markdown-it')();\n * var result = md.render('# markdown-it rulezz!');\n *\n * // browser without AMD, added to \"window\" on script load\n * // Note, there are no dash.\n * var md = window.markdownit();\n * var result = md.render('# markdown-it rulezz!');\n * ```\n *\n * Single line rendering, without paragraph wrap:\n *\n * ```javascript\n * var md = require('markdown-it')();\n * var result = md.renderInline('__markdown-it__ rulezz!');\n * ```\n **/\n\n/**\n * new MarkdownIt([presetName, options])\n * - presetName (String): optional, `commonmark` / `zero`\n * - options (Object)\n *\n * Creates parser instanse with given config. Can be called without `new`.\n *\n * ##### presetName\n *\n * MarkdownIt provides named presets as a convenience to quickly\n * enable/disable active syntax rules and options for common use cases.\n *\n * - [\"commonmark\"](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/commonmark.js) -\n *   configures parser to strict [CommonMark](http://commonmark.org/) mode.\n * - [default](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/default.js) -\n *   similar to GFM, used when no preset name given. Enables all available rules,\n *   but still without html, typographer & autolinker.\n * - [\"zero\"](https://github.com/markdown-it/markdown-it/blob/master/lib/presets/zero.js) -\n *   all rules disabled. Useful to quickly setup your config via `.enable()`.\n *   For example, when you need only `bold` and `italic` markup and nothing else.\n *\n * ##### options:\n *\n * - __html__ - `false`. Set `true` to enable HTML tags in source. Be careful!\n *   That's not safe! You may need external sanitizer to protect output from XSS.\n *   It's better to extend features via plugins, instead of enabling HTML.\n * - __xhtmlOut__ - `false`. Set `true` to add '/' when closing single tags\n *   (`<br />`). This is needed only for full CommonMark compatibility. In real\n *   world you will need HTML output.\n * - __breaks__ - `false`. Set `true` to convert `\\n` in paragraphs into `<br>`.\n * - __langPrefix__ - `language-`. CSS language class prefix for fenced blocks.\n *   Can be useful for external highlighters.\n * - __linkify__ - `false`. Set `true` to autoconvert URL-like text to links.\n * - __typographer__  - `false`. Set `true` to enable [some language-neutral\n *   replacement](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/replacements.js) +\n *   quotes beautification (smartquotes).\n * - __quotes__ - `“”‘’`, String or Array. Double + single quotes replacement\n *   pairs, when typographer enabled and smartquotes on. For example, you can\n *   use `'«»„“'` for Russian, `'„“‚‘'` for German, and\n *   `['«\\xA0', '\\xA0»', '‹\\xA0', '\\xA0›']` for French (including nbsp).\n * - __highlight__ - `null`. Highlighter function for fenced code blocks.\n *   Highlighter `function (str, lang)` should return escaped HTML. It can also\n *   return empty string if the source was not changed and should be escaped\n *   externaly. If result starts with <pre... internal wrapper is skipped.\n *\n * ##### Example\n *\n * ```javascript\n * // commonmark mode\n * var md = require('markdown-it')('commonmark');\n *\n * // default mode\n * var md = require('markdown-it')();\n *\n * // enable everything\n * var md = require('markdown-it')({\n *   html: true,\n *   linkify: true,\n *   typographer: true\n * });\n * ```\n *\n * ##### Syntax highlighting\n *\n * ```js\n * var hljs = require('highlight.js') // https://highlightjs.org/\n *\n * var md = require('markdown-it')({\n *   highlight: function (str, lang) {\n *     if (lang && hljs.getLanguage(lang)) {\n *       try {\n *         return hljs.highlight(lang, str, true).value;\n *       } catch (__) {}\n *     }\n *\n *     return ''; // use external default escaping\n *   }\n * });\n * ```\n *\n * Or with full wrapper override (if you need assign class to `<pre>`):\n *\n * ```javascript\n * var hljs = require('highlight.js') // https://highlightjs.org/\n *\n * // Actual default values\n * var md = require('markdown-it')({\n *   highlight: function (str, lang) {\n *     if (lang && hljs.getLanguage(lang)) {\n *       try {\n *         return '<pre class=\"hljs\"><code>' +\n *                hljs.highlight(lang, str, true).value +\n *                '</code></pre>';\n *       } catch (__) {}\n *     }\n *\n *     return '<pre class=\"hljs\"><code>' + md.utils.escapeHtml(str) + '</code></pre>';\n *   }\n * });\n * ```\n *\n **/\nfunction MarkdownIt(presetName, options) {\n  if (!(this instanceof MarkdownIt)) {\n    return new MarkdownIt(presetName, options);\n  }\n\n  if (!options) {\n    if (!utils.isString(presetName)) {\n      options = presetName || {};\n      presetName = 'default';\n    }\n  }\n\n  /**\n   * MarkdownIt#inline -> ParserInline\n   *\n   * Instance of [[ParserInline]]. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.inline = new ParserInline();\n\n  /**\n   * MarkdownIt#block -> ParserBlock\n   *\n   * Instance of [[ParserBlock]]. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.block = new ParserBlock();\n\n  /**\n   * MarkdownIt#core -> Core\n   *\n   * Instance of [[Core]] chain executor. You may need it to add new rules when\n   * writing plugins. For simple rules control use [[MarkdownIt.disable]] and\n   * [[MarkdownIt.enable]].\n   **/\n  this.core = new ParserCore();\n\n  /**\n   * MarkdownIt#renderer -> Renderer\n   *\n   * Instance of [[Renderer]]. Use it to modify output look. Or to add rendering\n   * rules for new token types, generated by plugins.\n   *\n   * ##### Example\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   *\n   * function myToken(tokens, idx, options, env, self) {\n   *   //...\n   *   return result;\n   * };\n   *\n   * md.renderer.rules['my_token'] = myToken\n   * ```\n   *\n   * See [[Renderer]] docs and [source code](https://github.com/markdown-it/markdown-it/blob/master/lib/renderer.js).\n   **/\n  this.renderer = new Renderer();\n\n  /**\n   * MarkdownIt#linkify -> LinkifyIt\n   *\n   * [linkify-it](https://github.com/markdown-it/linkify-it) instance.\n   * Used by [linkify](https://github.com/markdown-it/markdown-it/blob/master/lib/rules_core/linkify.js)\n   * rule.\n   **/\n  this.linkify = new LinkifyIt();\n\n  /**\n   * MarkdownIt#validateLink(url) -> Boolean\n   *\n   * Link validation function. CommonMark allows too much in links. By default\n   * we disable `javascript:`, `vbscript:`, `file:` schemas, and almost all `data:...` schemas\n   * except some embedded image types.\n   *\n   * You can change this behaviour:\n   *\n   * ```javascript\n   * var md = require('markdown-it')();\n   * // enable everything\n   * md.validateLink = function () { return true; }\n   * ```\n   **/\n  this.validateLink = validateLink;\n\n  /**\n   * MarkdownIt#normalizeLink(url) -> String\n   *\n   * Function used to encode link url to a machine-readable format,\n   * which includes url-encoding, punycode, etc.\n   **/\n  this.normalizeLink = normalizeLink;\n\n  /**\n   * MarkdownIt#normalizeLinkText(url) -> String\n   *\n   * Function used to decode link url to a human-readable format`\n   **/\n  this.normalizeLinkText = normalizeLinkText;\n\n\n  // Expose utils & helpers for easy acces from plugins\n\n  /**\n   * MarkdownIt#utils -> utils\n   *\n   * Assorted utility functions, useful to write plugins. See details\n   * [here](https://github.com/markdown-it/markdown-it/blob/master/lib/common/utils.js).\n   **/\n  this.utils = utils;\n\n  /**\n   * MarkdownIt#helpers -> helpers\n   *\n   * Link components parser functions, useful to write plugins. See details\n   * [here](https://github.com/markdown-it/markdown-it/blob/master/lib/helpers).\n   **/\n  this.helpers = utils.assign({}, helpers);\n\n\n  this.options = {};\n  this.configure(presetName);\n\n  if (options) { this.set(options); }\n}\n\n\n/** chainable\n * MarkdownIt.set(options)\n *\n * Set parser options (in the same format as in constructor). Probably, you\n * will never need it, but you can change options after constructor call.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')()\n *             .set({ html: true, breaks: true })\n *             .set({ typographer, true });\n * ```\n *\n * __Note:__ To achieve the best possible performance, don't modify a\n * `markdown-it` instance options on the fly. If you need multiple configurations\n * it's best to create multiple instances and initialize each with separate\n * config.\n **/\nMarkdownIt.prototype.set = function (options) {\n  utils.assign(this.options, options);\n  return this;\n};\n\n\n/** chainable, internal\n * MarkdownIt.configure(presets)\n *\n * Batch load of all options and compenent settings. This is internal method,\n * and you probably will not need it. But if you with - see available presets\n * and data structure [here](https://github.com/markdown-it/markdown-it/tree/master/lib/presets)\n *\n * We strongly recommend to use presets instead of direct config loads. That\n * will give better compatibility with next versions.\n **/\nMarkdownIt.prototype.configure = function (presets) {\n  var self = this, presetName;\n\n  if (utils.isString(presets)) {\n    presetName = presets;\n    presets = config[presetName];\n    if (!presets) { throw new Error('Wrong `markdown-it` preset \"' + presetName + '\", check name'); }\n  }\n\n  if (!presets) { throw new Error('Wrong `markdown-it` preset, can\\'t be empty'); }\n\n  if (presets.options) { self.set(presets.options); }\n\n  if (presets.components) {\n    Object.keys(presets.components).forEach(function (name) {\n      if (presets.components[name].rules) {\n        self[name].ruler.enableOnly(presets.components[name].rules);\n      }\n      if (presets.components[name].rules2) {\n        self[name].ruler2.enableOnly(presets.components[name].rules2);\n      }\n    });\n  }\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.enable(list, ignoreInvalid)\n * - list (String|Array): rule name or list of rule names to enable\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * Enable list or rules. It will automatically find appropriate components,\n * containing rules with given names. If rule not found, and `ignoreInvalid`\n * not set - throws exception.\n *\n * ##### Example\n *\n * ```javascript\n * var md = require('markdown-it')()\n *             .enable(['sub', 'sup'])\n *             .disable('smartquotes');\n * ```\n **/\nMarkdownIt.prototype.enable = function (list, ignoreInvalid) {\n  var result = [];\n\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  [ 'core', 'block', 'inline' ].forEach(function (chain) {\n    result = result.concat(this[chain].ruler.enable(list, true));\n  }, this);\n\n  result = result.concat(this.inline.ruler2.enable(list, true));\n\n  var missed = list.filter(function (name) { return result.indexOf(name) < 0; });\n\n  if (missed.length && !ignoreInvalid) {\n    throw new Error('MarkdownIt. Failed to enable unknown rule(s): ' + missed);\n  }\n\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.disable(list, ignoreInvalid)\n * - list (String|Array): rule name or list of rule names to disable.\n * - ignoreInvalid (Boolean): set `true` to ignore errors when rule not found.\n *\n * The same as [[MarkdownIt.enable]], but turn specified rules off.\n **/\nMarkdownIt.prototype.disable = function (list, ignoreInvalid) {\n  var result = [];\n\n  if (!Array.isArray(list)) { list = [ list ]; }\n\n  [ 'core', 'block', 'inline' ].forEach(function (chain) {\n    result = result.concat(this[chain].ruler.disable(list, true));\n  }, this);\n\n  result = result.concat(this.inline.ruler2.disable(list, true));\n\n  var missed = list.filter(function (name) { return result.indexOf(name) < 0; });\n\n  if (missed.length && !ignoreInvalid) {\n    throw new Error('MarkdownIt. Failed to disable unknown rule(s): ' + missed);\n  }\n  return this;\n};\n\n\n/** chainable\n * MarkdownIt.use(plugin, params)\n *\n * Load specified plugin with given params into current parser instance.\n * It's just a sugar to call `plugin(md, params)` with curring.\n *\n * ##### Example\n *\n * ```javascript\n * var iterator = require('markdown-it-for-inline');\n * var md = require('markdown-it')()\n *             .use(iterator, 'foo_replace', 'text', function (tokens, idx) {\n *               tokens[idx].content = tokens[idx].content.replace(/foo/g, 'bar');\n *             });\n * ```\n **/\nMarkdownIt.prototype.use = function (plugin /*, params, ... */) {\n  var args = [ this ].concat(Array.prototype.slice.call(arguments, 1));\n  plugin.apply(plugin, args);\n  return this;\n};\n\n\n/** internal\n * MarkdownIt.parse(src, env) -> Array\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Parse input string and returns list of block tokens (special token type\n * \"inline\" will contain list of inline tokens). You should not call this\n * method directly, until you write custom renderer (for example, to produce\n * AST).\n *\n * `env` is used to pass data between \"distributed\" rules and return additional\n * metadata like reference info, needed for the renderer. It also can be used to\n * inject data in specific cases. Usually, you will be ok to pass `{}`,\n * and then pass updated object to renderer.\n **/\nMarkdownIt.prototype.parse = function (src, env) {\n  if (typeof src !== 'string') {\n    throw new Error('Input data should be a String');\n  }\n\n  var state = new this.core.State(src, this, env);\n\n  this.core.process(state);\n\n  return state.tokens;\n};\n\n\n/**\n * MarkdownIt.render(src [, env]) -> String\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Render markdown string into html. It does all magic for you :).\n *\n * `env` can be used to inject additional metadata (`{}` by default).\n * But you will not need it with high probability. See also comment\n * in [[MarkdownIt.parse]].\n **/\nMarkdownIt.prototype.render = function (src, env) {\n  env = env || {};\n\n  return this.renderer.render(this.parse(src, env), this.options, env);\n};\n\n\n/** internal\n * MarkdownIt.parseInline(src, env) -> Array\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * The same as [[MarkdownIt.parse]] but skip all block rules. It returns the\n * block tokens list with the single `inline` element, containing parsed inline\n * tokens in `children` property. Also updates `env` object.\n **/\nMarkdownIt.prototype.parseInline = function (src, env) {\n  var state = new this.core.State(src, this, env);\n\n  state.inlineMode = true;\n  this.core.process(state);\n\n  return state.tokens;\n};\n\n\n/**\n * MarkdownIt.renderInline(src [, env]) -> String\n * - src (String): source string\n * - env (Object): environment sandbox\n *\n * Similar to [[MarkdownIt.render]] but for single paragraph content. Result\n * will NOT be wrapped into `<p>` tags.\n **/\nMarkdownIt.prototype.renderInline = function (src, env) {\n  env = env || {};\n\n  return this.renderer.render(this.parseInline(src, env), this.options, env);\n};\n\n\nmodule.exports = MarkdownIt;\n","'use strict';\n\n\nmodule.exports = require('./lib/');\n","var n={false:\"push\",true:\"unshift\"},e=Object.prototype.hasOwnProperty,r=function(n,t){t=Object.assign({},r.defaults,t),n.core.ruler.push(\"anchor\",function(n){var r,i={},u=n.tokens,o=Array.isArray(t.level)?(r=t.level,function(n){return r.includes(n)}):function(n){return function(e){return e>=n}}(t.level);u.filter(function(n){return\"heading_open\"===n.type}).filter(function(n){return o(Number(n.tag.substr(1)))}).forEach(function(r){var o=u[u.indexOf(r)+1].children.filter(function(n){return\"text\"===n.type||\"code_inline\"===n.type}).reduce(function(n,e){return n+e.content},\"\"),c=r.attrGet(\"id\");null==c&&(c=function(n,r){for(var t=n,i=2;e.call(r,t);)t=n+\"-\"+i++;return r[t]=!0,t}(t.slugify(o),i),r.attrPush([\"id\",c])),t.permalink&&t.renderPermalink(c,t,n,u.indexOf(r)),t.callback&&t.callback(r,{slug:c,title:o})})})};r.defaults={level:1,slugify:function(n){return encodeURIComponent(String(n).trim().toLowerCase().replace(/\\s+/g,\"-\"))},permalink:!1,renderPermalink:function(e,r,t,i){var u,o=[Object.assign(new t.Token(\"link_open\",\"a\",1),{attrs:[[\"class\",r.permalinkClass],[\"href\",r.permalinkHref(e,t)],[\"aria-hidden\",\"true\"]]}),Object.assign(new t.Token(\"html_block\",\"\",0),{content:r.permalinkSymbol}),new t.Token(\"link_close\",\"a\",-1)];r.permalinkSpace&&o[n[!r.permalinkBefore]](Object.assign(new t.Token(\"text\",\"\",0),{content:\" \"})),(u=t.tokens[i+1].children)[n[r.permalinkBefore]].apply(u,o)},permalinkClass:\"header-anchor\",permalinkSpace:!0,permalinkSymbol:\"¶\",permalinkBefore:!1,permalinkHref:function(n){return\"#\"+n}};export default r;\n//# sourceMappingURL=markdownItAnchor.mjs.map\n","// Process definition lists\n//\n'use strict';\n\n\nmodule.exports = function deflist_plugin(md) {\n  var isSpace = md.utils.isSpace;\n\n  // Search `[:~][\\n ]`, returns next pos after marker on success\n  // or -1 on fail.\n  function skipMarker(state, line) {\n    var pos, marker,\n        start = state.bMarks[line] + state.tShift[line],\n        max = state.eMarks[line];\n\n    if (start >= max) { return -1; }\n\n    // Check bullet\n    marker = state.src.charCodeAt(start++);\n    if (marker !== 0x7E/* ~ */ && marker !== 0x3A/* : */) { return -1; }\n\n    pos = state.skipSpaces(start);\n\n    // require space after \":\"\n    if (start === pos) { return -1; }\n\n    // no empty definitions, e.g. \"  : \"\n    if (pos >= max) { return -1; }\n\n    return start;\n  }\n\n  function markTightParagraphs(state, idx) {\n    var i, l,\n        level = state.level + 2;\n\n    for (i = idx + 2, l = state.tokens.length - 2; i < l; i++) {\n      if (state.tokens[i].level === level && state.tokens[i].type === 'paragraph_open') {\n        state.tokens[i + 2].hidden = true;\n        state.tokens[i].hidden = true;\n        i += 2;\n      }\n    }\n  }\n\n  function deflist(state, startLine, endLine, silent) {\n    var ch,\n        contentStart,\n        ddLine,\n        dtLine,\n        itemLines,\n        listLines,\n        listTokIdx,\n        max,\n        nextLine,\n        offset,\n        oldDDIndent,\n        oldIndent,\n        oldParentType,\n        oldSCount,\n        oldTShift,\n        oldTight,\n        pos,\n        prevEmptyEnd,\n        tight,\n        token;\n\n    if (silent) {\n      // quirk: validation mode validates a dd block only, not a whole deflist\n      if (state.ddIndent < 0) { return false; }\n      return skipMarker(state, startLine) >= 0;\n    }\n\n    nextLine = startLine + 1;\n    if (nextLine >= endLine) { return false; }\n\n    if (state.isEmpty(nextLine)) {\n      nextLine++;\n      if (nextLine >= endLine) { return false; }\n    }\n\n    if (state.sCount[nextLine] < state.blkIndent) { return false; }\n    contentStart = skipMarker(state, nextLine);\n    if (contentStart < 0) { return false; }\n\n    // Start list\n    listTokIdx = state.tokens.length;\n    tight = true;\n\n    token     = state.push('dl_open', 'dl', 1);\n    token.map = listLines = [ startLine, 0 ];\n\n    //\n    // Iterate list items\n    //\n\n    dtLine = startLine;\n    ddLine = nextLine;\n\n    // One definition list can contain multiple DTs,\n    // and one DT can be followed by multiple DDs.\n    //\n    // Thus, there is two loops here, and label is\n    // needed to break out of the second one\n    //\n    /*eslint no-labels:0,block-scoped-var:0*/\n    OUTER:\n    for (;;) {\n      prevEmptyEnd = false;\n\n      token          = state.push('dt_open', 'dt', 1);\n      token.map      = [ dtLine, dtLine ];\n\n      token          = state.push('inline', '', 0);\n      token.map      = [ dtLine, dtLine ];\n      token.content  = state.getLines(dtLine, dtLine + 1, state.blkIndent, false).trim();\n      token.children = [];\n\n      token          = state.push('dt_close', 'dt', -1);\n\n      for (;;) {\n        token     = state.push('dd_open', 'dd', 1);\n        token.map = itemLines = [ nextLine, 0 ];\n\n        pos = contentStart;\n        max = state.eMarks[ddLine];\n        offset = state.sCount[ddLine] + contentStart - (state.bMarks[ddLine] + state.tShift[ddLine]);\n\n        while (pos < max) {\n          ch = state.src.charCodeAt(pos);\n\n          if (isSpace(ch)) {\n            if (ch === 0x09) {\n              offset += 4 - offset % 4;\n            } else {\n              offset++;\n            }\n          } else {\n            break;\n          }\n\n          pos++;\n        }\n\n        contentStart = pos;\n\n        oldTight = state.tight;\n        oldDDIndent = state.ddIndent;\n        oldIndent = state.blkIndent;\n        oldTShift = state.tShift[ddLine];\n        oldSCount = state.sCount[ddLine];\n        oldParentType = state.parentType;\n        state.blkIndent = state.ddIndent = state.sCount[ddLine] + 2;\n        state.tShift[ddLine] = contentStart - state.bMarks[ddLine];\n        state.sCount[ddLine] = offset;\n        state.tight = true;\n        state.parentType = 'deflist';\n\n        state.md.block.tokenize(state, ddLine, endLine, true);\n\n        // If any of list item is tight, mark list as tight\n        if (!state.tight || prevEmptyEnd) {\n          tight = false;\n        }\n        // Item become loose if finish with empty line,\n        // but we should filter last element, because it means list finish\n        prevEmptyEnd = (state.line - ddLine) > 1 && state.isEmpty(state.line - 1);\n\n        state.tShift[ddLine] = oldTShift;\n        state.sCount[ddLine] = oldSCount;\n        state.tight = oldTight;\n        state.parentType = oldParentType;\n        state.blkIndent = oldIndent;\n        state.ddIndent = oldDDIndent;\n\n        token = state.push('dd_close', 'dd', -1);\n\n        itemLines[1] = nextLine = state.line;\n\n        if (nextLine >= endLine) { break OUTER; }\n\n        if (state.sCount[nextLine] < state.blkIndent) { break OUTER; }\n        contentStart = skipMarker(state, nextLine);\n        if (contentStart < 0) { break; }\n\n        ddLine = nextLine;\n\n        // go to the next loop iteration:\n        // insert DD tag and repeat checking\n      }\n\n      if (nextLine >= endLine) { break; }\n      dtLine = nextLine;\n\n      if (state.isEmpty(dtLine)) { break; }\n      if (state.sCount[dtLine] < state.blkIndent) { break; }\n\n      ddLine = dtLine + 1;\n      if (ddLine >= endLine) { break; }\n      if (state.isEmpty(ddLine)) { ddLine++; }\n      if (ddLine >= endLine) { break; }\n\n      if (state.sCount[ddLine] < state.blkIndent) { break; }\n      contentStart = skipMarker(state, ddLine);\n      if (contentStart < 0) { break; }\n\n      // go to the next loop iteration:\n      // insert DT and DD tags and repeat checking\n    }\n\n    // Finilize list\n    token = state.push('dl_close', 'dl', -1);\n\n    listLines[1] = nextLine;\n\n    state.line = nextLine;\n\n    // mark paragraphs tight if needed\n    if (tight) {\n      markTightParagraphs(state, listTokIdx);\n    }\n\n    return true;\n  }\n\n\n  md.block.ruler.before('paragraph', 'deflist', deflist, { alt: [ 'paragraph', 'reference' ] });\n};\n","// Process ^superscript^\n\n'use strict';\n\n// same as UNESCAPE_MD_RE plus a space\nvar UNESCAPE_RE = /\\\\([ \\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\n\nfunction superscript(state, silent) {\n  var found,\n      content,\n      token,\n      max = state.posMax,\n      start = state.pos;\n\n  if (state.src.charCodeAt(start) !== 0x5E/* ^ */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 2 >= max) { return false; }\n\n  state.pos = start + 1;\n\n  while (state.pos < max) {\n    if (state.src.charCodeAt(state.pos) === 0x5E/* ^ */) {\n      found = true;\n      break;\n    }\n\n    state.md.inline.skipToken(state);\n  }\n\n  if (!found || start + 1 === state.pos) {\n    state.pos = start;\n    return false;\n  }\n\n  content = state.src.slice(start + 1, state.pos);\n\n  // don't allow unescaped spaces/newlines inside\n  if (content.match(/(^|[^\\\\])(\\\\\\\\)*\\s/)) {\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 1;\n\n  // Earlier we checked !silent, but this implementation does not need it\n  token         = state.push('sup_open', 'sup', 1);\n  token.markup  = '^';\n\n  token         = state.push('text', '', 0);\n  token.content = content.replace(UNESCAPE_RE, '$1');\n\n  token         = state.push('sup_close', 'sup', -1);\n  token.markup  = '^';\n\n  state.pos = state.posMax + 1;\n  state.posMax = max;\n  return true;\n}\n\n\nmodule.exports = function sup_plugin(md) {\n  md.inline.ruler.after('emphasis', 'sup', superscript);\n};\n","// Process ~subscript~\n\n'use strict';\n\n// same as UNESCAPE_MD_RE plus a space\nvar UNESCAPE_RE = /\\\\([ \\\\!\"#$%&'()*+,.\\/:;<=>?@[\\]^_`{|}~-])/g;\n\n\nfunction subscript(state, silent) {\n  var found,\n      content,\n      token,\n      max = state.posMax,\n      start = state.pos;\n\n  if (state.src.charCodeAt(start) !== 0x7E/* ~ */) { return false; }\n  if (silent) { return false; } // don't run any pairs in validation mode\n  if (start + 2 >= max) { return false; }\n\n  state.pos = start + 1;\n\n  while (state.pos < max) {\n    if (state.src.charCodeAt(state.pos) === 0x7E/* ~ */) {\n      found = true;\n      break;\n    }\n\n    state.md.inline.skipToken(state);\n  }\n\n  if (!found || start + 1 === state.pos) {\n    state.pos = start;\n    return false;\n  }\n\n  content = state.src.slice(start + 1, state.pos);\n\n  // don't allow unescaped spaces/newlines inside\n  if (content.match(/(^|[^\\\\])(\\\\\\\\)*\\s/)) {\n    state.pos = start;\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 1;\n\n  // Earlier we checked !silent, but this implementation does not need it\n  token         = state.push('sub_open', 'sub', 1);\n  token.markup  = '~';\n\n  token         = state.push('text', '', 0);\n  token.content = content.replace(UNESCAPE_RE, '$1');\n\n  token         = state.push('sub_close', 'sub', -1);\n  token.markup  = '~';\n\n  state.pos = state.posMax + 1;\n  state.posMax = max;\n  return true;\n}\n\n\nmodule.exports = function sub_plugin(md) {\n  md.inline.ruler.after('emphasis', 'sub', subscript);\n};\n","// Enclose abbreviations in <abbr> tags\n//\n'use strict';\n\n\nmodule.exports = function sub_plugin(md) {\n  var escapeRE        = md.utils.escapeRE,\n      arrayReplaceAt  = md.utils.arrayReplaceAt;\n\n  // ASCII characters in Cc, Sc, Sm, Sk categories we should terminate on;\n  // you can check character classes here:\n  // http://www.unicode.org/Public/UNIDATA/UnicodeData.txt\n  var OTHER_CHARS      = ' \\r\\n$+<=>^`|~';\n\n  var UNICODE_PUNCT_RE = md.utils.lib.ucmicro.P.source;\n  var UNICODE_SPACE_RE = md.utils.lib.ucmicro.Z.source;\n\n\n  function abbr_def(state, startLine, endLine, silent) {\n    var label, title, ch, labelStart, labelEnd,\n        pos = state.bMarks[startLine] + state.tShift[startLine],\n        max = state.eMarks[startLine];\n\n    if (pos + 2 >= max) { return false; }\n\n    if (state.src.charCodeAt(pos++) !== 0x2A/* * */) { return false; }\n    if (state.src.charCodeAt(pos++) !== 0x5B/* [ */) { return false; }\n\n    labelStart = pos;\n\n    for (; pos < max; pos++) {\n      ch = state.src.charCodeAt(pos);\n      if (ch === 0x5B /* [ */) {\n        return false;\n      } else if (ch === 0x5D /* ] */) {\n        labelEnd = pos;\n        break;\n      } else if (ch === 0x5C /* \\ */) {\n        pos++;\n      }\n    }\n\n    if (labelEnd < 0 || state.src.charCodeAt(labelEnd + 1) !== 0x3A/* : */) {\n      return false;\n    }\n\n    if (silent) { return true; }\n\n    label = state.src.slice(labelStart, labelEnd).replace(/\\\\(.)/g, '$1');\n    title = state.src.slice(labelEnd + 2, max).trim();\n    if (label.length === 0) { return false; }\n    if (title.length === 0) { return false; }\n    if (!state.env.abbreviations) { state.env.abbreviations = {}; }\n    // prepend ':' to avoid conflict with Object.prototype members\n    if (typeof state.env.abbreviations[':' + label] === 'undefined') {\n      state.env.abbreviations[':' + label] = title;\n    }\n\n    state.line = startLine + 1;\n    return true;\n  }\n\n\n  function abbr_replace(state) {\n    var i, j, l, tokens, token, text, nodes, pos, reg, m, regText, regSimple,\n        currentToken,\n        blockTokens = state.tokens;\n\n    if (!state.env.abbreviations) { return; }\n\n    regSimple = new RegExp('(?:' +\n      Object.keys(state.env.abbreviations).map(function (x) {\n        return x.substr(1);\n      }).sort(function (a, b) {\n        return b.length - a.length;\n      }).map(escapeRE).join('|') +\n    ')');\n\n    regText = '(^|' + UNICODE_PUNCT_RE + '|' + UNICODE_SPACE_RE +\n                    '|[' + OTHER_CHARS.split('').map(escapeRE).join('') + '])'\n            + '(' + Object.keys(state.env.abbreviations).map(function (x) {\n                      return x.substr(1);\n                    }).sort(function (a, b) {\n                      return b.length - a.length;\n                    }).map(escapeRE).join('|') + ')'\n            + '($|' + UNICODE_PUNCT_RE + '|' + UNICODE_SPACE_RE +\n                    '|[' + OTHER_CHARS.split('').map(escapeRE).join('') + '])';\n\n    reg = new RegExp(regText, 'g');\n\n    for (j = 0, l = blockTokens.length; j < l; j++) {\n      if (blockTokens[j].type !== 'inline') { continue; }\n      tokens = blockTokens[j].children;\n\n      // We scan from the end, to keep position when new tags added.\n      for (i = tokens.length - 1; i >= 0; i--) {\n        currentToken = tokens[i];\n        if (currentToken.type !== 'text') { continue; }\n\n        pos = 0;\n        text = currentToken.content;\n        reg.lastIndex = 0;\n        nodes = [];\n\n        // fast regexp run to determine whether there are any abbreviated words\n        // in the current token\n        if (!regSimple.test(text)) { continue; }\n\n        while ((m = reg.exec(text))) {\n          if (m.index > 0 || m[1].length > 0) {\n            token         = new state.Token('text', '', 0);\n            token.content = text.slice(pos, m.index + m[1].length);\n            nodes.push(token);\n          }\n\n          token         = new state.Token('abbr_open', 'abbr', 1);\n          token.attrs   = [ [ 'title', state.env.abbreviations[':' + m[2]] ] ];\n          nodes.push(token);\n\n          token         = new state.Token('text', '', 0);\n          token.content = m[2];\n          nodes.push(token);\n\n          token         = new state.Token('abbr_close', 'abbr', -1);\n          nodes.push(token);\n\n          reg.lastIndex -= m[3].length;\n          pos = reg.lastIndex;\n        }\n\n        if (!nodes.length) { continue; }\n\n        if (pos < text.length) {\n          token         = new state.Token('text', '', 0);\n          token.content = text.slice(pos);\n          nodes.push(token);\n        }\n\n        // replace current node\n        blockTokens[j].children = tokens = arrayReplaceAt(tokens, i, nodes);\n      }\n    }\n  }\n\n  md.block.ruler.before('reference', 'abbr_def', abbr_def, { alt: [ 'paragraph', 'reference' ] });\n\n  md.core.ruler.after('linkify', 'abbr_replace', abbr_replace);\n};\n","// Process footnotes\n//\n'use strict';\n\n////////////////////////////////////////////////////////////////////////////////\n// Renderer partials\n\nfunction render_footnote_anchor_name(tokens, idx, options, env/*, slf*/) {\n  var n = Number(tokens[idx].meta.id + 1).toString();\n  var prefix = '';\n\n  if (typeof env.docId === 'string') {\n    prefix = '-' + env.docId + '-';\n  }\n\n  return prefix + n;\n}\n\nfunction render_footnote_caption(tokens, idx/*, options, env, slf*/) {\n  var n = Number(tokens[idx].meta.id + 1).toString();\n\n  if (tokens[idx].meta.subId > 0) {\n    n += ':' + tokens[idx].meta.subId;\n  }\n\n  return '[' + n + ']';\n}\n\nfunction render_footnote_ref(tokens, idx, options, env, slf) {\n  var id      = slf.rules.footnote_anchor_name(tokens, idx, options, env, slf);\n  var caption = slf.rules.footnote_caption(tokens, idx, options, env, slf);\n  var refid   = id;\n\n  if (tokens[idx].meta.subId > 0) {\n    refid += ':' + tokens[idx].meta.subId;\n  }\n\n  return '<sup class=\"footnote-ref\"><a href=\"#fn' + id + '\" id=\"fnref' + refid + '\">' + caption + '</a></sup>';\n}\n\nfunction render_footnote_block_open(tokens, idx, options) {\n  return (options.xhtmlOut ? '<hr class=\"footnotes-sep\" />\\n' : '<hr class=\"footnotes-sep\">\\n') +\n         '<section class=\"footnotes\">\\n' +\n         '<ol class=\"footnotes-list\">\\n';\n}\n\nfunction render_footnote_block_close() {\n  return '</ol>\\n</section>\\n';\n}\n\nfunction render_footnote_open(tokens, idx, options, env, slf) {\n  var id = slf.rules.footnote_anchor_name(tokens, idx, options, env, slf);\n\n  if (tokens[idx].meta.subId > 0) {\n    id += ':' + tokens[idx].meta.subId;\n  }\n\n  return '<li id=\"fn' + id + '\" class=\"footnote-item\">';\n}\n\nfunction render_footnote_close() {\n  return '</li>\\n';\n}\n\nfunction render_footnote_anchor(tokens, idx, options, env, slf) {\n  var id = slf.rules.footnote_anchor_name(tokens, idx, options, env, slf);\n\n  if (tokens[idx].meta.subId > 0) {\n    id += ':' + tokens[idx].meta.subId;\n  }\n\n  /* ↩ with escape code to prevent display as Apple Emoji on iOS */\n  return ' <a href=\"#fnref' + id + '\" class=\"footnote-backref\">\\u21a9\\uFE0E</a>';\n}\n\n\nmodule.exports = function footnote_plugin(md) {\n  var parseLinkLabel = md.helpers.parseLinkLabel,\n      isSpace = md.utils.isSpace;\n\n  md.renderer.rules.footnote_ref          = render_footnote_ref;\n  md.renderer.rules.footnote_block_open   = render_footnote_block_open;\n  md.renderer.rules.footnote_block_close  = render_footnote_block_close;\n  md.renderer.rules.footnote_open         = render_footnote_open;\n  md.renderer.rules.footnote_close        = render_footnote_close;\n  md.renderer.rules.footnote_anchor       = render_footnote_anchor;\n\n  // helpers (only used in other rules, no tokens are attached to those)\n  md.renderer.rules.footnote_caption      = render_footnote_caption;\n  md.renderer.rules.footnote_anchor_name  = render_footnote_anchor_name;\n\n  // Process footnote block definition\n  function footnote_def(state, startLine, endLine, silent) {\n    var oldBMark, oldTShift, oldSCount, oldParentType, pos, label, token,\n        initial, offset, ch, posAfterColon,\n        start = state.bMarks[startLine] + state.tShift[startLine],\n        max = state.eMarks[startLine];\n\n    // line should be at least 5 chars - \"[^x]:\"\n    if (start + 4 > max) { return false; }\n\n    if (state.src.charCodeAt(start) !== 0x5B/* [ */) { return false; }\n    if (state.src.charCodeAt(start + 1) !== 0x5E/* ^ */) { return false; }\n\n    for (pos = start + 2; pos < max; pos++) {\n      if (state.src.charCodeAt(pos) === 0x20) { return false; }\n      if (state.src.charCodeAt(pos) === 0x5D /* ] */) {\n        break;\n      }\n    }\n\n    if (pos === start + 2) { return false; } // no empty footnote labels\n    if (pos + 1 >= max || state.src.charCodeAt(++pos) !== 0x3A /* : */) { return false; }\n    if (silent) { return true; }\n    pos++;\n\n    if (!state.env.footnotes) { state.env.footnotes = {}; }\n    if (!state.env.footnotes.refs) { state.env.footnotes.refs = {}; }\n    label = state.src.slice(start + 2, pos - 2);\n    state.env.footnotes.refs[':' + label] = -1;\n\n    token       = new state.Token('footnote_reference_open', '', 1);\n    token.meta  = { label: label };\n    token.level = state.level++;\n    state.tokens.push(token);\n\n    oldBMark = state.bMarks[startLine];\n    oldTShift = state.tShift[startLine];\n    oldSCount = state.sCount[startLine];\n    oldParentType = state.parentType;\n\n    posAfterColon = pos;\n    initial = offset = state.sCount[startLine] + pos - (state.bMarks[startLine] + state.tShift[startLine]);\n\n    while (pos < max) {\n      ch = state.src.charCodeAt(pos);\n\n      if (isSpace(ch)) {\n        if (ch === 0x09) {\n          offset += 4 - offset % 4;\n        } else {\n          offset++;\n        }\n      } else {\n        break;\n      }\n\n      pos++;\n    }\n\n    state.tShift[startLine] = pos - posAfterColon;\n    state.sCount[startLine] = offset - initial;\n\n    state.bMarks[startLine] = posAfterColon;\n    state.blkIndent += 4;\n    state.parentType = 'footnote';\n\n    if (state.sCount[startLine] < state.blkIndent) {\n      state.sCount[startLine] += state.blkIndent;\n    }\n\n    state.md.block.tokenize(state, startLine, endLine, true);\n\n    state.parentType = oldParentType;\n    state.blkIndent -= 4;\n    state.tShift[startLine] = oldTShift;\n    state.sCount[startLine] = oldSCount;\n    state.bMarks[startLine] = oldBMark;\n\n    token       = new state.Token('footnote_reference_close', '', -1);\n    token.level = --state.level;\n    state.tokens.push(token);\n\n    return true;\n  }\n\n  // Process inline footnotes (^[...])\n  function footnote_inline(state, silent) {\n    var labelStart,\n        labelEnd,\n        footnoteId,\n        token,\n        tokens,\n        max = state.posMax,\n        start = state.pos;\n\n    if (start + 2 >= max) { return false; }\n    if (state.src.charCodeAt(start) !== 0x5E/* ^ */) { return false; }\n    if (state.src.charCodeAt(start + 1) !== 0x5B/* [ */) { return false; }\n\n    labelStart = start + 2;\n    labelEnd = parseLinkLabel(state, start + 1);\n\n    // parser failed to find ']', so it's not a valid note\n    if (labelEnd < 0) { return false; }\n\n    // We found the end of the link, and know for a fact it's a valid link;\n    // so all that's left to do is to call tokenizer.\n    //\n    if (!silent) {\n      if (!state.env.footnotes) { state.env.footnotes = {}; }\n      if (!state.env.footnotes.list) { state.env.footnotes.list = []; }\n      footnoteId = state.env.footnotes.list.length;\n\n      state.md.inline.parse(\n        state.src.slice(labelStart, labelEnd),\n        state.md,\n        state.env,\n        tokens = []\n      );\n\n      token      = state.push('footnote_ref', '', 0);\n      token.meta = { id: footnoteId };\n\n      state.env.footnotes.list[footnoteId] = {\n        content: state.src.slice(labelStart, labelEnd),\n        tokens: tokens\n      };\n    }\n\n    state.pos = labelEnd + 1;\n    state.posMax = max;\n    return true;\n  }\n\n  // Process footnote references ([^...])\n  function footnote_ref(state, silent) {\n    var label,\n        pos,\n        footnoteId,\n        footnoteSubId,\n        token,\n        max = state.posMax,\n        start = state.pos;\n\n    // should be at least 4 chars - \"[^x]\"\n    if (start + 3 > max) { return false; }\n\n    if (!state.env.footnotes || !state.env.footnotes.refs) { return false; }\n    if (state.src.charCodeAt(start) !== 0x5B/* [ */) { return false; }\n    if (state.src.charCodeAt(start + 1) !== 0x5E/* ^ */) { return false; }\n\n    for (pos = start + 2; pos < max; pos++) {\n      if (state.src.charCodeAt(pos) === 0x20) { return false; }\n      if (state.src.charCodeAt(pos) === 0x0A) { return false; }\n      if (state.src.charCodeAt(pos) === 0x5D /* ] */) {\n        break;\n      }\n    }\n\n    if (pos === start + 2) { return false; } // no empty footnote labels\n    if (pos >= max) { return false; }\n    pos++;\n\n    label = state.src.slice(start + 2, pos - 1);\n    if (typeof state.env.footnotes.refs[':' + label] === 'undefined') { return false; }\n\n    if (!silent) {\n      if (!state.env.footnotes.list) { state.env.footnotes.list = []; }\n\n      if (state.env.footnotes.refs[':' + label] < 0) {\n        footnoteId = state.env.footnotes.list.length;\n        state.env.footnotes.list[footnoteId] = { label: label, count: 0 };\n        state.env.footnotes.refs[':' + label] = footnoteId;\n      } else {\n        footnoteId = state.env.footnotes.refs[':' + label];\n      }\n\n      footnoteSubId = state.env.footnotes.list[footnoteId].count;\n      state.env.footnotes.list[footnoteId].count++;\n\n      token      = state.push('footnote_ref', '', 0);\n      token.meta = { id: footnoteId, subId: footnoteSubId, label: label };\n    }\n\n    state.pos = pos;\n    state.posMax = max;\n    return true;\n  }\n\n  // Glue footnote tokens to end of token stream\n  function footnote_tail(state) {\n    var i, l, j, t, lastParagraph, list, token, tokens, current, currentLabel,\n        insideRef = false,\n        refTokens = {};\n\n    if (!state.env.footnotes) { return; }\n\n    state.tokens = state.tokens.filter(function (tok) {\n      if (tok.type === 'footnote_reference_open') {\n        insideRef = true;\n        current = [];\n        currentLabel = tok.meta.label;\n        return false;\n      }\n      if (tok.type === 'footnote_reference_close') {\n        insideRef = false;\n        // prepend ':' to avoid conflict with Object.prototype members\n        refTokens[':' + currentLabel] = current;\n        return false;\n      }\n      if (insideRef) { current.push(tok); }\n      return !insideRef;\n    });\n\n    if (!state.env.footnotes.list) { return; }\n    list = state.env.footnotes.list;\n\n    token = new state.Token('footnote_block_open', '', 1);\n    state.tokens.push(token);\n\n    for (i = 0, l = list.length; i < l; i++) {\n      token      = new state.Token('footnote_open', '', 1);\n      token.meta = { id: i, label: list[i].label };\n      state.tokens.push(token);\n\n      if (list[i].tokens) {\n        tokens = [];\n\n        token          = new state.Token('paragraph_open', 'p', 1);\n        token.block    = true;\n        tokens.push(token);\n\n        token          = new state.Token('inline', '', 0);\n        token.children = list[i].tokens;\n        token.content  = list[i].content;\n        tokens.push(token);\n\n        token          = new state.Token('paragraph_close', 'p', -1);\n        token.block    = true;\n        tokens.push(token);\n\n      } else if (list[i].label) {\n        tokens = refTokens[':' + list[i].label];\n      }\n\n      state.tokens = state.tokens.concat(tokens);\n      if (state.tokens[state.tokens.length - 1].type === 'paragraph_close') {\n        lastParagraph = state.tokens.pop();\n      } else {\n        lastParagraph = null;\n      }\n\n      t = list[i].count > 0 ? list[i].count : 1;\n      for (j = 0; j < t; j++) {\n        token      = new state.Token('footnote_anchor', '', 0);\n        token.meta = { id: i, subId: j, label: list[i].label };\n        state.tokens.push(token);\n      }\n\n      if (lastParagraph) {\n        state.tokens.push(lastParagraph);\n      }\n\n      token = new state.Token('footnote_close', '', -1);\n      state.tokens.push(token);\n    }\n\n    token = new state.Token('footnote_block_close', '', -1);\n    state.tokens.push(token);\n  }\n\n  md.block.ruler.before('reference', 'footnote_def', footnote_def, { alt: [ 'paragraph', 'reference' ] });\n  md.inline.ruler.after('image', 'footnote_inline', footnote_inline);\n  md.inline.ruler.after('footnote_inline', 'footnote_ref', footnote_ref);\n  md.core.ruler.after('inline', 'footnote_tail', footnote_tail);\n};\n","export const addition = {\n  regex: /\\{\\+\\+(.*?)\\+\\+\\}/gs,\n  validate: () => true,\n  annotate(match) {\n    return { type: \"addition\", ...match };\n  },\n  render(_, match) {\n    if (match.trim() === \"\") {\n      return `\\n\\n<ins class=\"break\">&nbsp;</ins>\\n\\n`;\n    }\n\n    return `<ins>${match}</ins>`;\n  }\n};\n","export const deletion = {\n  regex: /\\{--(.*?)--\\}/gs,\n  validate: () => true,\n  annotate(match) {\n    return { type: \"deletion\", ...match };\n  },\n  render(_, match) {\n    if (match.trim() === \"\") {\n      return `<del>&nbsp;</del> `;\n    }\n\n    return `<del>${match}</del>`;\n  }\n};\n","import { addition } from \"./addition\";\nimport { deletion } from \"./deletion\";\n\nexport const substitution = {\n  regex: /\\{~~(.*?)~>(.*?)~~\\}/gs,\n  validate: () => true,\n  annotate(match) {\n    return { type: \"substitution\", ...match };\n  },\n  render(_, match1, match2) {\n    return deletion.render(_, match1) + addition.render(_, match2).trimLeft();\n  }\n};\n","const ignorePattern = \"==}\";\n\nexport const comment = {\n  regex: /\\{>>(.*?)<<\\}/gs,\n  validate: ({ input, index }) =>\n    input.substr(index - ignorePattern.length, ignorePattern.length) !== ignorePattern,\n  annotate(match) {\n    return { type: \"comment\", ...match };\n  },\n  render(_, match) {\n    return `<span class=\"critic comment\">${match}</span>`;\n  }\n};\n","import { comment } from \"./comment\";\n\nexport const highlight = {\n  regex: /\\{==(.*?)==\\}\\{>>(.*?)<<\\}/gs,\n  validate: () => true,\n  annotate(match) {\n    return { type: \"highlight\", ...match };\n  },\n  render(_, match1, match2) {\n    return `<mark>${match1}</mark>${comment.render(_, match2)}`;\n  }\n};\n","import { matchAll } from \"./utils/match-all\";\nimport { addition } from \"./syntax/addition\";\nimport { deletion } from \"./syntax/deletion\";\nimport { substitution } from \"./syntax/substitution\";\nimport { comment } from \"./syntax/comment\";\nimport { highlight } from \"./syntax/highlight\";\n\nfunction matchSortComparator(match1, match2) {\n  return match1.start - match2.start;\n}\n\nexport function parse(text) {\n  const substitutions = matchAll(text, substitution).map(substitution.annotate);\n  const additions = matchAll(text, addition).map(addition.annotate);\n  const deletions = matchAll(text, deletion).map(deletion.annotate);\n  const highlights = matchAll(text, highlight).map(highlight.annotate);\n  const comments = matchAll(text, comment).map(comment.annotate);\n\n  const allMatches = [...substitutions, ...additions, ...deletions, ...highlights, ...comments];\n  return allMatches.sort(matchSortComparator);\n}\n\nexport function render(text) {\n  return text\n    .replace(substitution.regex, substitution.render)\n    .replace(addition.regex, addition.render)\n    .replace(deletion.regex, deletion.render)\n    .replace(highlight.regex, highlight.render)\n    .replace(comment.regex, comment.render);\n}\n","import { render } from \"critic-markup\";\n\nfunction criticMarkupRule(state) {\n  state.src = render(state.src);\n}\n\nfunction markdownItCriticMarkup(md) {\n  md.core.ruler.before(\"block\", \"critic-markup\", criticMarkupRule);\n}\n\nexport default markdownItCriticMarkup;\n","import MarkdownIt from \"markdown-it\";\r\n\r\nimport anchor from \"markdown-it-anchor\";\r\nimport deflist from \"markdown-it-deflist\";\r\nimport sup from \"markdown-it-sup\";\r\nimport sub from \"markdown-it-sub\";\r\nimport abbr from \"markdown-it-abbr\";\r\nimport footnote from \"markdown-it-footnote\";\r\n\r\nimport critic from \"./syntax/critic\";\r\n\r\nconst parser = new MarkdownIt(\"commonmark\");\r\n\r\nparser.set({ typographer: true });\r\nparser.enable(\"replacements\").enable(\"table\");\r\nparser\r\n  .use(anchor, [1, 2, 3])\r\n  .use(deflist)\r\n  .use(sup)\r\n  .use(sub)\r\n  .use(abbr)\r\n  .use(footnote)\r\n  .use(critic);\r\n\r\nexport const parse = parser.parse.bind(parser);\r\nexport const render = parser.render.bind(parser);\r\n"],"names":["require$$0","encodeCache","getEncodeCache","exclude","i","ch","cache","String","fromCharCode","test","push","toString","toUpperCase","slice","length","charCodeAt","encode","string","keepEscaped","l","code","nextCode","result","defaultChars","encodeURIComponent","componentChars","decodeCache","getDecodeCache","decode","replace","seq","b1","b2","b3","b4","chr","parseInt","format","url","protocol","slashes","auth","hostname","indexOf","port","pathname","search","hash","Url","protocolPattern","portPattern","simplePathPattern","delims","unwise","concat","autoEscape","nonHostChars","hostEndingChars","hostnameMaxLen","hostnamePartPattern","hostnamePartStart","hostlessProtocol","slashedProtocol","urlParse","slashesDenoteHost","u","parse","prototype","lowerProto","hec","rest","trim","split","simplePath","exec","proto","toLowerCase","substr","match","hostEnd","atSign","lastIndexOf","host","parseHost","ipv6Hostname","hostparts","part","newpart","j","k","validParts","notHost","bit","unshift","join","qm","require$$1","require$$2","require$$3","require$$4","_class","obj","Object","call","isString","_hasOwnProperty","hasOwnProperty","has","object","key","assign","sources","Array","arguments","forEach","source","TypeError","keys","arrayReplaceAt","src","pos","newElements","isValidEntityCode","c","fromCodePoint","surrogate1","surrogate2","UNESCAPE_MD_RE","ENTITY_RE","UNESCAPE_ALL_RE","RegExp","DIGITAL_ENTITY_TEST_RE","replaceEntityPattern","name","entities","unescapeMd","str","unescapeAll","escaped","entity","HTML_ESCAPE_TEST_RE","HTML_ESCAPE_REPLACE_RE","HTML_REPLACEMENTS","replaceUnsafeChar","escapeHtml","REGEXP_ESCAPE_RE","escapeRE","isSpace","isWhiteSpace","isPunctChar","UNICODE_PUNCT_RE","isMdAsciiPunct","normalizeReference","exports","lib","mdurl","ucmicro","parseLinkLabel","state","start","disableNested","level","found","marker","prevPos","labelEnd","max","posMax","oldPos","md","inline","skipToken","parseLinkDestination","lines","ok","parseLinkTitle","default_rules","code_inline","tokens","idx","options","env","slf","token","renderAttrs","content","code_block","fence","info","langName","highlighted","tmpAttrs","tmpToken","highlight","attrIndex","attrs","langPrefix","image","renderInlineAsText","children","renderToken","hardbreak","xhtmlOut","softbreak","breaks","text","html_block","html_inline","Renderer","rules","nextToken","needLf","hidden","block","nesting","tag","type","renderInline","len","render","Ruler","__rules__","__cache__","__find__","__compile__","self","chains","rule","enabled","alt","altName","chain","fn","at","index","opt","Error","before","beforeName","ruleName","splice","after","afterName","enable","list","ignoreInvalid","isArray","enableOnly","disable","getRules","chainName","NEWLINES_RE","NULL_RE","normalize","inlineMode","Token","map","tok","isLinkOpen","isLinkClose","linkify","currentToken","nodes","ln","lastPos","htmlLinkLevel","fullUrl","urlText","blockTokens","links","pretest","normalizeLink","validateLink","schema","normalizeLinkText","markup","lastIndex","RARE_RE","SCOPED_ABBR_TEST_RE","SCOPED_ABBR_RE","SCOPED_ABBR","r","p","tm","replaceFn","replace_scoped","inlineTokens","inside_autolink","replace_rare","blkIdx","typographer","QUOTE_TEST_RE","QUOTE_RE","APOSTROPHE","replaceAt","process_inlines","t","thisLevel","item","lastChar","nextChar","isLastPunctChar","isNextPunctChar","isLastWhiteSpace","isNextWhiteSpace","canOpen","canClose","isSingle","stack","openQuote","closeQuote","OUTER","single","quotes","smartquotes","meta","attrPush","attrData","attrSet","value","attrGet","attrJoin","StateCore","_rules","require$$5","Core","ruler","process","State","require$$6","getLine","line","bMarks","blkIndent","eMarks","escapedSplit","escapes","backTicked","lastBackTick","substring","table","startLine","endLine","silent","lineText","nextLine","columns","columnCount","aligns","tableLines","tbodyLines","sCount","tShift","last","isEmpty","getLines","params","mem","haveEndMarker","skipChars","skipSpaces","blockquote","adjustTab","initial","lastLineEmpty","offset","oldBMarks","oldBSCount","oldIndent","oldParentType","oldSCount","oldTShift","spaceAfterMarker","terminate","terminatorRules","wasOutdented","oldLineMax","lineMax","bsCount","parentType","tokenize","hr","cnt","skipBulletListMarker","skipOrderedListMarker","markTightParagraphs","contentStart","indent","indentAfterMarker","isOrdered","itemLines","listLines","listTokIdx","markerCharCode","markerValue","oldListIndent","oldTight","posAfterMarker","prevEmptyEnd","isTerminatingParagraph","tight","listIndent","Number","Math","min","reference","_endLine","destEndPos","destEndLineNo","href","label","res","title","helpers","references","heading","tmp","skipSpacesBack","skipCharsBack","lheading","attr_name","unquoted","single_quoted","double_quoted","attr_value","attribute","open_tag","close_tag","comment","processing","declaration","cdata","HTML_TAG_RE","HTML_OPEN_CLOSE_TAG_RE","HTML_SEQUENCES","block_names","html","paragraph","StateBlock","s","indent_found","ddIndent","skipEmptyLines","from","begin","end","keepLastLF","lineIndent","first","queue","lineStart","require$$7","require$$8","require$$9","require$$10","ParserBlock","hasEmptyLines","maxNesting","outTokens","require$$11","isTerminatorChar","pending","newline","pmax","ESCAPED","escape","backtick","matchStart","matchEnd","strikethrough","scanned","scanDelims","delimiters","jump","open","can_open","close","can_close","postProcess","startDelim","endDelim","loneMarkers","pop","curr","tokens_meta","emphasis","isStrong","link","labelStart","ref","parseReference","EMAIL_RE","AUTOLINK_RE","autolink","tail","linkMatch","emailMatch","isLetter","lc","DIGITAL_RE","NAMED_RE","processDelimiters","closerIdx","openerIdx","closer","opener","minOpenerIdx","newMinOpenerIdx","isOddMatch","lastJump","openersBottom","link_pairs","text_collapse","StateInline","pendingLevel","_prev_delimiters","pushPending","token_meta","canSplitWord","count","left_flanking","right_flanking","_rules2","require$$12","ParserInline","ruler2","require$$13","opts","re","src_Any","src_Cc","src_Z","src_P","src_ZPCc","src_ZCc","text_separators","src_pseudo_letter","src_ip4","src_auth","src_port","src_host_terminator","src_path","src_email_name","src_xn","src_domain_root","src_domain","src_host","tpl_host_fuzzy","tpl_host_no_ip_fuzzy","src_host_strict","tpl_host_fuzzy_strict","src_host_port_strict","tpl_host_port_fuzzy_strict","tpl_host_port_no_ip_fuzzy_strict","tpl_host_fuzzy_test","tpl_email_fuzzy","tpl_link_fuzzy","tpl_link_no_ip_fuzzy","isObject","isRegExp","isFunction","defaultOptions","fuzzyLink","fuzzyEmail","fuzzyIP","isOptionsObj","reduce","acc","defaultSchemas","validate","http","no_http","mailto","tlds_2ch_src_re","tlds_default","resetScanCache","__index__","__text_cache__","createValidator","createNormalizer","compile","__opts__","tlds","__tlds__","onCompile","__tlds_replaced__","src_tlds","untpl","tpl","email_fuzzy","link_fuzzy","link_no_ip_fuzzy","host_fuzzy_test","aliases","__compiled__","schemaError","val","__schemas__","compiled","alias","slist","filter","schema_test","schema_search","Match","shift","__last_index__","__schema__","raw","createMatch","LinkifyIt","schemas","add","definition","set","m","ml","me","next","tld_pos","at_pos","testSchemaAt","keepOld","sort","el","arr","reverse","maxInt","base","tMin","tMax","skew","damp","initialBias","initialN","delimiter","regexPunycode","regexNonASCII","regexSeparators","errors","baseMinusTMin","floor","stringFromCharCode","error","RangeError","array","mapDomain","parts","labels","encoded","ucs2decode","output","counter","extra","ucs2encode","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","input","inputLength","n","bias","basic","oldi","w","baseMinusT","out","currentValue","basicLength","handledCPCount","handledCPCountPlusOne","q","qMinusT","toUnicode","toASCII","punycode","components","core","rules2","config","zero","commonmark","BAD_PROTO_RE","GOOD_DATA_RE","RECODE_HOSTNAME_FOR","parsed","er","MarkdownIt","presetName","utils","ParserCore","renderer","configure","presets","missed","use","plugin","args","apply","parseInline","false","true","e","defaults","o","includes","slugify","permalink","renderPermalink","callback","slug","permalinkClass","permalinkHref","permalinkSymbol","permalinkSpace","permalinkBefore","deflist_plugin","skipMarker","deflist","ddLine","dtLine","oldDDIndent","UNESCAPE_RE","superscript","sup_plugin","subscript","sub_plugin","OTHER_CHARS","P","UNICODE_SPACE_RE","Z","abbr_def","abbreviations","abbr_replace","reg","regText","regSimple","x","a","b","render_footnote_anchor_name","id","prefix","docId","render_footnote_caption","subId","render_footnote_ref","footnote_anchor_name","caption","footnote_caption","refid","render_footnote_block_open","render_footnote_block_close","render_footnote_open","render_footnote_close","render_footnote_anchor","footnote_plugin","footnote_ref","footnote_block_open","footnote_block_close","footnote_open","footnote_close","footnote_anchor","footnote_def","oldBMark","posAfterColon","footnotes","refs","footnote_inline","footnoteId","footnoteSubId","footnote_tail","lastParagraph","current","currentLabel","insideRef","refTokens","addition","regex","annotate","_","deletion","substitution","match1","match2","trimLeft","ignorePattern","criticMarkupRule","markdownItCriticMarkup","parser","anchor","sup","sub","abbr","footnote","critic","bind"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}